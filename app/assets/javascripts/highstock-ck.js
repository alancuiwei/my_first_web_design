/*
 Highstock JS v1.2.4 (2012-10-08)

 (c) 2009-2012 Torstein Hønsi

 License: www.highcharts.com/license
*/(function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){for(var e=0,t=arguments,n=t.length,r={};e<n;e++)r[t[e++]]=t[e];return r}function n(e,t){return parseInt(e,t||10)}function r(e){return typeof e=="string"}function i(e){return typeof e=="object"}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){return typeof e=="number"}function u(e){return $.log(e)/$.LN10}function a(e){return $.pow(10,e)}function f(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==W&&e!==null}function c(e,t,n){var s,o;if(r(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(l(t)&&i(t))for(s in t)e.setAttribute(s,t[s]);return o}function h(e){return s(e)?e:[e]}function p(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],typeof n!="undefined"&&n!==null)return n}function d(t,n){ot&&n&&n.opacity!==W&&(n.filter="alpha(opacity="+n.opacity*100+")");e(t.style,n)}function v(t,n,r,i,s){t=X.createElement(t);n&&e(t,n);s&&d(t,{padding:0,border:Ct,margin:0});r&&d(t,r);i&&i.appendChild(t);return t}function m(t,n){var r=function(){};r.prototype=new t;e(r.prototype,n);return r}function g(e,t,r,i){var s=bt.lang,o=e;t===-1?(t=(e||0).toString(),e=t.indexOf(".")>-1?t.split(".")[1].length:0):e=isNaN(t=Z(t))?2:t;var t=e,r=r===void 0?s.decimalPoint:r,i=i===void 0?s.thousandsSep:i,s=o<0?"-":"",e=String(n(o=Z(+o||0).toFixed(t))),u=e.length>3?e.length%3:0;return s+(u?e.substr(0,u)+i:"")+e.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?r+Z(o-e).toFixed(t).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function w(e,t,n,r){var i,n=p(n,1);i=e/n;t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2)break;e*=n;return e}function E(e,t){var n=t||[[Lt,[1,2,5,10,20,25,50,100,200,500]],[At,[1,2,5,10,15,30]],[Ot,[1,2,5,10,15,30]],[Mt,[1,2,3,4,6,8,12]],[_t,[1,2]],[Dt,[1,2]],[Pt,[1,2,3,4,6]],[Ht,null]],r=n[n.length-1],i=xt[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=xt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+xt[n[o+1][0]])/2)break;i===xt[Ht]&&e<5*i&&(s=[1,2,5]);i===xt[Ht]&&e<5*i&&(s=[1,2,5]);n=w(e/i,s);return{unitRange:i,count:n,unitName:r[0]}}function S(t,n,r,i){var s=[],o={},u=bt.global.useUTC,a,f=new Date(n),n=t.unitRange,l=t.count;n>=xt[At]&&(f.setMilliseconds(0),f.setSeconds(n>=xt[Ot]?0:l*K(f.getSeconds()/l)));n>=xt[Ot]&&f[zt](n>=xt[Mt]?0:l*K(f[jt]()/l));n>=xt[Mt]&&f[Wt](n>=xt[_t]?0:l*K(f[Ft]()/l));n>=xt[_t]&&f[Xt](n>=xt[Pt]?1:l*K(f[qt]()/l));n>=xt[Pt]&&(f[Vt](n>=xt[Ht]?0:l*K(f[Rt]()/l)),a=f[Ut]());n>=xt[Ht]&&(a-=a%l,f[$t](a));n===xt[Dt]&&f[Xt](f[qt]()-f[It]()+p(i,1));i=1;a=f[Ut]();for(var c=f.getTime(),h=f[Rt](),d=f[qt](),f=u?0:(864e5+f.getTimezoneOffset()*6e4)%864e5;c<r;)s.push(c),n===xt[Ht]?c=Bt(a+i*l,0):n===xt[Pt]?c=Bt(a,h+i*l):!!u||n!==xt[_t]&&n!==xt[Dt]?(c+=n*l,n<=xt[Mt]&&c%xt[_t]===f&&(o[c]=_t)):c=Bt(a,h,d+i*l*(n===xt[_t]?1:7)),i++;s.push(c);s.info=e(t,{higherRanks:o,totalRange:n*l});return s}function x(){this.symbol=this.color=0}function T(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){r=t(e,n);return r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function N(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function C(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function k(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function L(e){yt||(yt=v(Nt));e&&yt.appendChild(e);yt.innerHTML=""}function A(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;V.console&&console.log(n)}function O(e){return parseFloat(e.toPrecision(14))}function M(e,t){Et=p(e,t.animation)}function _(){var e=bt.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Bt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,p(n,1),p(r,0),p(i,0),p(s,0))).getTime()};jt=t+"Minutes";Ft=t+"Hours";It=t+"Day";qt=t+"Date";Rt=t+"Month";Ut=t+"FullYear";zt=n+"Minutes";Wt=n+"Hours";Xt=n+"Date";Vt=n+"Month";$t=n+"FullYear"}function D(){}function P(e,t,n){this.axis=e;this.pos=t;this.type=n||"";this.isNew=!0;n||this.addLabel()}function H(e,t){this.axis=e;t&&(this.options=t,this.id=t.id);return this}function B(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.stack=i;this.percent=s==="percent";this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:p(t.y,o?4:n?14:-6),x:p(t.x,o?n?-6:6:0)};this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function j(){this.init.apply(this,arguments)}function F(e,t){var r=t.borderWidth,i=t.style,s=n(i.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).hide().add();pt||this.label.shadow(t.shadow);this.shared=t.shared}function I(e,t){var n=pt?"":t.chart.zoomType;this.zoomX=/x/.test(n);this.zoomY=/y/.test(n);this.options=t;this.chart=e;this.init(e,t.tooltip)}function q(e){this.init(e)}function R(e,t){var n,r=e.series;e.series=null;n=sn(bt,e);n.series=e.series=r;var r=n.chart,s=r.margin,s=i(s)?s:[s,s,s,s];this.optionsMarginTop=p(r.marginTop,s[0]);this.optionsMarginRight=p(r.marginRight,s[1]);this.optionsMarginBottom=p(r.marginBottom,s[2]);this.optionsMarginLeft=p(r.marginLeft,s[3]);this.runChartClick=(s=r.events)&&!!s.click;this.callback=t;this.isResizing=0;this.options=n;this.axes=[];this.series=[];this.hasCartesianSeries=r.showAxes;this.init(s)}function U(e){var t=e.options,n=t.navigator,r=n.enabled,t=t.scrollbar,i=t.enabled,s=r?n.height:0,o=i?t.height:0,u=n.baseSeries;this.baseSeries=e.series[u]||typeof u=="string"&&e.get(u)||e.series[0];this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=e;this.height=s;this.scrollbarHeight=o;this.scrollbarEnabled=i;this.navigatorEnabled=r;this.navigatorOptions=n;this.scrollbarOptions=t;this.outlineHeight=s+o;this.init()}function z(e){this.chart=e;this.buttons=[];this.boxSpanElements={};this.init([{type:"month",count:1,text:"1个月"},{type:"month",count:3,text:"3个月"},{type:"month",count:6,text:"6个月"},{type:"year",count:1,text:"1年"},{type:"all",text:"所有"}])}var W,X=document,V=window,$=Math,J=$.round,K=$.floor,Q=$.ceil,G=$.max,Y=$.min,Z=$.abs,et=$.cos,tt=$.sin,nt=$.PI,rt=nt*2/360,it=navigator.userAgent,st=V.opera,ot=/msie/i.test(it)&&!st,ut=X.documentMode===8,at=/AppleWebKit/.test(it),ft=/Firefox/.test(it),lt="http://www.w3.org/2000/svg",ct=!!X.createElementNS&&!!X.createElementNS(lt,"svg").createSVGRect,ht=ft&&parseInt(it.split("Firefox/")[1],10)<4,pt=!ct&&!ot&&!!X.createElement("canvas").getContext,dt,vt=X.documentElement.ontouchstart!==W,mt={},gt=0,yt,bt,wt,Et,St,xt,Tt=function(){},Nt="div",Ct="none",kt="rgba(192,192,192,"+(ct?1e-6:.002)+")",Lt="millisecond",At="second",Ot="minute",Mt="hour",_t="day",Dt="week",Pt="month",Ht="year",Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt={};V.Highcharts={};wt=function(e,t,n){if(!l(t)||isNaN(t))return"Invalid date";var e=p(e,"%Y-%m-%d %H:%M:%S"),r=new Date(t),i,s=r[Ft](),o=r[It](),u=r[qt](),a=r[Rt](),f=bt.lang,c=r[Ut]()+"年"+f.months[a],h=f.weekdays,t={a:h[o].substr(0,3),A:h[o],d:y(u),e:u,b:"",B:"",m:y(a+1),y:c.toString().substr(2,2)+"年"+f.months[a],Y:c,H:y(s),I:y(s%12||12),l:s%12||12,M:y(r[jt]()),p:s<12?"AM":"PM",P:s<12?"am":"pm",S:y(r.getSeconds()),L:y(J(t%1e3),3)};for(i in t)e=e.replace("%"+i,t[i]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e};x.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}};xt=t(Lt,1,At,1e3,Ot,6e4,Mt,36e5,_t,864e5,Dt,6048e5,Pt,2592e6,Ht,31556952e3);St={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n));e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);u&&(t=t.concat(u),n=n.concat(a));return[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}};(function(t){V.HighchartsAdapter=V.HighchartsAdapter||t&&{init:function(e){var n=t.fx,r=n.step,i,s=t.Tween,o=s&&s.propHooks;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});t.each(["cur","_default","width","height"],function(e,t){var i=r,u,a;t==="cur"?i=n.prototype:t==="_default"&&s&&(i=o[t],t="set");(u=i[t])&&(i[t]=function(n){n=e?n:this;a=n.elem;return a.attr?a.attr(n.prop,t==="cur"?W:n.now):u.apply(this,arguments)})});i=function(t){var n=t.elem,r;t.started||(r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0);n.attr("d",e.step(t.start,t.end,t.pos,n.toD))};s?o.d={set:i}:r.d=i;this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},merge:function(){var e=arguments;return t.extend(!0,null,e[0],e[1],e[2],e[3])},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=X.removeEventListener?"removeEventListener":"detachEvent";X[i]&&!e[i]&&(e[i]=function(){});t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!ot&&i&&(delete i.layerX,delete i.layerY);e(o,i);n[r]&&(n[u]=n[r],n[r]=null);t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){t==="preventDefault"&&(a=!0)}}});t(n).trigger(o);n[u]&&(n[r]=n[u],n[u]=null);s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;t.pageX===W&&(t.pageX=e.pageX,t.pageY=e.pageY);return t},animate:function(e,n,r){var i=t(e);n.d&&(e.toD=n.d,n.d=1);i.stop();i.animate(n,r)},stop:function(e){t(e).stop()}}})(V.jQuery);var Kt=V.HighchartsAdapter,Qt=Kt||{};Kt&&Kt.init.call(Kt,St);var Gt=Qt.adapterRun,Yt=Qt.getScript,Zt=Qt.inArray,en=Qt.each,tn=Qt.grep,nn=Qt.offset,rn=Qt.map,sn=Qt.merge,on=Qt.addEvent,un=Qt.removeEvent,an=Qt.fireEvent,fn=Qt.washMouseEvent,ln=Qt.animate,cn=Qt.stop,Qt={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};bt={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"1月,2月,3月,4月,5月,6月,7月,8月,9月,10月,11月,12月".split(","),shortMonths:"一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月".split(","),weekdays:"星期天,星期一,星期二,星期三,星期四,星期五,星期五".split(","),decimalPoint:".",numericSymbols:"万,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.2.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.2.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:sn(Qt,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"%Y%b%e日,%A",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:pt,snap:vt?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"http://www.tongtianshun.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var hn=bt.plotOptions,Kt=hn.line;_();var pn=function(e){var t=[],r;(function(e){(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?t=[n(r[1]),n(r[2]),n(r[3]),parseFloat(r[4],10)]:(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))&&(t=[n(r[1],16),n(r[2],16),n(r[3],16),1])})(e);return{get:function(n){return t&&!isNaN(t[0])?n==="rgb"?"rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?t[3]:"rgba("+t.join(",")+")":e},brighten:function(e){if(o(e)&&e!==0){var r;for(r=0;r<3;r++)t[r]+=n(e*255),t[r]<0&&(t[r]=0),t[r]>255&&(t[r]=255)}return this},setOpacity:function(e){t[3]=e;return this}}};D.prototype={init:function(e,t){this.element=t==="span"?v(t):X.createElementNS(lt,t);this.renderer=e;this.attrSetters={}},animate:function(e,t,n){t=p(t,Et,!0);cn(this);if(t){t=sn(t);n&&(t.complete=n);ln(this,e,t)}else this.attr(e),n&&n()},attr:function(e,t){var i,s,o,u,a=this.element,f=a.nodeName.toLowerCase(),h=this.renderer,p,d=this.attrSetters,v=this.shadows,m,g,y=this;r(e)&&l(t)&&(i=e,e={},e[i]=t);if(r(e))i=e,f==="circle"?i={x:"cx",y:"cy"}[i]||i:i==="strokeWidth"&&(i="stroke-width"),y=c(a,i)||this[i]||0,i!=="d"&&i!=="visibility"&&(y=parseFloat(y));else for(i in e)if(p=!1,s=e[i],o=d[i]&&d[i].call(this,s,i),o!==!1){o!==W&&(s=o);if(i==="d")s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if(i==="x"&&f==="text"){for(o=0;o<a.childNodes.length;o++)u=a.childNodes[o],c(u,"x")===c(a,"x")&&c(u,"x",s);this.rotation&&c(a,"transform","rotate("+this.rotation+" "+s+" "+n(e.y||c(a,"y"))+")")}else if(i==="fill")s=h.color(s,a,i);else if(f!=="circle"||i!=="x"&&i!=="y")if(f==="rect"&&i==="r")c(a,{rx:s,ry:s}),p=!0;else if(i==="translateX"||i==="translateY"||i==="rotation"||i==="verticalAlign")p=g=!0;else if(i==="stroke")s=h.color(s,a,i);else if(i==="dashstyle"){if(i="stroke-dasharray",s=s&&s.toLowerCase(),s==="solid")s=Ct;else if(s){s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=s.length;o--;)s[o]=n(s[o])*e["stroke-width"];s=s.join(",")}}else i==="isTracker"?this[i]=s:i==="width"?s=n(s):i==="align"?(i="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):i==="title"&&(o=a.getElementsByTagName("title")[0],o||(o=X.createElementNS(lt,"title"),a.appendChild(o)),o.textContent=s);else i={x:"cx",y:"cy"}[i]||i;i==="strokeWidth"&&(i="stroke-width");at&&i==="stroke-width"&&s===0&&(s=1e-6);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(m||(this.symbolAttr(e),m=!0),p=!0);if(v&&/^(width|height|visibility|x|y|d|transform)$/.test(i))for(o=v.length;o--;)c(v[o],i,i==="height"?G(s-(v[o].cutHeight||0),0):s);(i==="width"||i==="height")&&f==="rect"&&s<0&&(s=0);this[i]=s;g&&this.updateTransform();i==="text"?(s!==this.textStr&&delete this.bBox,this.textStr=s,this.added&&h.buildText(this)):p||c(a,i,s)}return y},symbolAttr:function(e){var t=this;en("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ct)},crisp:function(e,t,n,r,i){var s,o={},u={},a,e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=J(e)%2/2;u.x=K(t||this.x||0)+a;u.y=K(n||this.y||0)+a;u.width=K((r||this.width||0)-2*a);u.height=K((i||this.height||0)-2*a);u.strokeWidth=e;for(s in u)this[s]!==u[s]&&(this[s]=o[s]=u[s]);return o},css:function(t){var n=this.element,n=t&&t.width&&n.nodeName.toLowerCase()==="text",r,i="",s=function(e,t){return"-"+t.toLowerCase()};t&&t.color&&(t.fill=t.color);this.styles=t=e(this.styles,t);pt&&n&&delete t.width;if(ot&&!ct)n&&delete t.width,d(this.element,t);else{for(r in t)i+=r.replace(/([A-Z])/g,s)+":"+t[r]+";";this.attr({style:i})}n&&this.added&&this.renderer.buildText(this);return this},on:function(e,t){var n=t;vt&&e==="click"&&(e="touchstart",n=function(e){e.preventDefault();t()});this.element["on"+e]=n;return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(t){var n=this.element;if(n=t&&n.tagName==="SPAN"&&t.width)delete t.width,this.textWidth=n,this.updateTransform();this.styles=e(this.styles,t);d(this.element,t);return this},htmlGetBBox:function(){var e=this.element,t=this.bBox;if(!t){e.nodeName==="text"&&(e.style.position="absolute");t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}return t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",c=this.shadows;if(r||i)d(t,{marginLeft:r,marginTop:i}),c&&en(c,function(e){d(e,{marginLeft:r+1,marginTop:i+1})});this.inverted&&en(t.childNodes,function(n){e.invertChild(n,t)});if(t.tagName==="SPAN"){var h,v,c=this.rotation,m,g=0,y=1,g=0,b;m=n(this.textWidth);var w=this.xCorr||0,E=this.yCorr||0,S=[c,u,t.innerHTML,this.textWidth].join(",");h={};if(S!==this.cTT){l(c)&&(e.isSVG?(w=ot?"-ms-transform":at?"-webkit-transform":ft?"MozTransform":st?"-o-transform":"",h[w]=h.transform="rotate("+c+"deg)"):(g=c*rt,y=et(g),g=tt(g),h.filter=c?["progid:DXImageTransform.Microsoft.Matrix(M11=",y,", M12=",-g,", M21=",g,", M22=",y,", sizingMethod='auto expand')"].join(""):Ct),d(t,h));h=p(this.elemWidth,t.offsetWidth);v=p(this.elemHeight,t.offsetHeight);h>m&&/[ \-]/.test(t.innerText)&&(d(t,{width:m+"px",display:"block",whiteSpace:"normal"}),h=m);m=e.fontMetrics(t.style.fontSize).b;w=y<0&&-h;E=g<0&&-v;b=y*g<0;w+=g*m*(b?1-a:a);E-=y*m*(c?b?a:1-a:1);f&&(w-=h*a*(y<0?-1:1),c&&(E-=v*a*(g<0?-1:1)),d(t,{textAlign:u}));this.xCorr=w;this.yCorr=E}d(t,{left:s+w+"px",top:o+E+"px"});this.cTT=S}}else this.alignOnAdd=!0},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.inverted,r=this.rotation,i=[];n&&(e+=this.attr("width"),t+=this.attr("height"));(e||t)&&i.push("translate("+e+","+t+")");n?i.push("rotate(90) scale(-1,1)"):r&&i.push("rotate("+r+" "+(this.x||0)+" "+(this.y||0)+")");i.length&&c(this.element,"transform",i.join(" "))},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){e?(this.alignOptions=e,this.alignByTranslate=t,n||this.renderer.alignedObjects.push(this)):(e=this.alignOptions,t=this.alignByTranslate);var n=p(n,this.renderer),r=e.align,i=e.verticalAlign,s=(n.x||0)+(e.x||0),o=(n.y||0)+(e.y||0),u={};if(r==="right"||r==="center")s+=(n.width-(e.width||0))/{right:1,center:2}[r];u[t?"translateX":"x"]=J(s);if(i==="bottom"||i==="middle")o+=(n.height-(e.height||0))/({bottom:1,middle:2}[i]||1);u[t?"translateY":"y"]=J(o);this[this.placed?"animate":"attr"](u);this.placed=!0;this.alignAttr=u;return this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i=this.rotation,s=this.element,o=this.styles,u=i*rt;if(!t){if(s.namespaceURI===lt||n.forExport){try{t=s.getBBox?e({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(a){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(n=t.width,r=t.height,i)&&(t.width=Z(r*tt(u))+Z(n*et(u)),t.height=Z(r*et(u))+Z(n*tt(u)));ot&&o&&o.fontSize==="11px"&&r===22.700000762939453&&(t.height=14);this.bBox=t}return t},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(e){var t=this.renderer,r=e||t,i=r.element||t.box,s=i.childNodes,o=this.element,u=c(o,"zIndex"),a;e&&(this.parentGroup=e);this.parentInverted=e&&e.inverted;this.textStr!==void 0&&t.buildText(this);u&&(r.handleZ=!0,u=n(u));if(r.handleZ)for(r=0;r<s.length;r++)if(e=s[r],t=c(e,"zIndex"),e!==o&&(n(t)>u||!l(u)&&l(t))){i.insertBefore(o,e);a=!0;break}a||i.appendChild(o);this.added=!0;an(this,"add");return this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r,i;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=null;cn(e);e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(i=0;i<e.stops.length;i++)e.stops[i]=e.stops[i].destroy();e.stops=null}e.safeRemoveChild(t);n&&en(n,function(t){e.safeRemoveChild(t)});f(e.renderer.alignedObjects,e);for(r in e)delete e[r];return null},empty:function(){for(var e=this.element,t=e.childNodes,n=t.length;n--;)e.removeChild(t[n])},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=p(e.width,3);f=(e.opacity||.15)/a;l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")";for(i=1;i<=a;i++){s=o.cloneNode(0);u=a*2+1-2*i;c(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:Ct});n&&(c(s,"height",G(c(s,"height")-u,0)),s.cutHeight=u);t?t.element.appendChild(s):o.parentNode.insertBefore(s,o);r.push(s)}this.shadows=r}return this}};var dn=function(){this.init.apply(this,arguments)};dn.prototype={Element:D,init:function(e,t,n,r){var i=location,s;s=this.createElement("svg").attr({xmlns:lt,version:"1.1"});e.appendChild(s.element);this.isSVG=!0;this.box=s.element;this.boxWrapper=s;this.alignedObjects=[];this.url=(ft||at)&&X.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.defs=this.createElement("defs").add();this.forExport=r;this.gradients={};this.setSize(t,n,!1);var o;ft&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){d(e,{left:0,top:0});o=e.getBoundingClientRect();d(e,{left:Q(o.left)-o.left+"px",top:Q(o.top)-o.top+"px"})},t(),on(V,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();k(this.gradients||{});this.gradients=null;e&&(this.defs=e.destroy());this.subPixelFix&&un(V,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){for(var t=e.element,r=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),i=t.childNodes,s=/style="([^"]+)"/,o=/href="([^"]+)"/,u=c(t,"x"),a=e.styles,f=a&&a.width&&n(a.width),l=a&&a.lineHeight,h,a=i.length,v=[];a--;)t.removeChild(i[a]);f&&!e.added&&this.box.appendChild(t);r[r.length-1]===""&&r.pop();en(r,function(r,i){var a,p=0,m,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");a=r.split("|||");en(a,function(r){if(r!==""||a.length===1){var g={},y=X.createElementNS(lt,"tspan"),b;s.test(r)&&(b=r.match(s)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(y,"style",b));o.test(r)&&(c(y,"onclick",'location.href="'+r.match(o)[1]+'"'),d(y,{cursor:"pointer"}));r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");y.appendChild(X.createTextNode(r));p?g.dx=3:g.x=u;if(!p){if(i){!ct&&e.renderer.forExport&&d(y,{display:"block"});m=V.getComputedStyle&&n(V.getComputedStyle(h,null).getPropertyValue("line-height"));if(!m||isNaN(m)){var w;(w=l)||(w=h.offsetHeight)||(v[i]=t.getBBox?t.getBBox().height:e.renderer.fontMetrics(t.style.fontSize).h,w=J(v[i]-(v[i-1]||0))||18);m=w}c(y,"dy",m)}h=y}c(y,g);t.appendChild(y);p++;if(f)for(var r=r.replace(/([^\^])-/g,"$1- ").split(" "),E=[];r.length||E.length;)delete e.bBox,w=e.getBBox().width,g=w>f,!g||r.length===1?(r=E,E=[],r.length&&(y=X.createElementNS(lt,"tspan"),c(y,{dy:l||16,x:u}),b&&c(y,"style",b),t.appendChild(y),w>f&&(f=w))):(y.removeChild(y.firstChild),E.unshift(r.pop())),r.length&&y.appendChild(X.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(n,r,i,s,o,u,a){var f=this.label(n,r,i),l=0,c,h,p,d,v,n={x1:0,y1:0,x2:0,y2:1},o=sn(t("stroke-width",1,"stroke","#999","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",t("color","black")),o);p=o.style;delete o.style;u=sn(o,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#FFF"],[1,"#ACF"]])),u);d=u.style;delete u.style;a=sn(o,t("stroke","#68A","fill",t("linearGradient",n,"stops",[[0,"#9BD"],[1,"#CDF"]])),a);v=a.style;delete a.style;on(f.element,"mouseenter",function(){f.attr(u).css(d)});on(f.element,"mouseleave",function(){c=[o,u,a][l];h=[p,d,v][l];f.attr(c).css(h)});f.setState=function(e){(l=e)?e===2&&f.attr(a).css(v):f.attr(o).css(p)};return f.on("click",function(){s.call(f)}).attr(o).css(e({cursor:"default"},p))},crispLine:function(e,t){e[1]===e[4]&&(e[1]=e[4]=J(e[1])-t%2/2);e[2]===e[5]&&(e[2]=e[5]=J(e[2])+t%2/2);return e},path:function(t){var n={fill:Ct};s(t)?n.d=t:i(t)&&e(n,t);return this.createElement("path").attr(n)},circle:function(e,t,n){e=i(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(e)},arc:function(e,t,n,r,s,o){i(e)&&(t=e.y,n=e.r,r=e.innerR,s=e.start,o=e.end,e=e.x);return this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:s||0,end:o||0})},rect:function(e,t,n,r,s,o){s=i(e)?e.r:s;s=this.createElement("rect").attr({rx:s,ry:s,fill:Ct});return s.attr(i(e)?e:s.crisp(o,e,t,G(n,0),G(r,0)))},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e;this.height=t;for(this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:Ct};arguments.length>1&&e(o,{x:n,y:r,width:i,height:s});o=this.createElement("image").attr(o);o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t);return o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(J(n),J(r),i,s,o),f=/^url\((.*?)\)$/,l,c;a?(u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o)):f.test(t)&&(c=function(e,t){e.attr({width:t[0],height:t[1]});e.alignByTranslate||e.translate(-J(t[0]/2),-J(t[1]/2))},l=t.match(f)[1],t=mt[l],u=this.image(l).attr({x:n,y:r}),t?c(u,t):(u.attr({width:0,height:0}),v("img",{onload:function(){c(u,mt[l]=[this.width,this.height])},src:l})));return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-1e-6,r=i.innerR,u=i.open,a=et(s),f=tt(s),l=et(o),o=tt(o),i=i.end-s<nt?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]}},clipRect:function(e,t,n,r){var i="highcharts-"+gt++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);e.id=i;e.clipPath=s;return e},color:function(t,n,r){var i=this,o,u=/^rgba/,a;t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient");if(a){var r=t[a],f=i.gradients,h,p,d,n=n.radialReference;if(!r.id||!f[r.id])s(r)&&(t[a]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),a==="radialGradient"&&n&&!l(r.gradientUnits)&&e(r,{cx:n[0]-n[2]/2+r.cx*n[2],cy:n[1]-n[2]/2+r.cy*n[2],r:r.r*n[2],gradientUnits:"userSpaceOnUse"}),r.id="highcharts-"+gt++,f[r.id]=h=i.createElement(a).attr(r).add(i.defs),h.stops=[],en(t.stops,function(e){u.test(e[1])?(o=pn(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1);e=i.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(h);h.stops.push(e)});return"url("+i.url+"#"+r.id+")"}return u.test(t)?(o=pn(t),c(n,r+"-opacity",o.get("a")),o.get("rgb")):(n.removeAttribute(r+"-opacity"),t)},text:function(e,t,n,r){var i=bt.chart.style,s=pt||!ct&&this.forExport;if(r&&!this.forExport)return this.html(e,t,n);t=J(p(t,0));n=J(p(n,0));e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:i.fontFamily,fontSize:i.fontSize});s&&e.css({position:"absolute"});e.x=t;e.y=n;return e},html:function(t,n,r){var i=bt.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;o.text=function(e){e!==u.innerHTML&&delete this.bBox;u.innerHTML=e;return!1};o.x=o.y=o.align=function(e,t){t==="align"&&(t="textAlign");s[t]=e;s.htmlUpdateTransform();return!1};s.attr({text:t,x:J(n),y:J(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:i.fontFamily,fontSize:i.fontSize});s.css=s.htmlCss;a.isSVG&&(s.add=function(t){var n,r=a.box.parentNode,i=[];if(t){if(n=t.div,!n){for(;t;)i.push(t),t=t.parentGroup;en(i.reverse(),function(t){var i;n=t.div=t.div||v(Nt,{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r);i=n.style;e(t.attrSetters,{translateX:function(e){i.left=e+"px"},translateY:function(e){i.top=e+"px"},visibility:function(e,t){i[t]=e}})})}}else n=r;n.appendChild(u);s.added=!0;s.alignOnAdd&&s.htmlUpdateTransform();return s});return s},fontMetrics:function(e){var e=n(e||11),e=e<24?e+4:J(e*1.2),t=J(e*.8);return{h:e,b:t}},label:function(t,n,r,i,s,o,u,a,f){function c(){var e=v.styles,e=e&&e.textAlign,t=w*(1-b),n;n=a?0:k;l(E)&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(E-y.width));(t!==m.x||n!==m.y)&&m.attr({x:t,y:n});m.x=t;m.y=n}function h(e,t){g?g.attr(e,t):C[e]=t}function p(){m.add(v);v.attr({text:t,x:n,y:r});l(s)&&v.attr({anchorX:s,anchorY:o})}var d=this,v=d.g(f),m=d.text("",0,0,u).attr({zIndex:1}),g,y,b=0,w=3,E,S,x,T,N=0,C={},k,u=v.attrSetters;on(v,"add",p);u.width=function(e){E=e;return!1};u.height=function(e){S=e;return!1};u.padding=function(e){l(e)&&e!==w&&(w=e,c());return!1};u.align=function(e){b={left:0,center:.5,right:1}[e];return!1};u.text=function(e,t){m.attr(t,e);var n;n=m.element.style;y=(E===void 0||S===void 0||v.styles.textAlign)&&m.getBBox();v.width=(E||y.width||0)+2*w;v.height=(S||y.height||0)+2*w;k=w+d.fontMetrics(n&&n.fontSize).b;g||(n=a?-k:0,v.box=g=i?d.symbol(i,-b*w,n,v.width,v.height):d.rect(-b*w,n,v.width,v.height,0,C["stroke-width"]),g.add(v));g.attr(sn({width:v.width,height:v.height},C));C=null;c();return!1};u["stroke-width"]=function(e,t){N=e%2/2;h(t,e);return!1};u.stroke=u.fill=u.r=function(e,t){h(t,e);return!1};u.anchorX=function(e,t){s=e;h(t,e+N-x);return!1};u.anchorY=function(e,t){o=e;h(t,e-T);return!1
};u.x=function(e){v.x=e;e-=b*((E||y.width)+w);x=J(e);v.attr("translateX",x);return!1};u.y=function(e){T=v.y=J(e);v.attr("translateY",e);return!1};var L=v.css;return e(v,{css:function(e){if(e){var t={},e=sn({},e);en("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(n){e[n]!==W&&(t[n]=e[n],delete e[n])});m.css(t)}return L.call(v,e)},getBBox:function(){return g.getBBox()},shadow:function(e){g.shadow(e);return v},destroy:function(){un(v,"add",p);un(v.element,"mouseenter");un(v.element,"mouseleave");m&&(m=m.destroy());g&&(g=g.destroy());D.prototype.destroy.call(v)}})}};dt=dn;var vn;if(!ct&&!pt){var mn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"];(t==="shape"||t===Nt)&&r.push("left:0;top:0;width:1px;height:1px;");ut&&r.push("visibility: ",t===Nt?"hidden":"visible");n.push(' style="',r.join(""),'"/>');t&&(n=t===Nt||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=v(n));this.renderer=e;this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;e&&e.inverted&&t.invertChild(n,r);r.appendChild(n);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();an(this,"add");return this},updateTransform:D.prototype.htmlUpdateTransform,attr:function(e,t){var n,i,s,u=this.element||{},a=u.style,f=u.nodeName,h=this.renderer,p=this.symbolName,d,m=this.shadows,g,y=this.attrSetters,b=this;r(e)&&l(t)&&(n=e,e={},e[n]=t);if(r(e))n=e,b=n==="strokeWidth"||n==="stroke-width"?this.strokeweight:this[n];else for(n in e)if(i=e[n],g=!1,s=y[n]&&y[n].call(this,i,n),s!==!1&&i!==null){s!==W&&(i=s);if(p&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))d||(this.symbolAttr(e),d=!0),g=!0;else if(n==="d"){i=i||[];this.d=i.join(" ");s=i.length;for(g=[];s--;)g[s]=o(i[s])?J(i[s]*10)-5:i[s]==="Z"?"x":i[s];i=g.join(" ")||"x";u.path=i;if(m)for(s=m.length;s--;)m[s].path=m[s].cutOff?this.cutOffPath(i,m[s].cutOff):i;g=!0}else if(n==="visibility"){if(m)for(s=m.length;s--;)m[s].style[n]=i;f==="DIV"&&(i=i==="hidden"?"-999em":0,n="top");a[n]=i;g=!0}else n==="zIndex"?(i&&(a[n]=i),g=!0):n==="width"||n==="height"?(i=G(0,i),this[n]=i,this.updateClipping?(this[n]=i,this.updateClipping()):a[n]=i,g=!0):n==="x"||n==="y"?(this[n]=i,a[{x:"left",y:"top"}[n]]=i):n==="class"?u.className=i:n==="stroke"?(i=h.color(i,u,n),n="strokecolor"):n==="stroke-width"||n==="strokeWidth"?(u.stroked=i?!0:!1,n="strokeweight",this[n]=i,o(i)&&(i+="px")):n==="dashstyle"?((u.getElementsByTagName("stroke")[0]||v(h.prepVML(["<stroke/>"]),null,null,u))[n]=i||"solid",this.dashstyle=i,g=!0):n==="fill"?f==="SPAN"?a.color=i:(u.filled=i!==Ct?!0:!1,i=h.color(i,u,n,this),n="fillcolor"):f==="shape"&&n==="rotation"?(this[n]=i,u.style.left=-J(tt(i*rt)+1)+"px",u.style.top=J(et(i*rt))+"px"):n==="translateX"||n==="translateY"||n==="rotation"?(this[n]=i,this.updateTransform(),g=!0):n==="text"&&(this.bBox=null,u.innerHTML=i,g=!0);g||(ut?u[n]=i:c(u,n,i))}return b},clip:function(e){var t=this,n,r=t.element,i=r.parentNode;e?(n=e.members,n.push(t),t.destroyClip=function(){f(n,t)},i&&i.className==="highcharts-tracker"&&!ut&&d(r,{visibility:"hidden"}),e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:ut?"inherit":"rect(auto)"});return t.css(e)},css:D.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&L(e)},destroy:function(){this.destroyClip&&this.destroyClip();return D.prototype.destroy.apply(this)},empty:function(){for(var e=this.element.childNodes,t=e.length,n;t--;)n=e[t],n.parentNode.removeChild(n)},on:function(e,t){this.element["on"+e]=function(){var e=V.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=n(e[r-2])-10*t;return e.join(" ")},shadow:function(e,t,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,m,g;c&&typeof c.value!="string"&&(c="x");d=c;if(e){m=p(e.width,3);g=(e.opacity||.15)/m;for(s=1;s<=3;s++){h=m*2+1-2*s;r&&(d=this.cutOffPath(c.value,h+.5));l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'];a=v(u.prepVML(l),null,{left:n(f.left)+p(e.offsetX,1),top:n(f.top)+p(e.offsetY,1)});r&&(a.cutOff=h+1);l=['<stroke color="',e.color||"black",'" opacity="',g*s,'"/>'];v(u.prepVML(l),null,null,a);t?t.element.appendChild(a):o.parentNode.insertBefore(a,o);i.push(a)}this.shadows=i}return this}},mn=m(D,mn),mn={Element:mn,isIE8:it.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var r,i;this.alignedObjects=[];r=this.createElement(Nt);i=r.element;i.style.position="relative";e.appendChild(r.element);this.box=i;this.boxWrapper=r;this.setSize(t,n,!1);X.namespaces.hcv||(X.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),X.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,r,s){var o=this.createElement(),u=i(t);return e(o,{members:[],left:u?t.x:t,top:u?t.y:n,width:u?t.width:r,height:u?t.height:s,getCSS:function(t){var n=t.inverted,r=this.top,i=this.left,s=i+this.width,o=r+this.height,r={clip:"rect("+J(n?i:r)+"px,"+J(n?o:s)+"px,"+J(n?s:o)+"px,"+J(n?r:i)+"px)"};!n&&ut&&t.element.nodeName!=="IMG"&&e(r,{width:s+"px",height:o+"px"});return r},updateClipping:function(){en(o.members,function(e){e.css(o.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=Ct;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,p,d,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',d,'" type="',a,'" ',b,'focus="100%" method="any" />'];v(i.prepVML(u),null,null,t)};p=e[0];w=e[e.length-1];p[0]>0&&e.unshift([0,p[1]]);w[0]<1&&e.push([1,w[1]]);en(e,function(e,t){o.test(e[1])?(s=pn(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1);E.push(e[0]*100+"% "+l);t?(m=c,g=l):(d=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-$.atan((h-e)/(p-n))*180/nt)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height);b='src="'+bt.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ';S()};r.added?f():on(r,"add",f);f=g}else f=l}else if(o.test(e)&&t.tagName!=="IMG")s=pn(e),u=["<",n,' opacity="',s.get("a"),'"/>'],v(this.prepVML(u),null,null,t),f=s.get("rgb");else{f=t.getElementsByTagName(n);f.length&&(f[0].opacity=1);f=e}return f},prepVML:function(e){var t=this.isIE8,e=e.join("");t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:");return e},text:dn.prototype.html,path:function(t){var n={coordsize:"10 10"};s(t)?n.d=t:i(t)&&e(n,t);return this.createElement("shape").attr(n)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t;e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e});return this.createElement(Nt).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});arguments.length>1&&s.attr({x:t,y:n,width:r,height:i});return s},rect:function(e,t,n,r,s,o){i(e)&&(t=e.y,n=e.width,r=e.height,o=e.strokeWidth,e=e.x);var u=this.symbol("rect");u.r=s;return u.attr(u.crisp(o,e,t,G(n,0),G(r,0)))},invertChild:function(e,t){var r=t.style;d(e,{flip:"x",left:n(r.width)-1,top:n(r.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=et(s),r=tt(s),a=et(o),f=tt(o),l=i.innerR,c=.08/u,h=l&&.1/l||0;if(o-s===0)return["x"];2*nt-o+s<c?a=-c:o-s<h&&(a=et(s+h));s=["wa",e-u,t-u,e+u,t+u,e+u*n,t+u*r,e+u*a,t+u*f];i.open&&!l&&s.push("e","M",e,t);s.push("at",e-l,t-l,e+l,t+l,e+l*a,t+l*f,e+l*n,t+l*r,"x","e");return s},circle:function(e,t,n,r){return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u;!l(i)||!i.r?s=dn.prototype.symbols.square.apply(0,arguments):(u=Y(i.r,n,r),s=["M",e+u,t,"L",s-u,t,"wa",s-2*u,t,s,t+2*u,s-u,t,s,t+u,"L",s,o-u,"wa",s-2*u,o-2*u,s,o,s,o-u,s-u,o,"L",e+u,o,"wa",e,o-2*u,e+2*u,o,e+u,o,e,o-u,"L",e,t+u,"wa",e,t,e+2*u,t+2*u,e,t+u,e+u,t,"x","e"]);return s}}};vn=function(){this.init.apply(this,arguments)};vn.prototype=sn(dn.prototype,mn);dt=vn}var gn,yn;pt&&(gn=function(){lt="http://www.w3.org/1999/xhtml"},gn.prototype.symbols={},yn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Yt(r,e);t.push(n)}}}());dt=vn||gn||dn;P.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,u=this.pos,f=n.labels,c=t.tickPositions,i=s&&i&&s.length&&!f.step&&!f.staggerLines&&!f.rotation&&r.plotWidth/c.length||!i&&r.plotWidth/2,h=u===c[0],p=u===c[c.length-1],d=s&&l(s[u])?s[u]:u,s=this.label,c=c.info,v;t.isDatetimeAxis&&c&&(v=n.dateTimeLabelFormats[c.higherRanks[u]||c.unitName]);this.isFirst=h;this.isLast=p;n=t.labelFormatter.call({axis:t,chart:r,isFirst:h,isLast:p,dateTimeLabelFormat:v,value:t.isLog?O(a(d)):d});u=i&&{width:G(1,J(i-2*(f.padding||10)))+"px"};u=e(u,f.style);if(l(s))s&&s.attr({text:n}).css(u);else{i={align:f.align};o(f.rotation)&&(i.rotation=f.rotation);this.label=l(n)&&f.enabled?r.renderer.text(n,0,0,f.useHTML).attr(i).css(u).add(t.labelGroup):null}},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis.options.labels,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],l=l[1],i=i.plotLeft,h=i+r.len,f=(r=r.ticks[f[e+(s?1:-1)]])&&r.label.xy&&r.label.xy.x+r.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<i&&(u=i-c,r&&u+l>f&&(n=!1)):u+l>h&&(u=h-l,r&&u+c<f&&(n=!1));t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,r,i,s,o,u,a){var f=this.axis,c=f.transA,h=f.reversed,f=f.staggerLines,e=e+s.x-(o&&i?o*c*(h?-1:1):0),t=t+s.y-(o&&!i?o*c*(h?1:-1):0);l(s.y)||(t+=n(r.styles.lineHeight)*.9-r.getBBox().height/2);f&&(t+=u/(a||1)%f*16);return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t){var n=this.axis,r=n.options,i=n.chart.renderer,s=n.horiz,o=this.type,u=this.label,a=this.pos,f=r.labels,l=this.gridLine,c=o?o+"Grid":"grid",h=o?o+"Tick":"tick",d=r[c+"LineWidth"],v=r[c+"LineColor"],m=r[c+"LineDashStyle"],g=r[h+"Length"],c=r[h+"Width"]||0,y=r[h+"Color"],b=r[h+"Position"],h=this.mark,w=f.step,E=!0,S=n.tickmarkOffset,x=this.getPosition(s,a,S,t),T=x.x,x=x.y,N=n.staggerLines;if(d){a=n.getPlotLinePath(a+S,d,t);if(l===W){l={stroke:v,"stroke-width":d};m&&(l.dashstyle=m);o||(l.zIndex=1);this.gridLine=l=d?i.path(a).attr(l).add(n.gridGroup):null}!t&&l&&a&&l[this.isNew?"attr":"animate"]({d:a})}c&&g&&(b==="inside"&&(g=-g),n.opposite&&(g=-g),o=this.getMarkPath(T,x,g,c,s,i),h?h.animate({d:o}):this.mark=i.path(o).attr({stroke:y,"stroke-width":c}).add(n.axisGroup));u&&!isNaN(T)&&(u.xy=x=this.getLabelPosition(T,x,u,s,f,S,e,w),this.isFirst&&!p(r.showFirstLabel,1)||this.isLast&&!p(r.showLastLabel,1)?E=!1:!N&&s&&f.overflow==="justify"&&!this.handleOverflow(e,x)&&(E=!1),w&&e%w&&(E=!1),E?(u[this.isNew?"attr":"animate"](x),u.show(),this.isNew=!1):u.hide())},destroy:function(){k(this,this.axis)}};H.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,a=i.width,f=i.to,c=i.from,h=l(c)&&l(f),d=i.value,v=i.dashStyle,m=e.svgElem,g=[],y,b=i.color,w=i.zIndex,E=i.events,S=t.chart.renderer;t.isLog&&(c=u(c),f=u(f),d=u(d));if(a){if(g=t.getPlotLinePath(d,a),r={stroke:b,"stroke-width":a},v)r.dashstyle=v}else{if(!h)return;if(c=G(c,t.min-r),f=Y(f,t.max+r),g=t.getPlotBandPath(c,f,i),r={fill:b},i.borderWidth)r.stroke=i.borderColor,r["stroke-width"]=i.borderWidth}l(w)&&(r.zIndex=w);if(m)g?m.animate({d:g},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()});else if(g&&g.length&&(e.svgElem=m=S.path(g).attr(r).add(),E))for(y in i=function(t){m.on(t,function(n){E[t].apply(e,[n])})},E)i(y);if(s&&l(s.text)&&g&&g.length&&t.width>0&&t.height>0){s=sn({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s);o||(e.label=o=S.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:w}).css(s.style).add());t=[g[1],g[4],p(g[6],g[1])];g=[g[2],g[5],p(g[7],g[2])];n=N(t);h=N(g);o.align(s,!1,{x:n,y:h,width:C(t)-n,height:C(g)-h});o.show()}else o&&o.hide();return e},destroy:function(){f(this.axis.plotLinesAndBands,this);k(this,this.axis)}};B.prototype={destroy:function(){k(this,this.axis)},setTotal:function(e){this.cum=this.total=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=Z(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i.attr({visibility:this.options.crop===!1||r.isInsidePlot(s.x,s.y)?ct?"inherit":"visible":"hidden"})}};j.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b %y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Qt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Qt.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n;this.xOrY=(this.isXAxis=n)?"x":"y";this.opposite=t.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(t);var r=this.options,i=r.type,s=i==="datetime";this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&r.labels.staggerLines;this.userOptions=t;this.minPixelPadding=0;this.chart=e;this.reversed=r.reversed;this.categories=r.categories;this.isLog=i==="logarithmic";this.isLinked=l(r.linkedTo);this.isDatetimeAxis=s;this.tickmarkOffset=r.categories&&r.tickmarkPlacement==="between"?.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=r.minRange||r.maxZoom;this.range=r.range;this.offset=r.offset||0;this.stacks={};this.min=this.max=null;var o,r=this.options.events;e.axes.push(this);e[n?"xAxis":"yAxis"].push(this);this.series=[];e.inverted&&n&&this.reversed===W&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(o in r)on(this,o,r[o]);this.isLog&&(this.val2lin=u,this.lin2val=a)},setOptions:function(e){this.options=sn(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],sn(bt[this.isXAxis?"xAxis":"yAxis"],e))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=this.dateTimeLabelFormat,r=bt.lang.numericSymbols,i=r&&r.length,s,o=e.isLog?t:e.tickInterval;if(e.categories)s=t;else if(n)s=wt(n,t);else if(i&&o>=1e4)for(;i--&&s===W;)e=Math.pow(1e4,i+1),o>=e&&r[i]!==null&&(s=g(t/e,-1)+r[i]);s===W&&(s=t>=1e4?g(t,0):g(t,-1));return s},getSeriesExtremes:function(){var e=this,t=e.chart,n=e.stacks,r=[],i=[],s;e.hasVisibleSeries=!1;e.dataMin=e.dataMax=null;en(e.series,function(o){if(o.visible||!t.options.chart.ignoreHiddenSeries){var u=o.options,a,f,c,h,d,v,m,g,y,b=u.threshold,w,E=[],S=0;e.hasVisibleSeries=!0;e.isLog&&b<=0&&(b=u.threshold=null);if(e.isXAxis){if(u=o.xData,u.length)e.dataMin=Y(p(e.dataMin,u[0]),N(u)),e.dataMax=G(p(e.dataMax,u[0]),C(u))}else{var x,T,k,L=o.cropped,A=o.xAxis.getExtremes(),M=!!o.modifyValue;a=u.stacking;e.usePercentage=a==="percent";a&&(d=u.stack,h=o.type+p(d,""),v="-"+h,o.stackKey=h,f=r[h]||[],r[h]=f,c=i[v]||[],i[v]=c);e.usePercentage&&(e.dataMin=0,e.dataMax=99);u=o.processedXData;m=o.processedYData;w=m.length;for(s=0;s<w;s++)if(g=u[s],y=m[s],a&&(T=(x=y<b)?c:f,k=x?v:h,y=T[g]=l(T[g])?O(T[g]+y):y,n[k]||(n[k]={}),n[k][g]||(n[k][g]=new B(e,e.options.stackLabels,x,g,d,a)),n[k][g].setTotal(y)),y!==null&&y!==W&&(M&&(y=o.modifyValue(y)),L||(u[s+1]||g)>=A.min&&(u[s-1]||g)<=A.max))if(g=y.length)for(;g--;)y[g]!==null&&(E[S++]=y[g]);else E[S++]=y;!e.usePercentage&&E.length&&(e.dataMin=Y(p(e.dataMin,E[0]),N(E)),e.dataMax=G(p(e.dataMax,E[0]),C(E)));l(b)&&(e.dataMin>=b?(e.dataMin=b,e.ignoreMinPadding=!0):e.dataMax<b&&(e.dataMax=b,e.ignoreMaxPadding=!0))}}})},translate:function(e,t,n,r,i,s){var o=this.len,u=1,a=0,f=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,i=this.options.ordinal||this.isLog&&i;f||(f=this.transA);n&&(u*=-1,a=o);this.reversed&&(u*=-1,a-=u*o);t?(this.reversed&&(e=o-e),e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),e=u*(e-r)*f+a+u*this.minPixelPadding+(s?f*this.pointRange/2:0));return e},getPlotLinePath:function(e,t,n){var r=this.chart,i=this.left,s=this.top,o,u,a,e=this.translate(e,null,null,n),f=n&&r.oldChartHeight||r.chartHeight,l=n&&r.oldChartWidth||r.chartWidth,c;o=this.transB;n=u=J(e+o);o=a=J(f-e-o);if(isNaN(e))c=!0;else if(this.horiz){if(o=s,a=f-this.bottom,n<i||n>i+this.width)c=!0}else if(n=i,u=l-this.right,o<s||o>s+this.height)c=!0;return c?null:r.renderer.crispLine(["M",n,o,"L",u,a],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);r&&n?r.push(n[4],n[5],n[1],n[2]):r=null;return r},getLinearTickPositions:function(e,t,n){for(var r,t=O(K(t/e)*e),n=O(Q(n/e)*e),i=[];t<=n;){i.push(t);t=O(t+e);if(t===r)break;r=t}return i},getLogTickPositions:function(e,t,n,r){var i=this.options,s=this.len,o=[];r||(this._minorAutoInterval=null);if(e>=.5)e=J(e),o=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=K(t),f,l,c,h,d,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!d;s++){l=i.length;for(f=0;f<l&&!d;f++)c=u(a(s)*i[f]),c>t&&o.push(h),h>n&&(d=!0),h=c}else if(t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=p(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=w(e,null,$.pow(10,K($.log(e)/$.LN10))),o=rn(this.getLinearTickPositions(e,t,n),u),!r)this._minorAutoInterval=e/5;r||(this.tickInterval=e);return o},getMinorTickPositions:function(){var e=this.tickPositions,t=this.minorTickInterval,n=[],r,i;if(this.isLog){i=e.length;for(r=1;r<i;r++)n=n.concat(this.getLogTickPositions(t,e[r-1],e[r],!0))}else for(e=this.min+(e[0]-this.min)%t;e<=this.max;e+=t)n.push(e);return n},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;this.isXAxis&&this.minRange===W&&!this.isLog&&(l(e.min)||l(e.max)?this.minRange=null:(en(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===W||u<s)s=u}),this.minRange=Y(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2;r=[t-r,p(e.min,t-r)];i&&(r[2]=this.dataMin);t=C(r);n=[t+c,p(e.max,t+c)];i&&(n[2]=this.dataMax);n=N(n);n-t<c&&(r[0]=n-c,r[1]=p(e.min,n-c),t=C(r))}this.min=t;this.max=n},setAxisTranslation:function(){var e=this.max-this.min,t=0,n,r=0,i=0,s=this.linkedParent,o=this.transA;this.isXAxis&&(s?(r=s.minPointOffset,i=s.pointRangePadding):en(this.series,function(e){var s=e.pointRange,o=e.options.pointPlacement,u=e.closestPointRange;t=G(t,s);r=G(r,o?0:s/2);i=G(i,o==="on"?0:s);!e.noSharedTooltip&&l(u)&&(n=l(n)?Y(n,u):u)}),this.minPointOffset=r,this.pointRangePadding=i,this.pointRange=t,this.closestPointRange=n);this.oldTransA=o;this.translationSlope=this.transA=o=this.len/(e+i||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=o*r},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,a=t.isLinked,f=t.options.tickPositioner,c=r.maxPadding,h=r.minPadding,d=r.tickInterval,v=r.minTickInterval,m=r.tickPixelInterval,g=t.categories;a?(t.linkedParent=n[o?"xAxis":"yAxis"][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&A(11,1)):(t.min=p(t.userMin,r.min,t.dataMin),t.max=p(t.userMax,r.max,t.dataMax));i&&(!e&&Y(t.min,p(t.dataMin,t.min))<=0&&A(10,1),t.min=O(u(t.min)),t.max=O(u(t.max)));t.range&&(t.userMin=t.min=G(t.min,t.max-t.range),t.userMax=t.max,e)&&(t.range=null);t.adjustForMinRange();if(!g&&!t.usePercentage&&!a&&l(t.min)&&l(t.max)){n=t.max-t.min||1;!l(r.min)&&!l(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*h);!l(r.max)&&!l(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*c)}t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:a&&!d&&m===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:p(d,g?1:(t.max-t.min)*m/(t.len||1));o&&!e&&en(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)});t.setAxisTranslation(e);t.beforeSetTickPositions&&t.beforeSetTickPositions();t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval));!d&&t.tickInterval<v&&(t.tickInterval=v);!s&&!i&&(e=$.pow(10,K($.log(t.tickInterval)/$.LN10)),!d)&&(t.tickInterval=w(t.tickInterval,null,e,r));t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval;t.tickPositions=f=r.tickPositions||f&&f.apply(t,[t.min,t.max]);f||(f=s?(t.getNonLinearTimeTicks||S)(E(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):i?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=f);a||(i=f[0],s=f[f.length-1],a=t.minPointOffset||0,r.startOnTick?t.min=i:t.min-a>i&&f.shift(),r.endOnTick?t.max=s:t.max+a<s&&f.pop())},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,n=this.tickPositions,r=this.xOrY;t||(t={x:0,y:0});!this.isLinked&&!this.isDatetimeAxis&&n.length>t[r]&&this.options.alignTicks!==!1&&(t[r]=n.length);e.maxTicks=t},adjustTickAmount:function(){var e=this.xOrY,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(O(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1);this.max=t[t.length-1]}l(r)&&e!==r&&(this.isDirty=!0)}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();i=this.len!==this.oldAxisLength;en(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)if(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total;this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart,r=p(r,!0),s=e(s,{min:t,max:n});an(o,"setExtremes",s,function(){o.userMin=t;o.userMax=n;o.isDirtyExtremes=!0;r&&u.redraw(i)})},zoom:function(e,t){this.setExtremes(e,t,!1,W,{trigger:"zoom"});return!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0;this.left=p(t.left,e.plotLeft+n);this.top=p(t.top,e.plotTop);this.width=p(t.width,e.plotWidth-n+r);this.height=p(t.height,e.plotHeight);this.bottom=e.chartHeight-this.height-this.top;this.right=e.chartWidth-this.width-this.left;this.len=G(this.horiz?this.width:this.height,0)},getExtremes:function(){var e=this.isLog;return{min:e?O(a(this.min)):this.min,max:e?O(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?a(this.min):this.min,t=t?a(this.max):this.max;n>e||e===null?e=n:t<e&&(e=t);return this.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){e=(new H(this,e)).render();this.plotLinesAndBands.push(e);return e},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a,f=0,c,h=0,d=r.title,v=r.labels,m=0,g=t.axisOffset,y=[-1,1,1,-1][u],b;e.hasData=t=e.hasVisibleSeries||l(e.min)&&l(e.max)&&!!i;e.showAxis=a=t||p(r.showEmpty,!0);e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:v.zIndex||7}).add());if(t||e.isLinked)en(i,function(t){s[t]?s[t].addLabel():s[t]=new P(e,t)}),en(i,function(e){if(u===0||u===2||{1:"left",3:"right"}[u]===v.align)m=G(s[e].getLabelSize(),m)}),e.staggerLines&&(m+=(e.staggerLines-1)*16);else for(b in s)s[b].destroy(),delete s[b];if(d&&d.text){e.axisTitle||(e.axisTitle=n.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add(e.axisGroup),e.axisTitle.isNew=!0);a&&(f=e.axisTitle.getBBox()[o?"height":"width"],h=p(d.margin,o?5:10),c=d.offset);e.axisTitle[a?"show":"hide"]()}e.offset=y*p(r.offset,g[u]);e.axisTitleMargin=p(c,m+h+(u!==2&&m&&y*r.labels[o?"y":"x"]));g[u]=G(g[u],e.axisTitleMargin+f+y*e.offset)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r;this.lineTop=n=t.chartHeight-this.bottom-(n?this.height:0)+r;return t.renderer.crispLine(["M",i?this.left:s,i?n:this.top,"L",i?t.chartWidth-this.right:s,i?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,r=this.top,i=this.len,s=this.options.title,o=e?t:r,u=this.opposite,a=this.offset,f=n(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?r+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,u=e.axisTitle,f=e.stacks,c=e.ticks,h=e.minorTicks,p=e.alternateBands,d=r.stackLabels,v=r.alternateGridColor,m=e.tickmarkOffset,g=r.lineWidth,y,b=t.hasRendered&&l(e.oldMin)&&!isNaN(e.oldMin),w=e.showAxis,E,S;if(e.hasData||s)if(e.minorTickInterval&&!e.categories&&en(e.getMinorTickPositions(),function(t){h[t]||(h[t]=new P(e,t,"minor"));b&&h[t].isNew&&h[t].render(null,!0);h[t].isActive=!0;h[t].render()}),en(o.slice(1).concat([o[0]]),function(t,n){n=n===o.length-1?0:n+1;if(!s||t>=e.min&&t<=e.max)c[t]||(c[t]=new P(e,t)),b&&c[t].isNew&&c[t].render(n,!0),c[t].isActive=!0,c[t].render(n)}),v&&en(o,function(t,n){n%2===0&&t<e.max&&(p[t]||(p[t]=new H(e)),E=t+m,S=o[n+1]!==W?o[n+1]+m:e.max,p[t].options={from:i?a(E):E,to:i?a(S):S,color:v},p[t].render(),p[t].isActive=!0)}),!e._addedPlotLB)en((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0;en([c,h,p],function(e){for(var t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])});g&&(y=e.getLinePath(g),e.axisLine?e.axisLine.animate({d:y}):e.axisLine=n.path(y).attr({stroke:r.lineColor,"stroke-width":g,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]());u&&w&&(u[u.isNew?"attr":"animate"](e.getTitlePosition()),u.isNew=!1);if(d&&d.enabled){var x,T,r=e.stackTotalGroup;r||(e.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());r.translate(t.plotLeft,t.plotTop);for(x in f)for(T in t=f[x],t)t[T].render(r)}e.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=t.length;n--;)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){var n=this.chart,r=this.options,i=this.axisTitle;r.title=sn(r.title,e);this.axisTitle=i&&i.destroy();this.isDirty=!0;p(t,!0)&&n.redraw()},redraw:function(){var e=this.chart;e.tracker.resetTracker&&e.tracker.resetTracker(!0);this.render();en(this.plotLinesAndBands,function(e){e.render()});en(this.series,function(e){e.isDirty=!0})},setCategories:function(e,t){var n=this.chart;this.categories=this.userOptions.categories=e;en(this.series,function(e){e.translate();e.setTooltipPoints(!0)});this.isDirty=!0;p(t,!0)&&n.redraw()},destroy:function(){var e=this,t=e.stacks,n;un(e);for(n in t)k(t[n]),t[n]=null;en([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){k(e)});en("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){e[t]&&(e[t]=e[t].destroy())})}};F.prototype={destroy:function(){en(this.crosshairs,function(e){e&&e.destroy()});this.label&&(this.label=this.label.destroy())},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:u?(2*o.anchorX+r)/3:r,anchorY:u?(o.anchorY+i)/2:i});s.label.attr(o);u&&(Z(t-o.x)>1||Z(n-o.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(){if(!this.isHidden){var e=this.chart.hoverPoints;this.label.hide();e&&en(e,function(e){e.setState()});this.chart.hoverPoints=null;this.isHidden=!0}},hideCrosshairs:function(){en(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=0,o=0,u,e=h(e);n=e[0].tooltipPos;n||(en(e,function(e){u=e.series.yAxis;s+=e.plotX;o+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&u?u.top-r.plotTop:0)}),s/=e.length,o/=e.length,n=[i?r.plotWidth-o:s,this.shared&&!i&&e.length>1&&t?t.chartY-r.plotTop:i?r.plotHeight-s:o]);return rn(n,J)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,u=r.plotHeight,a=p(this.options.distance,12),f=n.plotX,n=n.plotY,r=f+i+(r.inverted?a:-e-a),l=n-t+s+15,c;r<7&&(r=i+G(f,0)+a);r+e>i+o&&(r-=r+e-(i+o),l=n-t+s-a,c=!0);l<s+5&&(l=s+5,c&&n>=l&&n<=l+t&&(l=n+s+a));l+t>s+u&&(l=G(s,s+u-t-a));return{x:r,y:l}},refresh:function(e,t){function n(){var e=this.points||h(this),t=e[0].series,n;n=[t.tooltipHeaderFormatter(e[0].key)];en(e,function(e){t=e.series;n.push(t.tooltipFormatter&&t.tooltipFormatter(e)||e.point.tooltipFormatter(t.tooltipOptions.pointFormat))});n.push(s.footerFormat||"");return n.join("")}var r=this.chart,i=this.label,s=this.options,o,u,a,f={},l,c=[];l=s.formatter||n;var f=r.hoverPoints,d,v=s.crosshairs;a=this.shared;u=this.getAnchor(e,t);o=u[0];u=u[1];a&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,f&&en(f,function(e){e.setState()}),en(e,function(e){e.setState("hover");c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,e=e[0]):f=e.getLabelConfig();l=l.call(f);f=e.series;a=a||!f.isCartesian||f.tooltipOutsidePlot||r.isInsidePlot(o,u);l===!1||!a?this.hide():(this.isHidden&&i.show(),i.attr({text:l}),d=s.borderColor||e.color||f.color||"#606060",i.attr({stroke:d}),i=(s.positioner||this.getPosition).call(this,i.width,i.height,{plotX:o,plotY:u}),this.move(J(i.x),J(i.y),o+r.plotLeft,u+r.plotTop),this.isHidden=!1);if(v){v=h(v);for(i=v.length;
i--;)if(a=e.series[i?"yAxis":"xAxis"],v[i]&&a)if(a=a.getPlotLinePath(i?p(e.stackY,e.y):e.x,1),this.crosshairs[i])this.crosshairs[i].attr({d:a,visibility:"visible"});else{f={"stroke-width":v[i].width||1,stroke:v[i].color||"#C0C0C0",zIndex:v[i].zIndex||2};v[i].dashStyle&&(f.dashstyle=v[i].dashStyle);this.crosshairs[i]=r.renderer.path(a).attr(f).add()}}an(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})}};I.prototype={normalizeMouseEvent:function(t){var n,r,i,t=t||V.event;t.target||(t.target=t.srcElement);t=fn(t);i=t.touches?t.touches.item(0):t;this.chartPosition=n=nn(this.chart.container);i.pageX===W?(r=t.x,n=t.y):(r=i.pageX-n.left,n=i.pageY-n.top);return e(t,{chartX:J(r),chartY:J(n)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},n=this.chart;en(n.axes,function(r){var i=r.isXAxis;t[i?"xAxis":"yAxis"].push({axis:r,value:r.translate(((n.inverted?!i:i)?e.chartX-n.plotLeft:r.top+r.len-e.chartY)-r.minPixelPadding,!0)})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},onmousemove:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s=t.hoverPoint,o=t.hoverSeries,u,a,f=t.chartWidth,l=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!o||!o.noSharedTooltip)){i=[];u=n.length;for(a=0;a<u;a++)n[a].visible&&n[a].options.enableMouseTracking!==!1&&!n[a].noSharedTooltip&&n[a].tooltipPoints.length&&(t=n[a].tooltipPoints[l],t._dist=Z(l-t[n[a].xAxis.tooltipPosName||"plotX"]),f=Y(f,t._dist),i.push(t));for(u=i.length;u--;)i[u]._dist>f&&i.splice(u,1);i.length&&i[0].plotX!==this.hoverX&&(r.refresh(i,e),this.hoverX=i[0].plotX)}o&&o.tracker&&(t=o.tooltipPoints[l])&&t!==s&&t.onMouseOver()},resetTracker:function(e){var t=this.chart,n=t.hoverSeries,r=t.hoverPoint,i=t.tooltip,t=i&&i.shared?t.hoverPoints:r;(e=e&&i&&t)&&h(t)[0].plotX===W&&(e=!1);if(e)i.refresh(t);else{r&&r.onMouseOut();n&&n.onMouseOut();i&&(i.hide(),i.hideCrosshairs());this.hoverX=null}},setDOMEvents:function(){function t(){if(n.selectionMarker){var e={xAxis:[],yAxis:[]},o=n.selectionMarker.getBBox(),u=o.x-r.plotLeft,a=o.y-r.plotTop,f;s&&(en(r.axes,function(t){if(t.options.zoomEnabled!==!1){var n=t.isXAxis,i=r.inverted?!n:n,s=t.translate(i?u:r.plotHeight-a-o.height,!0,0,0,1),i=t.translate((i?u+o.width:r.plotHeight-a)-2*t.minPixelPadding,!0,0,0,1);!isNaN(s)&&!isNaN(i)&&(e[n?"xAxis":"yAxis"].push({axis:t,min:Y(s,i),max:G(s,i)}),f=!0)}}),f&&an(r,"selection",e,function(e){r.zoom(e)}));n.selectionMarker=n.selectionMarker.destroy()}r&&(d(i,{cursor:"auto"}),r.cancelClick=s,r.mouseIsDown=s=!1);un(X,vt?"touchend":"mouseup",t)}var n=this,r=n.chart,i=r.container,s,o=n.zoomX&&!r.inverted||n.zoomY&&r.inverted,u=n.zoomY&&!r.inverted||n.zoomX&&r.inverted;n.hideTooltipOnMouseMove=function(e){e=fn(e);n.chartPosition&&r.hoverSeries&&r.hoverSeries.isCartesian&&!r.isInsidePlot(e.pageX-n.chartPosition.left-r.plotLeft,e.pageY-n.chartPosition.top-r.plotTop)&&n.resetTracker()};n.hideTooltipOnMouseLeave=function(){n.resetTracker();n.chartPosition=null};i.onmousedown=function(e){e=n.normalizeMouseEvent(e);!vt&&e.preventDefault&&e.preventDefault();r.mouseIsDown=!0;r.cancelClick=!1;r.mouseDownX=n.mouseDownX=e.chartX;n.mouseDownY=e.chartY;on(X,vt?"touchend":"mouseup",t)};var a=function(e){if(!e||!(e.touches&&e.touches.length>1)){e=n.normalizeMouseEvent(e);vt||(e.returnValue=!1);var t=e.chartX,i=e.chartY,a=!r.isInsidePlot(t-r.plotLeft,i-r.plotTop);vt&&e.type==="touchstart"&&(c(e.target,"isTracker")?r.runTrackerClick||e.preventDefault():!r.runChartClick&&!a&&e.preventDefault());a&&(t<r.plotLeft?t=r.plotLeft:t>r.plotLeft+r.plotWidth&&(t=r.plotLeft+r.plotWidth),i<r.plotTop?i=r.plotTop:i>r.plotTop+r.plotHeight&&(i=r.plotTop+r.plotHeight));if(r.mouseIsDown&&e.type!=="touchstart"&&(s=Math.sqrt(Math.pow(n.mouseDownX-t,2)+Math.pow(n.mouseDownY-i,2)),s>10)){var f=r.isInsidePlot(n.mouseDownX-r.plotLeft,n.mouseDownY-r.plotTop);r.hasCartesianSeries&&(n.zoomX||n.zoomY)&&f&&!n.selectionMarker&&(n.selectionMarker=r.renderer.rect(r.plotLeft,r.plotTop,o?1:r.plotWidth,u?1:r.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add());if(n.selectionMarker&&o){var l=t-n.mouseDownX;n.selectionMarker.attr({width:Z(l),x:(l>0?0:l)+n.mouseDownX})}n.selectionMarker&&u&&(i-=n.mouseDownY,n.selectionMarker.attr({height:Z(i),y:(i>0?0:i)+n.mouseDownY}));f&&!n.selectionMarker&&n.options.chart.panning&&r.pan(t)}a||n.onmousemove(e);return a||!r.hasCartesianSeries}};i.onmousemove=a;on(i,"mouseleave",n.hideTooltipOnMouseLeave);on(X,"mousemove",n.hideTooltipOnMouseMove);i.ontouchstart=function(e){(n.zoomX||n.zoomY)&&i.onmousedown(e);a(e)};i.ontouchmove=a;i.ontouchend=function(){s&&n.resetTracker()};i.onclick=function(t){var i=r.hoverPoint,s,o,t=n.normalizeMouseEvent(t);t.cancelBubble=!0;r.cancelClick||(i&&(c(t.target,"isTracker")||c(t.target.parentNode,"isTracker"))?(s=i.plotX,o=i.plotY,e(i,{pageX:n.chartPosition.left+r.plotLeft+(r.inverted?r.plotWidth-o:s),pageY:n.chartPosition.top+r.plotTop+(r.inverted?r.plotHeight-s:o)}),an(i.series,"click",e(t,{point:i})),i.firePointEvent("click",t)):(e(t,n.getMouseCoordinates(t)),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop)&&an(r,"click",t)))}},destroy:function(){var e=this.chart,t=e.container;e.trackerGroup&&(e.trackerGroup=e.trackerGroup.destroy());un(t,"mouseleave",this.hideTooltipOnMouseLeave);un(X,"mousemove",this.hideTooltipOnMouseMove);t.onclick=t.onmousedown=t.onmousemove=t.ontouchstart=t.ontouchend=t.ontouchmove=null;clearInterval(this.tooltipTimeout)},init:function(e,t){e.trackerGroup||(e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add());t.enabled&&(e.tooltip=new F(e,t));this.setDOMEvents()}};q.prototype={init:function(e){var t=this,r=t.options=e.options.legend;if(r.enabled){var i=r.itemStyle,s=p(r.padding,8),o=r.itemMarginTop||0;t.baseline=n(i.fontSize)+3+o;t.itemStyle=i;t.itemHiddenStyle=sn(i,r.itemHiddenStyle);t.itemMarginTop=o;t.padding=s;t.initialItemX=s;t.initialItemY=s-5;t.maxItemWidth=0;t.chart=e;t.itemHeight=0;t.lastLineHeight=0;t.render();on(t.chart,"endResize",function(){t.positionCheckboxes()})}},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.color:o,o=e.options&&e.options.marker,a={stroke:u,fill:u},f;r&&r.css({fill:n});i&&i.attr({stroke:u});if(s){if(o)for(f in o=e.convertAttribs(o),o)r=o[f],r!==W&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r);s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;en(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()});t&&L(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy());e&&(this.group=e.destroy())},positionCheckboxes:function(){var e=this;en(e.allItems,function(t){var n=t.checkbox,r=e.group.alignAttr;n&&d(n,{left:r.translateX+t.legendItemWidth+n.x-20+"px",top:r.translateY+n.y+3+"px"})})},renderItem:function(e){var t,n=this,r=n.chart,i=r.renderer,s=n.options,o=s.layout==="horizontal",u=s.symbolWidth,a=s.symbolPadding,f=n.itemStyle,l=n.itemHiddenStyle,c=n.padding,h=!s.rtl,p=s.width,d=s.itemMarginBottom||0,m=n.itemMarginTop,g=n.initialItemX,y=e.legendItem,b=e.series||e,w=b.options,E=w.showCheckbox;!y&&(e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(n.scrollGroup),b.drawLegendSymbol(n,e),e.legendItem=y=i.text(s.labelFormatter.call(e),h?u+a:-a,n.baseline,s.useHTML).css(sn(e.visible?f:l)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),e.legendGroup.on("mouseover",function(){e.setState("hover");y.css(n.options.itemHoverStyle)}).on("mouseout",function(){y.css(e.visible?f:l);e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):an(e,"legendItemClick",t,n)}),n.colorizeItem(e,e.visible),w&&E)&&(e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,r.container),on(e.checkbox,"click",function(t){an(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})}));i=y.getBBox();t=e.legendItemWidth=s.itemWidth||u+a+i.width+c+(E?20:0),s=t;n.itemHeight=u=i.height;o&&n.itemX-g+s>(p||r.chartWidth-2*c-g)&&(n.itemX=g,n.itemY+=m+n.lastLineHeight+d,n.lastLineHeight=0);n.maxItemWidth=G(n.maxItemWidth,s);n.lastItemY=m+n.itemY+d;n.lastLineHeight=G(u,n.lastLineHeight);e._legendItemPos=[n.itemX,n.itemY];o?n.itemX+=s:(n.itemY+=m+u+d,n.lastLineHeight=u);n.offsetWidth=p||G(o?n.itemX-g:s,n.offsetWidth)},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX;t.itemY=t.initialItemY;t.offsetWidth=0;t.lastItemY=0;i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup),t.clipRect=r.clipRect(0,0,9999,n.chartHeight),t.contentGroup.clip(t.clipRect));s=[];en(n.series,function(e){var t=e.options;t.showInLegend&&(s=s.concat(e.legendItems||(t.legendType==="point"?e.data:e)))});T(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});l.reversed&&s.reverse();t.allItems=s;t.display=o=!!s.length;en(s,function(e){t.renderItem(e)});u=l.width||t.offsetWidth;a=t.lastItemY+t.lastLineHeight;a=t.handleOverflow(a);if(h||p){u+=c;a+=c;f?u>0&&a>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,u,a)),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||Ct}).add(i).shadow(l.shadow),f.isNew=!0);f[o?"show":"hide"]()}t.legendWidth=u;t.legendHeight=a;en(s,function(e){t.positionItem(e)});o&&i.align(e({width:u,height:a},l),!0,n.spacingBox);n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u=this.clipRect,a=i.navigation,f=p(a.animation,!0),l=a.arrowSize||12,c=this.nav;i.layout==="horizontal"&&(s/=2);o&&(s=Y(s,o));if(e>s){this.clipHeight=n=s-20;this.pageCount=Q(e/n);this.currentPage=p(this.currentPage,1);this.fullHeight=e;u.attr({height:n});c||(this.nav=c=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,l,l).on("click",function(){t.scroll(-1,f)}).add(c),this.pager=r.text("",15,10).css(a.style).add(c),this.down=r.symbol("triangle-down",0,0,l,l).on("click",function(){t.scroll(1,f)}).add(c));t.scroll(0);e=s}else c&&(u.attr({height:n.chartHeight}),c.hide(),this.scrollGroup.attr({translateY:1}));return e},scroll:function(e,t){var n=this.pageCount,r=this.currentPage+e,i=this.clipHeight,s=this.options.navigation,o=s.activeColor,s=s.inactiveColor,u=this.pager,a=this.padding;r>n&&(r=n);r>0&&(t!==W&&M(t,this.chart),this.nav.attr({translateX:a,translateY:i+7,visibility:"visible"}),this.up.attr({fill:r===1?s:o}).css({cursor:r===1?"default":"pointer"}),u.attr({text:r+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?s:o}).css({cursor:r===n?"default":"pointer"}),this.scrollGroup.animate({translateY:-Y(i*(r-1),this.fullHeight-i+a)+1}),u.attr({text:r+"/"+n}),this.currentPage=r)}};R.prototype={initSeries:function(e){var t=this.options.chart,t=new Jt[e.type||t.type||t.defaultSeriesType];t.init(this,e);return t},addSeries:function(e,t,n){var r,i=this;e&&(M(n,i),t=p(t,!0),an(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=!0;t&&i.redraw()}));return r},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&en(this.axes,function(e){e.adjustTickAmount()});this.maxTicks=null},redraw:function(e){var t=this.axes,n=this.series,r=this.tracker,i=this.legend,s=this.isDirtyLegend,o,u=this.isDirtyBox,a=n.length,f=a,l=this.renderer,c=l.isHidden(),h=[];M(e,this);for(c&&this.cloneRenderTo();f--;)if(e=n[f],e.isDirty&&e.options.stacking){o=!0;break}if(o)for(f=a;f--;)if(e=n[f],e.options.stacking)e.isDirty=!0;en(n,function(e){e.isDirty&&e.options.legendType==="point"&&(s=!0)});s&&i.options.enabled&&(i.render(),this.isDirtyLegend=!1);if(this.hasCartesianSeries){this.isResizing||(this.maxTicks=null,en(t,function(e){e.setScale()}));this.adjustTickAmounts();this.getMargins();en(t,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,h.push(function(){an(e,"afterSetExtremes",e.getExtremes())}));if(e.isDirty||u||o)e.redraw(),u=!0})}u&&this.drawChartBox();en(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()});r&&r.resetTracker&&r.resetTracker(!0);l.draw();an(this,"redraw");c&&this.cloneRenderTo(!0);en(h,function(e){e.call()})},showLoading:function(t){var n=this.options,r=this.loadingDiv,i=n.loading;r||(this.loadingDiv=r=v(Nt,{className:"highcharts-loading"},e(i.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:Ct}),this.container),this.loadingSpan=v("span",null,i.labelStyle,r));this.loadingSpan.innerHTML=t||n.lang.loading;this.loadingShown||(d(r,{opacity:0,display:""}),ln(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&ln(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:Ct})}});this.loadingShown=!1},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis||{},t=t.yAxis||{},n=h(n);en(n,function(e,t){e.index=t;e.isX=!0});t=h(t);en(t,function(e,t){e.index=t});n=n.concat(t);en(n,function(t){new j(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];en(this.series,function(t){e=e.concat(tn(t.points,function(e){return e.selected}))});return e},getSelectedSeries:function(){return tn(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=bt.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,e[s]);this.resetZoomButton.alignTo=s},zoomOut:function(){var e=this,t=e.resetZoomButton;an(e,"selection",{resetSelection:!0},function(){e.zoom()});t&&(e.resetZoomButton=t.destroy())},zoom:function(e){var t=this,n;!e||e.resetSelection?en(t.axes,function(e){n=e.zoom()}):en(e.xAxis.concat(e.yAxis),function(e){var r=e.axis;t.tracker[r.isXAxis?"zoomX":"zoomY"]&&(n=r.zoom(e.min,e.max))});t.resetZoomButton||t.showResetZoom();n&&t.redraw(p(t.options.chart.animation,t.pointCount<100))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,r=t.pointRange/2,i=t.getExtremes(),s=t.translate(n-e,!0)+r,n=t.translate(n+this.plotWidth-e,!0)-r;(r=this.hoverPoints)&&en(r,function(e){e.setState()});t.series.length&&s>Y(i.dataMin,i.min)&&n<G(i.dataMax,i.max)&&t.setExtremes(s,n,!0,!1,{trigger:"pan"});this.mouseDownX=e;d(this.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i;n.chartTitleOptions=i=sn(r.title,e);n.chartSubtitleOptions=r=sn(r.subtitle,t);en([["title",e,i],["subtitle",t,r]],function(e){var t=e[0],r=n[t],i=e[1],e=e[2];r&&i&&(n[t]=r=r.destroy());e&&e.text&&!r&&(n[t]=n.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add().align(e,!1,n.spacingBox))})},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=Gt(t,"width");this.containerHeight=Gt(t,"height");this.chartWidth=e.width||this.containerWidth||600;this.chartHeight=e.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),L(t),delete this.renderToClone):(n&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),d(t,{position:"absolute",top:"-9999px",display:"block"}),X.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,n=this.options.chart,i,s,o;this.renderTo=t=n.renderTo;o="highcharts-"+gt++;r(t)&&(this.renderTo=t=X.getElementById(t));t||A(13,!0);t.innerHTML="";t.offsetWidth||this.cloneRenderTo();this.getChartSize();i=this.chartWidth;s=this.chartHeight;this.container=t=v(Nt,{className:"highcharts-container"+(n.className?" "+n.className:""),id:o},e({position:"relative",overflow:"hidden",width:i+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||t);this.renderer=n.forExport?new dn(t,i,s,!0):new dt(t,i,s);pt&&this.renderer.create(this,t,i,s)},getMargins:function(){var e=this.options.chart,t=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,e=e.spacingLeft,i,s=this.legend,o=this.optionsMarginTop,u=this.optionsMarginLeft,a=this.optionsMarginRight,f=this.optionsMarginBottom,c=this.chartTitleOptions,h=this.chartSubtitleOptions,d=this.options.legend,v=p(d.margin,10),m=d.x,g=d.y,y=d.align,b=d.verticalAlign;this.resetMargins();i=this.axisOffset;(this.title||this.subtitle)&&!l(this.optionsMarginTop)&&(h=G(this.title&&!c.floating&&!c.verticalAlign&&c.y||0,this.subtitle&&!h.floating&&!h.verticalAlign&&h.y||0))&&(this.plotTop=G(this.plotTop,h+p(c.margin,15)+t));s.display&&!d.floating&&(y==="right"?l(a)||(this.marginRight=G(this.marginRight,s.legendWidth-m+v+n)):y==="left"?l(u)||(this.plotLeft=G(this.plotLeft,s.legendWidth+m+v+e)):b==="top"?l(o)||(this.plotTop=G(this.plotTop,s.legendHeight+g+v+t)):b==="bottom"&&!l(f)&&(this.marginBottom=G(this.marginBottom,s.legendHeight-g+v+r)));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&en(this.axes,function(e){e.getOffset()});l(u)||(this.plotLeft+=i[3]);l(o)||(this.plotTop+=i[0]);l(f)||(this.marginBottom+=i[2]);l(a)||(this.marginRight+=i[1]);this.setChartSize()},initReflow:function(){function e(e){var s=n.width||Gt(r,"width"),o=n.height||Gt(r,"height"),e=e?e.target:V;if(s&&o&&(e===V||e===X)){if(s!==t.containerWidth||o!==t.containerHeight)clearTimeout(i),t.reflowTimeout=i=setTimeout(function(){t.container&&t.resize(s,o,!1)},100);t.containerWidth=s;t.containerHeight=o}}var t=this,n=t.options.chart,r=t.renderTo,i;on(V,"resize",e);on(t,"destroy",function(){un(V,"resize",e)})},resize:function(e,t,n){var r=this,i,s,o=r.resetZoomButton,u=r.title,a=r.subtitle,f;r.isResizing+=1;f=function(){r&&an(r,"endResize",null,function(){r.isResizing-=1})};M(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;l(e)&&(r.chartWidth=i=J(e));l(t)&&(r.chartHeight=s=J(t));d(r.container,{width:i+"px",height:s+"px"});r.renderer.setSize(i,s,n);r.plotWidth=i-r.plotLeft-r.marginRight;r.plotHeight=s-r.plotTop-r.marginBottom;r.maxTicks=null;en(r.axes,function(e){e.isDirty=!0;e.setScale()});en(r.series,function(e){e.isDirty=!0});r.isDirtyLegend=!0;r.isDirtyBox=!0;r.getMargins();e=r.spacingBox;u&&u.align(null,null,e);a&&a.align(null,null,e);o&&o.align&&o.align(null,null,r[o.alignTo]);r.redraw(n);r.oldChartHeight=null;an(r,"resize");Et===!1?f():setTimeout(f,Et&&Et.duration||500)},setChartSize:function(){var e=this.inverted,t=this.chartWidth,n=this.chartHeight,r=this.options.chart,i=r.spacingTop,s=r.spacingRight,o=r.spacingBottom,u=r.spacingLeft,a,f,l,c;this.plotLeft=a=J(this.plotLeft);this.plotTop=f=J(this.plotTop);this.plotWidth=l=J(t-a-this.marginRight);this.plotHeight=c=J(n-f-this.marginBottom);this.plotSizeX=e?c:l;this.plotSizeY=e?l:c;this.plotBorderWidth=e=r.plotBorderWidth||0;this.spacingBox={x:u,y:i,width:t-u-s,height:n-i-o};this.plotBox={x:a,y:f,width:l,height:c};this.clipBox={x:e/2,y:e/2,width:this.plotSizeX-e,height:this.plotSizeY-e};en(this.axes,function(e){e.setAxisSize();e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,r=e.spacingLeft;this.plotTop=p(this.optionsMarginTop,e.spacingTop);this.marginRight=p(this.optionsMarginRight,t);this.marginBottom=p(this.optionsMarginBottom,n);this.plotLeft=p(this.optionsMarginLeft,r);this.axisOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)if(i)i.animate(i.crisp(null,null,null,n-p,r-p));else{i={fill:f||Ct};a&&(i.stroke=e.borderColor,i["stroke-width"]=a);this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).add().shadow(e.shadow)}l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow));c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add());b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w);h&&(o?o.animate(o.crisp(null,d,v,m,g)):this.plotBorder=t.rect(d,v,m,g,0,h).attr({stroke:e.plotBorderColor,"stroke-width":h,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;en(["inverted","angular","polar"],function(o){n=Jt[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=Jt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},render:function(){var t=this,r=t.axes,i=t.renderer,s=t.options,o=s.labels,s=s.credits,u;t.setTitle();t.legend=new q(t);en(r,function(e){e.setScale()});t.getMargins();t.maxTicks=null;en(r,function(e){e.setTickPositions(!0);e.setMaxTicks()});t.adjustTickAmounts();t.getMargins();t.drawChartBox();t.hasCartesianSeries&&en(r,function(e){e.render()});t.seriesGroup||(t.seriesGroup=i.g("series-group").attr({zIndex:3}).add());en(t.series,function(e){e.translate();e.setTooltipPoints();e.render()});o.items&&en(o.items,function(r){var s=e(o.style,r.style),u=n(s.left)+t.plotLeft,a=n(s.top)+t.plotTop+12;delete s.left;delete s.top;i.text(r.html,u,a).attr({zIndex:2}).css(s).add()});s.enabled&&!t.credits&&(u=s.href,t.credits=i.text(s.text,0,0).on("click",function(){u&&(location.href=u)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position));t.hasRendered=!0},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;an(e,"destroy");un(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();en("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())});r&&(r.innerHTML="",un(r),s&&L(r));for(i in e)delete e[i]},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!ct&&V==V.top&&X.readyState!=="complete"||pt&&!V.canvg)pt?yn.push(function(){e.firstRender()},t.global.canvasToolsURL):X.attachEvent("onreadystatechange",function(){X.detachEvent("onreadystatechange",e.firstRender);X.readyState==="complete"&&e.firstRender()});else{e.getContainer();an(e,"init");Highcharts.RangeSelector&&t.rangeSelector.enabled&&(e.rangeSelector=new Highcharts.RangeSelector(e));e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();en(t.series||[],function(t){e.initSeries(t)});Highcharts.Scroller&&(t.navigator.enabled||t.scrollbar.enabled)&&(e.scroller=new Highcharts.Scroller(e));e.tracker=new I(e,t);e.render();e.renderer.draw();n&&n.apply(e,[e]);en(e.callbacks,function(t){t.apply(e,[e])});e.cloneRenderTo(!0);an(e,"load")}},init:function(e){var t=this.options.chart,n;t.reflow!==!1&&on(this,"load",this.initReflow);if(e)for(n in e)on(this,n,e[n]);this.xAxis=[];this.yAxis=[];this.animation=pt?!1:p(t.animation,!0);this.setSize=this.resize;this.pointCount=0;this.counters=new x;this.firstRender()}};R.prototype.callbacks=[];var bn=function(){};bn.prototype={init:function(e,t,n){var r=e.chart.counters;this.series=e;this.applyOptions(t,n);this.pointAttr={};e.options.colorByPoint&&(t=e.chart.options.colors,this.color=this.color||t[r.color++],r.wrapColor(t.length));e.chart.pointCount++;return this},applyOptions:function(t,n){var r=this.series,i=typeof t;this.config=t;if(i==="number"||t===null)this.y=t;else if(typeof t[0]=="number")this.x=t[0],this.y=t[1];else if(i==="object"&&typeof t.length!="number"){e(this,t);this.options=t;t.dataLabels&&(r._hasPointLabels=!0);t.marker&&(r._hasPointMarkers=!0)}else typeof t[0]=="string"&&(this.name=t[0],this.y=t[1]);this.x===W&&(this.x=n===W?r.autoIncrement():n)},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--;t&&(this.setState(),f(t,this),!t.length)&&(e.hoverPoints=null);this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)un(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,tracker,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,r=n.series.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=e;n.setState(e&&"select");t||en(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=!1,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this.series,t=e.chart,n=t.tooltip,r=t.hoverPoint;r&&r!==this&&r.onMouseOut();this.firePointEvent("mouseOver");n&&(!n.shared||e.noSharedTooltip)&&n.refresh(this);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||Zt(this,t)===-1)this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),s=/[{\.}]/,o,u,a,f,l={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};n.valuePrefix=n.valuePrefix||n.yPrefix;n.valueDecimals=n.valueDecimals||n.yDecimals;n.valueSuffix=n.valueSuffix||n.ySuffix;for(f in i)u=i[f],r(u)&&u!==e&&(a=(" "+u).split(s),o={point:this,series:t}[a[1]],a=a[2],o===this&&l.hasOwnProperty(a)?(o=l[a]?a:"value",o=(n[o+"Prefix"]||"")+g(this[a],p(n[o+"Decimals"],-1))+(n[o+"Suffix"]||"")):o=o[a],e=e.replace(u,o));return e},update:function(e,t,n){var r=this,s=r.series,o=r.graphic,u,a=s.data,f=a.length,l=s.chart,t=p(t,!0);r.firePointEvent("update",{options:e},function(){r.applyOptions(e);i(e)&&(s.getAttribs(),o&&o.attr(r.pointAttr[s.state]));for(u=0;u<f;u++)if(a[u]===r){s.xData[u]=r.x;s.yData[u]=r.y;s.options.data[u]=e;break}s.isDirty=!0;s.isDirtyData=!0;t&&l.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data,u=o.length;M(t,i);e=p(e,!0);n.firePointEvent("remove",null,function(){for(s=0;s<u;s++)if(o[s]===n){o.splice(s,1);r.options.data.splice(s,1);r.xData.splice(s,1);r.yData.splice(s,1);break}n.destroy();r.isDirty=!0;r.isDirtyData=!0;e&&i.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents();e==="click"&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)});an(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=sn(this.series.options.point,this.options).events,t;this.events=e;for(t in e)on(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(e){var t=this.plotX,n=this.plotY,r=this.series,i=r.options.states,s=hn[r.type].marker&&r.options.marker,o=s&&!s.enabled,u=s&&s.states[e],a=u&&u.enabled===!1,f=r.stateMarkerGraphic,l=r.chart,c=this.pointAttr,e=e||"";if(!(e===this.state||this.selected&&e!=="select"||i[e]&&i[e].enabled===!1||e&&(a||o&&!u.enabled))){if(this.graphic)i=s&&this.graphic.symbolName&&c[e].r,this.graphic.attr(sn(c[e],i?{x:t-i,y:n-i,width:2*i,height:2*i}:{}));else{e&&u&&(i=u.radius,f?f.attr({x:t-i,y:n-i}):r.stateMarkerGraphic=f=l.renderer.symbol(r.symbol,t-i,n-i,2*i,2*i).attr(c[e]).add(r.markerGroup));f&&f[e&&l.isInsidePlot(t,n)?"show":"hide"]()}this.state=e}}};var wn=function(){};wn.prototype={isCartesian:!0,type:"line",pointClass:bn,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(t,n){var r,i;this.chart=t;this.options=n=this.setOptions(n);this.bindAxes();e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});pt&&(n.animation=!1);i=n.events;for(r in i)on(this,r,i[r]);if(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;this.getColor();this.getSymbol();this.setData(n.data,!1);this.isCartesian&&(t.hasCartesianSeries=!0);t.series.push(this);T(t.series,function(e,t){return(e.options.index||0)-(t.options.index||0)});en(t.series,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;e.isCartesian&&en(["xAxis","yAxis"],function(i){en(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]===W&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0})})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);this.pointInterval=p(this.pointInterval,e.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else en(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var t=this.chart.options,n=t.plotOptions,r=n[this.type],i=e.data;e.data=null;n=sn(r,n.series,e);n.data=e.data=i;this.tooltipOptions=sn(t.tooltip,n.tooltip);r.marker===null&&delete n.marker;return n},getColor:function(){var e=this.options,t=this.chart.options.colors,n=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[n.color++]||"gray";n.wrapColor(t.length)},getSymbol:function(){var e=this.options.marker,t=this.chart,n=t.options.symbols,t=t.counters;this.symbol=e.symbol||n[t.symbol++];/^url/.test(this.symbol)&&(e.radius=0);t.wrapSymbol(n.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r=e.options.symbolWidth,i=this.chart.renderer,s=this.legendGroup,e=e.baseline,o;if(t.lineWidth){o={"stroke-width":t.lineWidth};t.dashStyle&&(o.dashstyle=t.dashStyle);this.legendLine=i.path(["M",0,e-4,"L",r,e-4]).attr(o).add(s)}n&&n.enabled&&(t=n.radius,this.legendSymbol=i.symbol(this.symbol,r/2-t,e-4-t,2*t,2*t).add(s))},addPoint:function(e,t,n,r){var i=this.data,s=this.graph,o=this.area,u=this.chart,a=this.xData,f=this.yData,l=s&&s.shift||0,c=this.options.data,h=this.pointClass.prototype;M(r,u);s&&n&&(s.shift=l+1);if(o){n&&(o.shift=l+1);o.isArea=!0}t=p(t,!0);r={series:this};h.applyOptions.apply(r,[e]);a.push(r.x);f.push(h.toYData?h.toYData.call(r):r.y);c.push(e);n&&(i[0]&&i[0].remove?i[0].remove(!1):(i.shift(),a.shift(),f.shift(),c.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;t&&u.redraw()},setData:function(e,t){var n=this.points,i=this.options,u=this.initialColor,a=this.chart,f=null,c=this.xAxis,h,d=this.pointClass.prototype;this.xIncrement=null;this.pointRange=c&&c.categories?1:i.pointRange;l(u)&&(a.counters.color=u);var u=[],v=[],m=e?e.length:[],g=(h=this.pointArrayMap)&&h.length;if(m>(i.turboThreshold||1e3)){for(h=0;f===null&&h<m;)f=e[h],h++;if(o(f)){d=p(i.pointStart,0);i=p(i.pointInterval,1);for(h=0;h<m;h++)u[h]=d,v[h]=e[h],d+=i;this.xIncrement=d}else if(s(f))if(g)for(h=0;h<m;h++)i=e[h],u[h]=i[0],v[h]=i.slice(1,g+1);else for(h=0;h<m;h++)i=e[h],u[h]=i[0],v[h]=i[1]}else for(h=0;h<m;h++)i={series:this},d.applyOptions.apply(i,[e[h]]),u[h]=i.x,v[h]=d.toYData?d.toYData.call(i):i.y;r(v[0])&&A(14,!0);this.data=[];this.options.data=e;this.xData=u;this.yData=v;for(h=n&&n.length||0;h--;)n[h]&&n[h].destroy&&n[h].destroy();c&&(c.minRange=c.userMinRange);this.isDirty=this.isDirtyData=a.isDirtyBox=!0;p(t,!0)&&a.redraw(!1)},remove:function(e,t){var n=this,r=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,an(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=!0;e&&r.redraw(t)}));n.isRemoving=!1},processData:function(e){var t=this.xData,n=this.yData,r=t.length
,i=0,s=r,o,u,a=this.xAxis,f=this.options,l=f.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(c&&this.sorted&&(!l||r>l||this.forceCrop))if(e=a.getExtremes(),a=e.min,l=e.max,t[r-1]<a||t[0]>l)t=[],n=[];else if(t[0]<a||t[r-1]>l){for(e=0;e<r;e++)if(t[e]>=a){i=G(0,e-1);break}for(;e<r;e++)if(t[e]>l){s=e+1;break}t=t.slice(i,s);n=n.slice(i,s);o=!0}for(e=t.length-1;e>0;e--)if(r=t[e]-t[e-1],r>0&&(u===W||r<u))u=r;this.cropped=o;this.cropStart=i;this.processedXData=t;this.processedYData=n;f.pointRange===null&&(this.pointRange=u||1);this.closestPointRange=u},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?c[p]=(new s).init(this,[r[p]].concat(h(i[p]))):(t[a]?l=t[a]:e[a]!==W&&(t[a]=l=(new s).init(this,e[a],r[p])),c[p]=l);if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=W;this.data=t;this.points=c},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var e=this.chart,t=this.options,n=t.stacking,r=this.xAxis,i=r.categories,s=this.yAxis,o=this.points,u=o.length,a=!!this.modifyValue,f,c=s.series,h=c.length,d=t.pointPlacement==="between";h--;)if(c[h].visible){c[h]===this&&(f=!0);break}for(h=0;h<u;h++){var c=o[h],v=c.x,m=c.y,g=c.low,y=s.stacks[(m<t.threshold?"-":"")+this.stackKey];c.plotX=r.translate(v,0,0,0,1,d);n&&this.visible&&y&&y[v]&&(g=y[v],v=g.total,g.cum=g=g.cum-m,m=g+m,f&&(g=p(t.threshold,s.min)),s.isLog&&g<=0&&(g=null),n==="percent"&&(g=v?g*100/v:0,m=v?m*100/v:0),c.percentage=v?c.y*100/v:0,c.total=c.stackTotal=v,c.stackY=m);c.yBottom=l(g)?s.translate(g,0,1,0,1):null;a&&(m=this.modifyValue(m,c));c.plotY=typeof m=="number"?J(s.translate(m,0,1,0,1)*10)/10:W;c.clientX=e.inverted?e.plotHeight-c.plotX:c.plotX;c.category=i&&i[c.x]!==W?i[c.x]:c.x}this.getSegments()},setTooltipPoints:function(e){var t=[],n,r,i=(n=this.xAxis)?n.tooltipLen||n.len:this.chart.plotSizeX,s=n&&n.tooltipPosName||"plotX",o,u,a=[];if(this.options.enableMouseTracking!==!1){e&&(this.tooltipPoints=null);en(this.segments||this.points,function(e){t=t.concat(e)});n&&n.reversed&&(t=t.reverse());e=t.length;for(u=0;u<e;u++){o=t[u];n=t[u-1]?r+1:0;for(r=t[u+1]?G(0,K((o[s]+(t[u+1]?t[u+1][s]:i))/2)):i;n>=0&&n<=r;)a[n++]=o}this.tooltipPoints=a}},tooltipHeaderFormatter:function(e){var t=this.tooltipOptions,n=t.xDateFormat,r=this.xAxis,i=r&&r.options.type==="datetime",s;if(i&&!n)for(s in xt)if(xt[s]>=r.closestPointRange){n=t.dateTimeLabelFormats[s];break}return t.headerFormat.replace("{point.key}",i&&o(e)?wt(n,e):e).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut();this.options.events.mouseOver&&an(this,"mouseOver");this.setState("hover");e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;r&&r.onMouseOut();this&&e.events.mouseOut&&an(this,"mouseOut");n&&!e.stickyTracking&&!n.shared&&n.hide();this.setState();t.hoverSeries=null},animate:function(t){var n=this,r=n.chart,s=r.renderer,o;o=n.options.animation;var u=r.clipBox,a=r.inverted,f;o&&!i(o)&&(o=hn[n.type].animation);f="_sharedClip"+o.duration+o.easing;if(t)t=r[f],o=r[f+"m"],t||(r[f]=t=s.clipRect(e(u,{width:0})),r[f+"m"]=o=s.clipRect(-99,a?-r.plotLeft:-r.plotTop,99,a?r.chartWidth:r.chartHeight)),n.group.clip(t),n.markerGroup.clip(o),n.sharedClipKey=f;else{if(t=r[f])t.animate({width:r.plotSizeX},o),r[f+"m"].animate({width:r.plotSizeX+99},o);n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},o.duration)}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip());setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,d,v=this.markerGroup;if(h.enabled||this._hasPointMarkers)for(o=n.length;o--;)(u=n[o],i=u.plotX,s=u.plotY,c=u.graphic,f=u.marker||{},t=h.enabled&&f.enabled===W||f.enabled,d=r.isInsidePlot(i,s,r.inverted),t&&s!==W&&!isNaN(s))?(t=u.pointAttr[u.selected?"select":""],a=t.r,f=p(f.symbol,this.symbol),l=f.indexOf("url")===0,c)?c.attr({visibility:d?ct?"inherit":"visible":"hidden"}).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{})):d&&(a>0||l)&&(u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a).attr(t).add(v)):c&&(u.graphic=c.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=p(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=hn[t.type].marker?t.options.marker:t.options,r=n.states,i=r.hover,s,o=t.color,u={stroke:o,fill:o},a=t.points||[],f=[],c,h=t.pointAttrToOptions,p;t.options.marker?(i.radius=i.radius||n.radius+2,i.lineWidth=i.lineWidth||n.lineWidth+1):i.color=i.color||pn(i.color||o).brighten(i.brightness).get();f[""]=t.convertAttribs(n,u);en(["hover","select"],function(e){f[e]=t.convertAttribs(r[e],f[""])});t.pointAttr=f;for(o=a.length;o--;){u=a[o];(n=u.options&&u.options.marker||u.options)&&n.enabled===!1&&(n.radius=0);s=t.options.colorByPoint;if(u.options)for(p in h)l(n[h[p]])&&(s=!0);if(s){n=n||{};c=[];r=n.states||{};s=r.hover=r.hover||{};t.options.marker||(s.color=pn(s.color||u.color).brighten(s.brightness||i.brightness).get());c[""]=t.convertAttribs(e({color:u.color},n),f[""]);c.hover=t.convertAttribs(r.hover,f.hover,c[""]);c.select=t.convertAttribs(r.select,f.select,c[""])}else c=f;u.pointAttr=c}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(it),r,i,s=e.data||[],o,u,a;an(e,"destroy");un(e);en(["xAxis","yAxis"],function(t){if(a=e[t])f(a.series,e),a.isDirty=!0});e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null;clearTimeout(e.animationTimeout);en("area,graph,dataLabelsGroup,group,markerGroup,tracker,trackerGroup".split(","),function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())});t.hoverSeries===e&&(t.hoverSeries=null);f(t.series,e);for(u in e)delete e[u]},drawDataLabels:function(){var e=this,t=e.options.dataLabels,n=e.points,r,i,s,o;if(t.enabled||e._hasPointLabels)e.dlProcessOptions&&e.dlProcessOptions(t),o=e.plotGroup("dataLabelsGroup","data-labels",e.visible?"visible":"hidden",6),i=t,en(n,function(n){var u,a=n.dataLabel,f,c=!0;r=n.options&&n.options.dataLabels;u=i.enabled||r&&r.enabled;if(a&&!u)n.dataLabel=a.destroy();else if(u){u=t.rotation;t=sn(i,r);s=t.formatter.call(n.getLabelConfig(),t);t.style.color=p(t.color,t.style.color,e.color,"black");if(a)a.attr({text:s}),c=!1;else if(l(s)){a={fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,r:t.borderRadius||0,rotation:u,padding:t.padding,zIndex:1};for(f in a)a[f]===W&&delete a[f];a=n.dataLabel=e.chart.renderer[u?"text":"label"](s,0,-999,null,null,null,t.useHTML).attr(a).css(t.style).add(o).shadow(t.shadow)}a&&e.alignDataLabel(n,a,t,null,c)}})},alignDataLabel:function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=p(t.plotX,-999),t=p(t.plotY,-999),f=n.getBBox(),i=e({x:u?o.plotWidth-t:a,y:J(u?o.plotHeight-a:t),width:0,height:0},i);e(r,{width:f.width,height:f.height});r.rotation?(i={align:r.align,x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2},n[s?"attr":"animate"](i)):(n.align(r,null,i),i=n.alignAttr);n.attr({visibility:r.crop===!1||o.isInsidePlot(i.x,i.y)||o.isInsidePlot(a,t,u)?ct?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[];en(e,function(r,i){t.getPointSpline?n.push.apply(n,t.getPointSpline(e,r,i)):(n.push(i?"L":"M"),i&&t.options.step&&n.push(r.plotX,e[i-1].plotY),n.push(r.plotX,r.plotY))});return n},getGraphPath:function(){var e=this,t=[],n,r=[];en(e.segments,function(i){n=e.getSegmentPath(i);i.length>1?t=t.concat(n):r.push(i[0])});e.singlePoints=r;return e.graphPath=t},drawGraph:function(){var e=this.options,t=this.graph,n=this.group,r=e.lineColor||this.color,i=e.lineWidth,s=e.dashStyle,o=this.getGraphPath();if(t)cn(t),t.animate({d:o});else if(i){t={stroke:r,"stroke-width":i,zIndex:1};s&&(t.dashstyle=s);this.graph=this.chart.renderer.path(o).attr(t).add(n).shadow(e.shadow)}},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};en(["group","trackerGroup","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;on(n,"resize",e);on(t,"destroy",function(){un(n,"resize",e)});e();t.invertGroups=e},plotGroup:function(e,t,n,r,i){var s=this[e],o=this.chart,u=this.xAxis,a=this.yAxis;s||(this[e]=s=o.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i));s.translate(u?u.left:o.plotLeft,a?a.top:o.plotTop);return s},render:function(){var e=this.chart,t,n=this.options,r=n.animation&&!!this.animate,i=this.visible?"visible":"hidden",s=n.zIndex,o=this.hasRendered,u=e.seriesGroup;t=this.plotGroup("group","series",i,s,u);this.markerGroup=this.plotGroup("markerGroup","markers",i,s,u);r&&this.animate(!0);this.getAttribs();t.inverted=e.inverted;this.drawGraph&&this.drawGraph();this.drawPoints();this.drawDataLabels();this.options.enableMouseTracking!==!1&&this.drawTracker();e.inverted&&this.invertGroups();n.clip!==!1&&!this.sharedClipKey&&!o&&(t.clip(e.clipRect),this.trackerGroup&&this.trackerGroup.clip(e.clipRect));r?this.animate():o||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:this.xAxis.left,translateY:this.yAxis.top}));this.translate();this.setTooltipPoints(!0);this.render();t&&an(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,r=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,r[e]&&r[e].enabled===!1||(e&&(t=r[e].lineWidth||t+1),n&&!n.dashstyle&&n.attr({"stroke-width":t},e?0:500)))},setVisible:function(e,t){var n=this.chart,r=this.legendItem,i=this.group,s=this.tracker,o=this.dataLabelsGroup,u=this.markerGroup,a,f=this.points,l=n.options.chart.ignoreHiddenSeries;a=this.visible;a=(this.visible=e=e===W?!a:e)?"show":"hide";i&&i[a]();u&&u[a]();if(s)s[a]();else if(f)for(i=f.length;i--;)(s=f[i],s.tracker)&&s.tracker[a]();o&&o[a]();r&&n.legend.colorizeItem(this,e);this.isDirty=!0;this.options.stacking&&en(n.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)});l&&(n.isDirtyBox=!0);t!==!1&&n.redraw();an(this,a)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===W?!this.selected:e;this.checkbox&&(this.checkbox.checked=e);an(this,e?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.renderer,u=s.options.tooltip.snap,a=e.tracker,f=t.cursor,f=f&&{cursor:f},l=e.singlePoints,c=this.isCartesian&&this.plotGroup("trackerGroup",null,"visible",t.zIndex||1,s.trackerGroup),h;if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-u,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+u,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-u,i.plotY,"L",i.plotX+u,i.plotY);a?a.attr({d:r}):e.tracker=o.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:e.visible?"visible":"hidden",stroke:kt,fill:n?kt:Ct,"stroke-width":t.lineWidth+(n?0:2*u)}).on(vt?"touchstart":"mouseover",function(){s.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){t.stickyTracking||e.onMouseOut()}).css(f).add(c)}};Qt=m(wn);Jt.line=Qt;hn.area=sn(Kt,{threshold:0});Qt=m(wn,{type:"area",getSegmentPath:function(e){var t=wn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;t.length===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)r<e.length-1&&i.step&&n.push(e[r+1].plotX,e[r].yBottom),n.push(e[r].plotX,e[r].yBottom);else this.closeSegment(n,e);this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[];wn.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,n=this.area;n?n.animate({d:e}):this.area=this.chart.renderer.path(e).attr({fill:p(t.fillColor,pn(this.color).setOpacity(t.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});Jt.area=Qt;hn.spline=sn(Kt);mn=m(wn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY;f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5;a=(1.5*i+e)/2.5;f=(1.5*r+f)/2.5;l=(1.5*i+o)/2.5;c=(l-a)*(f-r)/(f-u)+i-l;a+=c;l+=c;a>e&&a>i?(a=G(e,i),l=2*i-a):a<e&&a<i&&(a=Y(e,i),l=2*i-a);l>o&&l>i?(l=G(o,i),a=2*i-l):l<o&&l<i&&(l=Y(o,i),a=2*i-l);t.rightContX=f;t.rightContY=l}n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i];return t}});Jt.spline=mn;hn.areaspline=sn(hn.area);var En=Qt.prototype,mn=m(mn,{type:"areaspline",closedStacks:!0,getSegmentPath:En.getSegmentPath,closeSegment:En.closeSegment,drawGraph:En.drawGraph});Jt.areaspline=mn;hn.column=sn(Kt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});mn=m(wn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){wn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&en(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var e=this,t=e.chart,n=e.options,r=n.stacking,i=n.borderWidth,s=0,o=e.xAxis,u=o.reversed,a={},f,c;wn.prototype.translate.apply(e);n.grouping===!1?s=1:en(t.series,function(t){var n=t.options;t.type===e.type&&t.visible&&e.options.group===n.group&&(n.stacking?(f=t.stackKey,a[f]===W&&(a[f]=s++),c=a[f]):n.grouping!==!1&&(c=s++),t.columnIndex=c)});var h=e.points,o=Z(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||1),d=o*n.groupPadding,v=(o-2*d)/s,m=n.pointWidth,g=l(m)?(v-m)/2:v*n.pointPadding,y=p(m,v-2*g),b=Q(G(y,1+2*i)),w=g+(d+((u?s-e.columnIndex:e.columnIndex)||0)*v-o/2)*(u?-1:1),E=e.translatedThreshold=e.yAxis.getThreshold(n.threshold),S=p(n.minPointLength,5);en(h,function(n){var s=n.plotY,o=p(n.yBottom,E),u=n.plotX+w,a=Q(Y(s,o)),f=Q(G(s,o)-a),l=e.yAxis.stacks[(n.y<0?"-":"")+e.stackKey];r&&e.visible&&l&&l[n.x]&&l[n.x].setOffset(w,b);Z(f)<S&&S&&(f=S,a=Z(a-E)>S?o-S:E-(s<=E?S:0));n.barX=u;n.pointWidth=y;n.shapeType="rect";n.shapeArgs=s=t.renderer.Element.prototype.crisp.call(0,i,u,a,b,f);i%2&&(s.y-=1,s.height+=1);n.trackerArgs=Z(f)<3&&sn(n.shapeArgs,{height:6,y:a-3})})},getSymbol:Tt,drawLegendSymbol:Qt.prototype.drawLegendSymbol,drawGraph:Tt,drawPoints:function(){var e=this,t=e.options,n=e.chart.renderer,r;en(e.points,function(i){var s=i.plotY,o=i.graphic;s!==W&&!isNaN(s)&&i.y!==null?(r=i.shapeArgs,o?(cn(o),o.animate(sn(r))):i.graphic=n[i.shapeType](r).attr(i.pointAttr[i.selected?"select":""]).add(e.group).shadow(t.shadow,null,t.stacking&&!t.borderRadius)):o&&(i.graphic=o.destroy())})},drawTracker:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=+(new Date),o=e.options,u=o.cursor,a=u&&{cursor:u},f=e.isCartesian&&e.plotGroup("trackerGroup",null,"visible",o.zIndex||1,t.trackerGroup),l,h,p;en(e.points,function(u){i=u.tracker;r=u.trackerArgs||u.shapeArgs;h=u.plotY;p=!e.isCartesian||h!==W&&!isNaN(h);delete r.strokeWidth;u.y!==null&&p&&(i?i.attr(r):u.tracker=n[u.shapeType](r).attr({isTracker:s,fill:kt,visibility:e.visible?"visible":"hidden"}).on(vt?"touchstart":"mouseover",function(n){l=n.relatedTarget||n.fromElement;t.hoverSeries!==e&&c(l,"isTracker")!==s&&e.onMouseOver();u.onMouseOver()}).on("mouseout",function(t){!o.stickyTracking&&(l=t.relatedTarget||t.toElement,c(l,"isTracker")!==s)&&e.onMouseOut()}).css(a).add(u.group||f))})},alignDataLabel:function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.below||e.plotY>(this.translatedThreshold||s.plotSizeY),a=this.options.stacking||n.inside;e.shapeArgs&&(r=sn(e.shapeArgs),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),!a)&&(o?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0));n.align=p(n.align,!o||a?"center":u?"right":"left");n.verticalAlign=p(n.verticalAlign,o||a?"middle":u?"top":"bottom");wn.prototype.alignDataLabel.call(this,e,t,n,r,i)},animate:function(e){var t=this,n=t.points,r=t.options;e||(en(n,function(e){var n=e.graphic,e=e.shapeArgs,i=t.yAxis,s=r.threshold;n&&(n.attr({height:0,y:l(s)?i.getThreshold(s):i.translate(i.getExtremes().min,0,1,0,1)}),n.animate({height:e.height,y:e.y},r.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&en(t.series,function(t){t.type===e.type&&(t.isDirty=!0)});wn.prototype.remove.apply(e,arguments)}});Jt.column=mn;hn.bar=sn(hn.column);En=m(mn,{type:"bar",inverted:!0});Jt.bar=En;hn.scatter=sn(Kt,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});En=m(wn,{type:"scatter",sorted:!1,translate:function(){var e=this;wn.prototype.translate.apply(e);en(e.points,function(t){t.shapeType="circle";t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){for(var e=this,t=e.options.cursor,t=t&&{cursor:t},n=e.points,r=n.length,i;r--;)if(i=n[r].graphic)i.element._i=r;e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(vt?"touchstart":"mouseover",function(t){e.onMouseOver();t.target._i!==W&&n[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(t)}});Jt.scatter=En;hn.pie=sn(Kt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});Kt={type:"pie",isCartesian:!1,pointClass:m(bn,{init:function(){bn.prototype.init.apply(this,arguments);var t=this,n;e(t,{visible:t.visible!==!1,name:p(t.name,"Slice")});n=function(){t.slice()};on(t,"select",n);on(t,"unselect",n);return t},setVisible:function(e){var t=this.series,n=t.chart,r=this.tracker,i=this.dataLabel,s=this.connector,o=this.shadowGroup,u;u=(this.visible=e=e===W?!this.visible:e)?"show":"hide";this.group[u]();r&&r[u]();i&&i[u]();s&&s[u]();o&&o[u]();this.legendItem&&n.legend.colorizeItem(this,e);!t.isDirty&&t.options.ignoreHiddenPoint&&(t.isDirty=!0,n.redraw())},slice:function(e,t,n){var r=this.series.chart,i=this.slicedTranslation;M(n,r);p(t,!0);e=this.sliced=l(e)?e:!this.sliced;e={translateX:e?i[0]:r.plotLeft,translateY:e?i[1]:r.plotTop};this.group.animate(e);this.shadowGroup&&this.shadowGroup.animate(e)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this;en(e.points,function(t){var n=t.graphic,t=t.shapeArgs,r=-nt/2;n&&(n.attr({r:0,start:r,end:r}),n.animate({r:t.r,start:t.start,end:t.end},e.options.animation))});e.animate=null},setData:function(e,t){wn.prototype.setData.call(this,e,!1);this.processData();this.generatePoints();p(t,!0)&&this.chart.redraw()},getCenter:function(){var e=this.options,t=this.chart,r=t.plotWidth,i=t.plotHeight,e=e.center.concat([e.size,e.innerSize||0]),s=Y(r,i),o;return rn(e,function(e,t){return(o=/%$/.test(e))?[r,i,s,s][t]*n(e)/100:e})},translate:function(){this.generatePoints();var e=0,t=-0.25,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o=this.chart,u,a,f,l=this.points,c=2*nt,h=n.dataLabels.distance,p=n.ignoreHiddenPoint,d,v=l.length,m;this.center=s=this.getCenter();this.getX=function(e,t){f=$.asin((e-s[1])/(s[2]/2+h));return s[0]+(t?-1:1)*et(f)*(s[2]/2+h)};for(d=0;d<v;d++)m=l[d],e+=p&&!m.visible?0:m.y;for(d=0;d<v;d++){m=l[d];n=e?m.y/e:0;u=J(t*c*1e3)/1e3;if(!p||m.visible)t+=n;a=J(t*c*1e3)/1e3;m.shapeType="arc";m.shapeArgs={x:s[0],y:s[1],r:s[2]/2,innerR:s[3]/2,start:u,end:a};f=(a+u)/2;m.slicedTranslation=rn([et(f)*r+o.plotLeft,tt(f)*r+o.plotTop],J);u=et(f)*s[2]/2;a=tt(f)*s[2]/2;m.tooltipPos=[s[0]+u*.7,s[1]+a*.7];m.labelPos=[s[0]+u+et(f)*h,s[1]+a+tt(f)*h,s[0]+u+et(f)*i,s[1]+a+tt(f)*i,s[0]+u,s[1]+a,h<0?"center":f<c/4?"left":"right",f];m.percentage=n*100;m.total=e}this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var t=this,n=t.chart,r=n.renderer,i,s,o,u=t.options.shadow,a,f;en(t.points,function(l){s=l.graphic;f=l.shapeArgs;o=l.group;a=l.shadowGroup;u&&!a&&(a=l.shadowGroup=r.g("shadow").attr({zIndex:4}).add());o||(o=l.group=r.g("point").attr({zIndex:5}).add());i=l.sliced?l.slicedTranslation:[n.plotLeft,n.plotTop];o.translate(i[0],i[1]);a&&a.translate(i[0],i[1]);s?s.animate(f):l.graphic=s=r.arc(f).setRadialReference(t.center).attr(e(l.pointAttr[""],{"stroke-linejoin":"round"})).add(l.group).shadow(u,a);l.visible===!1&&l.setVisible(!1)})},drawDataLabels:function(){var e=this.data,t,n=this.chart,r=this.options.dataLabels,i=p(r.connectorPadding,10),s=p(r.connectorWidth,1),o,u,a=p(r.softConnector,!0),f=r.distance,l=this.center,c=l[2]/2,h=l[1],d=f>0,v=[[],[]],m,g,y,b,w=2,E;if(r.enabled||this._hasPointLabels){wn.prototype.drawDataLabels.apply(this);en(e,function(e){e.dataLabel&&v[e.labelPos[7]<nt/2?0:1].push(e)});v[1].reverse();b=function(e,t){return t.y-e.y};for(e=v[0][0]&&v[0][0].dataLabel&&(v[0][0].dataLabel.getBBox().height||21);w--;){var S=[],x=[],T=v[w],N=T.length,C;if(f>0){for(E=h-c-f;E<=h+c+f;E+=e)S.push(E);y=S.length;if(N>y){u=[].concat(T);u.sort(b);for(E=N;E--;)u[E].rank=E;for(E=N;E--;)T[E].rank>=y&&T.splice(E,1);N=T.length}for(E=0;E<N;E++){t=T[E];u=t.labelPos;t=9999;for(g=0;g<y;g++)o=Z(S[g]-u[1]),o<t&&(t=o,C=g);if(C<E&&S[E]!==null)C=E;else for(y<N-E+C&&S[E]!==null&&(C=y-N+E);S[C]===null;)C++;x.push({i:C,y:S[C]});S[C]=null}x.sort(b)}for(E=0;E<N;E++){t=T[E];u=t.labelPos;o=t.dataLabel;y=t.visible===!1?"hidden":"visible";m=u[1];if(f>0){if(g=x.pop(),C=g.i,g=g.y,m>g&&S[C+1]!==null||m<g&&S[C-1]!==null)g=m}else g=m;m=r.justify?l[0]+(w?-1:1)*(c+f):this.getX(C===0||C===S.length-1?m:g,w);o.attr({visibility:y,align:u[6]})[o.moved?"animate":"attr"]({x:m+r.x+({left:i,right:-i}[u[6]]||0),y:g+r.y-10});o.moved=!0;d&&s&&(o=t.connector,u=a?["M",m+(u[6]==="left"?5:-5),g,"C",m,g,2*u[2]-u[4],2*u[3]-u[5],u[2],u[3],"L",u[4],u[5]]:["M",m+(u[6]==="left"?5:-5),g,"L",u[2],u[3],"L",u[4],u[5]],o?(o.animate({d:u}),o.attr("visibility",y)):t.connector=o=this.chart.renderer.path(u).attr({"stroke-width":s,stroke:r.connectorColor||t.color||"#606060",visibility:y,zIndex:3}).translate(n.plotLeft,n.plotTop).add())}}}},alignDataLabel:Tt,drawTracker:mn.prototype.drawTracker,drawLegendSymbol:Qt.prototype.drawLegendSymbol,getSymbol:function(){}};Kt=m(wn,Kt);Jt.pie=Kt;var Sn=wn.prototype,xn=Sn.processData,Tn=Sn.generatePoints,Nn=Sn.destroy,Cn=Sn.tooltipHeaderFormatter,kn={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:t(Lt,["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],At,["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],Ot,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],Mt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],_t,["%Y%b%e日,%A","%A, %b %e","-%A, %b %e, %Y"],Dt,["%Y%b%e日,%A","%A, %b %e","-%A, %b %e, %Y"],Pt,["%B %Y","%B","-%B %Y"],Ht,["%Y","%Y","-%Y"])},Ln={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},An=[[Lt,[1,2,5,10,20,25,50,100,200,500]],[At,[1,2,5,10,15,30]],[Ot,[1,2,5,10,15,30]],[Mt,[1,2,3,4,6,8,12]],[_t,[1]],[Dt,[1]],[Pt,[1,3,6]],[Ht,null]],On={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t)for(n=0;t--;)n+=e[t];return n},average:function(e){var t=e.length,e=On.sum(e);typeof e=="number"&&t&&(e/=t);return e},open:function(e){return e.length?e[0]:e.hasNulls?null:W},high:function(e){return e.length?C(e):e.hasNulls?null:W},low:function(e){return e.length?N(e):e.hasNulls?null:W},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:W},ohlc:function(e,t,n,r){e=On.open(e);t=On.high(t);n=On.low(n);r=On.close(r);if(typeof e=="number"||typeof t=="number"||typeof n=="number"||typeof r=="number")return[e,t,n,r]},range:function(e,t){e=On.low(e);t=On.high(t);if(typeof e=="number"||typeof t=="number")return[e,t]}};Sn.groupData=function(e,t,n,r){var i=this.data,s=this.options.data,o=[],u=[],a=e.length,f,l,c=!!t,h=[[],[],[],[]],r=typeof r=="function"?r:On[r],p=this.pointArrayMap,d=p&&p.length,v;for(v=0;v<=a;v++){for(;n[1]!==W&&e[v]>=n[1]||v===a;)if(f=n.shift(),l=r.apply(0,h),l!==W&&(o.push(f),u.push(l)),h[0]=[],h[1]=[],h[2]=[],h[3]=[],v===a)break;if(v===a)break;if(p){f=this.cropStart+v;f=i&&i[f]||this.pointClass.prototype.applyOptions.apply({series:this},[s[f]]);var m;for(l=0;l<d;l++)(m=f[p[l]],typeof m=="number")?h[l].push(m):m===null&&(h[l].hasNulls=!0)}else(f=c?t[v]:null,typeof f=="number")?h[0].push(f):f===null&&(h[0].hasNulls=!0)}return[o,u]};Sn.processData=function(){var e=this.chart,t=this.options,n=t.dataGrouping,r=n&&p(n.enabled,e.options._stock),i;this.forceCrop=r;if(xn.apply(this,arguments)!==!1&&r){this.destroyGroupedData();var r=this.processedXData,s=this.processedYData,o=e.plotSizeX,u=this.xAxis,a=p(u.groupPixelWidth,n.groupPixelWidth),f=r.length,l=e.series,c=this.pointRange;if(!u.groupPixelWidth){for(e=l.length;e--;)l[e].xAxis===u&&l[e].options.dataGrouping&&(a=G(a,l[e].options.dataGrouping.groupPixelWidth));u.groupPixelWidth=a}if(f>o/a||f&&n.forced){i=!0;this.points=null;e=u.getExtremes();f=e.min;l=e.max;e=u.getGroupIntervalFactor&&u.getGroupIntervalFactor(f,l,r)||1;o=a*(l-f)/o*e;u=(u.getNonLinearTimeTicks||S)(E(o,n.units||An),f,l,null,r,this.closestPointRange);s=Sn.groupData.apply(this,[r,s,u,n.approximation]);r=s[0];s=s[1];if(n.smoothed){e=r.length-1;for(r[e]=l;e--&&e>0;)r[e]+=o/2;r[0]=f}this.currentDataGrouping=u.info;t.pointRange===null&&(this.pointRange=u.info.totalRange);this.closestPointRange=u.info.totalRange;this.processedXData=r;this.processedYData=s}else this.currentDataGrouping=null,this.pointRange=c;this.hasGroupedData=i}};Sn.destroyGroupedData=function(){var e=this.groupedData;en(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)});this.groupedData=null};Sn.generatePoints=function(){Tn.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};Sn.tooltipHeaderFormatter=function(e){var t=this.tooltipOptions,n=this.options.dataGrouping,r=t.xDateFormat,i,s=this.xAxis,u,a;if(s&&s.options.type==="datetime"&&n&&o(e)){u=this.currentDataGrouping;n=n.dateTimeLabelFormats;if(u)s=n[u.unitName],u.count===1?r=s[0]:(r=s[1],i=s[2]);else if(!r)for(a in xt)if(xt[a]>=s.closestPointRange){r=n[a][0];break}r=wt(r,e);i&&(r+=wt(i,e+u.totalRange-1));e=t.headerFormat.replace("{point.key}",r)}else e=Cn.apply(this,[e]);return e};Sn.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();Nn.apply(this)};b(Sn,"setOptions",function(e,t){var n=e.call(this,t),r=this.type,i=this.chart.options.plotOptions;if(Ln[r]){hn[r].dataGrouping||(hn[r].dataGrouping=sn(kn,Ln[r]));n.dataGrouping=sn(hn[r].dataGrouping,i.series&&i.series.dataGrouping,i[r].dataGrouping,t.dataGrouping)}return n});hn.ohlc=sn(hn.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});Kt=m(bn,{applyOptions:function(t){var n=this.series,r=n.pointArrayMap,i=0,s=0,o=r.length;if(typeof t=="object"&&typeof t.length!="number")e(this,t),this.options=t;else if(t.length){if(t.length>o){typeof t[0]=="string"?this.name=t[0]:typeof t[0]=="number"&&(this.x=t[0]);i++}for(;s<o;)this[r[s++]]=t[i++]}this.y=this[n.pointValKey];this.x===W&&n&&(this.x=n.autoIncrement());return this},tooltipFormatter:function(){var e=this.series;return['<span style="color:'+e.color+';font-weight:bold">',this.name||e.name,"</span><br/>Open: ",this.open,"<br/>High: ",this.high,"<br/>Low: ",this.low,"<br/>Close: ",this.close,"<br/>"].join("")},toYData:function(){return[this.open,this.high,this.low,this.close]}});Kt=m(Jt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],pointValKey:"high",pointClass:Kt,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Jt.column.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,e=e.upColor||this.color,n=sn(this.pointAttr),r=this.upColorProp;n[""][r]=e;n.hover[r]=t.hover.upColor||e;n.select[r]=t.select.upColor||e;en(this.points,function(e){e.open<e.close&&(e.pointAttr=n)})},translate:function(){var e=this.yAxis;Jt.column.prototype.translate.apply(this);en(this.points,function(t){t.open!==null&&(t.plotOpen=e.translate(t.open,0,1,0,1));t.close!==null&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var e=this,t=e.chart,n,r,i,s,o,u,a,f;en(e.points,function(l){l.plotY!==W&&(a=l.graphic,n=l.pointAttr[l.selected?"selected":""],s=n["stroke-width"]%2/2,f=J(l.plotX)+s,o=J(l.shapeArgs.width/2),u=["M",f,J(l.yBottom),"L",f,J(l.plotY)],l.open!==null&&(r=J(l.plotOpen)+s,u.push("M",f,r,"L",f-o,r)),l.close!==null&&(i=J(l.plotClose)+s,u.push("M",f,i,"L",f+o,i)),a?a.animate({d:u}):l.graphic=t.renderer.path(u).attr(n).add(e.group))})},animate:null});Jt.ohlc=Kt;hn.candlestick=sn(hn.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:hn.ohlc.tooltip,threshold:null,upColor:"white"});Kt=m(Kt,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",drawPoints:function(){var e=this,t=e.chart,n,r,i,s,o,u,a,f,l,c;en(e.points,function(h){f=h.graphic;h.plotY!==W&&(n=h.pointAttr[h.selected?"selected":""],u=n["stroke-width"]%2/2,a=J(h.plotX)+u,r=J(h.plotOpen)+u,i=J(h.plotClose)+u,s=$.min(r,i),o=$.max(r,i),c=J(h.shapeArgs.width/2),l=["M",a-c,o,"L",a-c,s,"L",a+c,s,"L",a+c,o,"L",a-c,o,"M",a,o,"L",a,J(h.yBottom),"M",a,s,"L",a,J(h.plotY),"Z"],f?f.animate({d:l}):h.graphic=t.renderer.path(l).attr(n).add(e.group))})}});Jt.candlestick=Kt;var Mn=dn.prototype.symbols;hn.flags=sn(hn.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:7,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},threshold:null,y:-30});Jt.flags=m(Jt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,forceCrop:!0,init:wn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Jt.column.prototype.translate.apply(this);var e=this.chart,t=this.points,n=t.length-1,r,i,s=this.options.onSeries,s=(r=s&&e.get(s))&&r.options.step,o=r&&r.points,u=o&&o.length,a=this.xAxis,f=a.getExtremes(),l,c,h;if(r&&r.visible&&u){c=o[u-1].x;for(t.sort(function(e,t){return e.x-t.x});u--&&t[n];)if(r=t[n],l=o[u],l.x<=r.x&&l.plotY!==W){r.x<=c&&(r.plotY=l.plotY,l.x<r.x&&!s&&(h=o[u+1])&&h.plotY!==W&&(r.plotY+=(r.x-l.x)/(h.x-l.x)*(h.plotY-l.plotY)));n--;u++;if(n<0)break}}en(t,function(n,r){n.plotY===W&&(n.x>=f.min&&n.x<=f.max?n.plotY=a.lineTop-e.plotTop:n.shapeArgs={});if((i=t[r-1])&&i.plotX===n.plotX){i.stackIndex===W&&(i.stackIndex=0);n.stackIndex=i.stackIndex+1}})},drawPoints:function(){var t,n=this.points,r=this.chart.renderer,i,s,o=this.options,u=o.y,a=o.shape,f,l,c,h,p=o.lineWidth%2/2,d;for(c=n.length;c--;)(h=n[c],i=h.plotX+p,l=h.stackIndex,s=h.plotY,s!==W&&(s=h.plotY+u+p-(l!==W&&l*o.stackDistance)),f=l?W:h.plotX+p,d=l?W:h.plotY,l=h.graphic,t=h.tracker,s!==W)?(t=h.pointAttr[h.selected?"select":""],l?l.attr({x:i,y:s,r:t.r,anchorX:f,anchorY:d}):l=h.graphic=r.label(h.options.title||o.title||"A",i,s,a,f,d).css(sn(o.style,h.style)).attr(t).attr({align:a==="flag"?"left":"center",width:o.width,height:o.height
}).add(this.group).shadow(o.shadow),f=l.box,l=f.getBBox(),h.shapeArgs=e(l,{x:i-(a==="flag"?0:f.attr("width")/2),y:s})):l&&(h.graphic=l.destroy(),t&&t.attr("y",-9999))},drawTracker:function(){Jt.column.prototype.drawTracker.apply(this);en(this.points,function(e){e.tracker&&on(e.tracker.element,"mouseover",function(){e.graphic.toFront()})})},tooltipFormatter:function(e){return e.point.text},animate:function(){}});Mn.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,i=i&&i.anchorY||t;return["M",s,i,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,i,"Z"]};en(["circle","square"],function(e){Mn[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,s=s&&s.anchorY,t=Mn[e](t,n,r,i);o&&s&&t.push("M",o,n+i,"L",o,s);return t}});dt===vn&&en(["flag","circlepin","squarepin"],function(e){vn.prototype.symbols[e]=Mn[e]});var _n=vt?"touchstart":"mousedown",Dn=vt?"touchmove":"mousemove",Pn=vt?"touchend":"mouseup",Kt=t("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#FFF"],[1,"#CCC"]]),Qt=[].concat(An);Qt[4]=[_t,[1,2,3,4]];Qt[5]=[Dt,[1,2,3]];e(bt,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:"areaspline",color:"#4572A7",compare:null,fillOpacity:.4,dataGrouping:{approximation:"average",groupPixelWidth:2,smoothed:!0,units:Qt},dataLabels:{enabled:!1},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4}},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},title:{text:null},tickWidth:0}},scrollbar:{height:vt?20:14,barBackgroundColor:Kt,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:Kt,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,rifleColor:"#666",trackBackgroundColor:t("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1}});U.prototype={getAxisTop:function(e){return this.navigatorOptions.top||e-this.height-this.scrollbarHeight-this.chart.options.chart.spacingBottom},drawHandle:function(e,t){var n=this.chart.renderer,r=this.elementsToDestroy,i=this.handles,s=this.navigatorOptions.handles,s={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":1},o;this.rendered||(i[t]=n.g().css({cursor:"e-resize"}).attr({zIndex:4-t}).add(),o=n.rect(-4.5,0,9,16,3,1).attr(s).add(i[t]),r.push(o),o=n.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(s).add(i[t]),r.push(o));i[t].translate(this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),this.top+this.height/2-8)},drawScrollbarButton:function(e){var t=this.chart.renderer,n=this.elementsToDestroy,r=this.scrollbarButtons,i=this.scrollbarHeight,s=this.scrollbarOptions,o;this.rendered||(r[e]=t.g().add(this.scrollbarGroup),o=t.rect(-0.5,-0.5,i+1,i+1,s.buttonBorderRadius,s.buttonBorderWidth).attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}).add(r[e]),n.push(o),o=t.path(["M",i/2+(e?-1:1),i/2-3,"L",i/2+(e?-1:1),i/2+3,i/2+(e?2:-2),i/2]).attr({fill:s.buttonArrowColor}).add(r[e]),n.push(o));e&&r[e].attr({translateX:this.scrollerWidth-i})},render:function(e,t,r,i){var s=this.chart,o=s.renderer,u,a,f,l,c=this.scrollbarGroup,h=this.scrollbar,d=this.xAxis,v=this.scrollbarTrack,m=this.scrollbarHeight,g=this.scrollbarEnabled,y=this.navigatorOptions,b=this.scrollbarOptions,w=this.height,E=this.top,S=this.navigatorEnabled,x=y.outlineWidth,T=x/2,N=this.outlineHeight,C=b.barBorderRadius,k=b.barBorderWidth,L=E+T;if(!isNaN(e)){this.navigatorLeft=u=p(d.left,s.plotLeft+m);this.navigatorWidth=a=p(d.len,s.plotWidth-2*m);this.scrollerLeft=f=u-m;this.scrollerWidth=l=l=a+2*m;if(d.getExtremes){var A=s.xAxis[0].getExtremes(),s=A.dataMin===null,O=d.getExtremes(),M=Y(A.dataMin,O.dataMin),A=G(A.dataMax,O.dataMax);!s&&(M!==O.min||A!==O.max)&&d.setExtremes(M,A,!0,!1)}r=p(r,d.translate(e));i=p(i,d.translate(t));this.zoomedMin=e=G(n(Y(r,i)),0);this.zoomedMax=i=Y(n(G(r,i)),a);this.range=r=i-e;if(!this.rendered){S&&(this.leftShade=o.rect().attr({fill:y.maskFill,zIndex:3}).add(),this.rightShade=o.rect().attr({fill:y.maskFill,zIndex:3}).add(),this.outline=o.path().attr({"stroke-width":x,stroke:y.outlineColor,zIndex:3}).add());g&&(this.scrollbarGroup=c=o.g().add(),h=b.trackBorderWidth,this.scrollbarTrack=v=o.rect().attr({y:-h%2/2,fill:b.trackBackgroundColor,stroke:b.trackBorderColor,"stroke-width":h,r:b.trackBorderRadius||0,height:m}).add(c),this.scrollbar=h=o.rect().attr({y:-k%2/2,height:m,fill:b.barBackgroundColor,stroke:b.barBorderColor,"stroke-width":k,r:C}).add(c),this.scrollbarRifles=o.path().attr({stroke:b.rifleColor,"stroke-width":1}).add(c))}S&&(this.leftShade.attr({x:u,y:E,width:e,height:w}),this.rightShade.attr({x:u+i,y:E,width:a-i,height:w}),this.outline.attr({d:["M",f,L,"L",u+e+T,L,u+e+T,L+N-m,"M",u+i-T,L+N-m,"L",u+i-T,L,f+l,L]}),this.drawHandle(e+T,0),this.drawHandle(i+T,1));g&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),c.translate(f,J(L+w)),v.attr({width:l}),h.attr({x:J(m+e)+k%2/2,width:r-k}),o=m+e+r/2-.5,this.scrollbarRifles.attr({d:["M",o-3,m/4,"L",o-3,2*m/3,"M",o,m/4,"L",o,2*m/3,"M",o+3,m/4,"L",o+3,2*m/3],visibility:r>12?"visible":"hidden"}));this.rendered=!0}},addEvents:function(){var e=this.chart;on(e.container,_n,this.mouseDownHandler);on(e.container,Dn,this.mouseMoveHandler);on(document,Pn,this.mouseUpHandler)},removeEvents:function(){var e=this.chart;un(e.container,_n,this.mouseDownHandler);un(e.container,Dn,this.mouseMoveHandler);un(document,Pn,this.mouseUpHandler);this.navigatorEnabled&&un(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var e=this,t=e.chart,n,r,i=e.scrollbarHeight,s=e.navigatorOptions,o=e.height,u=e.top,a,f,l,c=document.body.style,h,p=e.baseSeries,d;e.mouseDownHandler=function(r){var r=t.tracker.normalizeMouseEvent(r),i=e.zoomedMin,s=e.zoomedMax,u=e.top,a=e.scrollbarHeight,l=e.scrollerLeft,p=e.scrollerWidth,d=e.navigatorLeft,v=e.navigatorWidth,m=e.range,g=r.chartX,y=r.chartY,r=vt?10:7;if(y>u&&y<u+o+a)if((u=!e.scrollbarEnabled||y<u+o)&&$.abs(g-i-d)<r)e.grabbedLeft=!0,e.otherHandlePos=s;else if(u&&$.abs(g-s-d)<r)e.grabbedRight=!0,e.otherHandlePos=i;else if(g>d+i&&g<d+s){e.grabbedCenter=g;t.renderer.isSVG&&(h=c.cursor,c.cursor="ew-resize");f=g-i}else g>l&&g<l+p&&(s=u?g-d-m/2:g<d?i-Y(10,m):g>l+p-a?i+Y(10,m):g<d+i?i-m:s,s<0?s=0:s+m>v&&(s=v-m),s!==i&&t.xAxis[0].setExtremes(n.translate(s,!0),n.translate(s+m,!0),!0,!1,{trigger:"navigator"}))};e.mouseMoveHandler=function(n){var r=e.scrollbarHeight,i=e.navigatorLeft,s=e.navigatorWidth,o=e.scrollerLeft,u=e.scrollerWidth,a=e.range,n=t.tracker.normalizeMouseEvent(n),n=n.chartX;n<i?n=i:n>o+u-r&&(n=o+u-r);e.grabbedLeft?(l=!0,e.render(0,0,n-i,e.otherHandlePos)):e.grabbedRight?(l=!0,e.render(0,0,e.otherHandlePos,n-i)):e.grabbedCenter&&(l=!0,n<f?n=f:n>s+f-a&&(n=s+f-a),e.render(0,0,n-f,n-f+a))};e.mouseUpHandler=function(){var r=e.zoomedMin,i=e.zoomedMax;l&&t.xAxis[0].setExtremes(n.translate(r,!0),n.translate(i,!0),!0,!1,{trigger:"navigator"});e.grabbedLeft=e.grabbedRight=e.grabbedCenter=l=f=null;c.cursor=h||""};e.updatedDataHandler=function(){var n=p.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,r=r.dataMax,u=s-i,f,l,c,h,v;f=a.xData;var m=!!n.setExtremes;l=s>=f[f.length-1];f=i<=o;d||(a.options.pointStart=p.xData[0],a.setData(p.options.data,!1),v=!0);f&&(h=o,c=h+u);l&&(c=r,f||(h=G(c-u,a.xData[0])));m&&(f||l)?n.setExtremes(h,c,!0,!1,{trigger:"updatedData"}):(v&&t.redraw(!1),e.render(G(i,o),Y(s,r)))};var v=t.xAxis.length,m=t.yAxis.length,g=t.setSize;t.extraBottomMargin=e.outlineHeight+s.margin;e.top=u=e.getAxisTop(t.chartHeight);if(e.navigatorEnabled){var y=p?p.options:{},b=y.data,w=s.series;d=w.data;y.data=w.data=null;e.xAxis=n=new j(t,sn({ordinal:p&&p.xAxis.options.ordinal},s.xAxis,{isX:!0,type:"datetime",index:v,height:o,top:u,offset:0,offsetLeft:i,offsetRight:-i,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1}));e.yAxis=r=new j(t,sn(s.yAxis,{alignTicks:!1,height:o,top:u,offset:0,index:m,zoomEnabled:!1}));v=sn(y,w,{threshold:null,clip:!1,enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:v,yAxis:m,name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0});y.data=b;w.data=d;v.data=d||b;a=t.initSeries(v);s.adaptToUpdatedData!==!1&&on(p,"updatedData",e.updatedDataHandler)}else e.xAxis=n={translate:function(e,n){var r=t.xAxis[0].getExtremes(),s=t.plotWidth-2*i,o=r.dataMin,r=r.dataMax-o;return n?e*r/s+o:s*(e-o)/r}};e.series=a;t.setSize=function(i,s,o){e.top=u=e.getAxisTop(s);n&&r&&(n.options.top=r.options.top=u);g.call(t,i,s,o)};e.addEvents()},destroy:function(){this.removeEvents();en([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(e){e&&e.destroy&&e.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null;en([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(e){k(e)})}};Highcharts.Scroller=U;b(j.prototype,"zoom",function(e,t,n){var r=this.chart,i=r.options,s=i.chart.zoomType,o=i.navigator,i=i.rangeSelector,u;this.isXAxis&&(o&&o.enabled||i&&i.enabled)&&(s==="x"?r.resetZoomButton="blocked":s==="y"?u=!1:s==="xy"&&(r=this.previousZoom,l(t)?this.previousZoom=[this.min,this.max]:r&&(t=r[0],n=r[1],delete this.previousZoom)));return u!==W?u:e.call(this,t,n)});e(bt,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,zIndex:7}}});bt.lang=sn(bt.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"从:",rangeSelectorTo:"到:"});z.prototype={clickButton:function(e,t,n){var r=this,i=r.chart,s=r.buttons,o=i.xAxis[0],u=o&&o.getExtremes(),a=i.scroller&&i.scroller.xAxis,f=a&&a.getExtremes&&a.getExtremes(),a=f&&f.dataMin,f=f&&f.dataMax,c=u&&u.dataMin,h=u&&u.dataMax,a=(l(c)&&l(a)?Y:p)(c,a),f=(l(h)&&l(f)?G:p)(h,f),d,v=o&&Y(u.max,f),u=new Date(v),h=t.type,c=t.count,m,g,y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};a!==null&&f!==null&&e!==r.selected&&(y[h]?(m=y[h]*c,d=G(v-m,a)):h==="month"?(u.setMonth(u.getMonth()-c),d=G(u.getTime(),a),m=2592e6*c):h==="ytd"?(u=new Date(0),h=new Date(f),g=h.getFullYear(),u.setFullYear(g),String(g)!==wt("%Y",u)&&u.setFullYear(g-1),d=g=G(a||0,u.getTime()),h=h.getTime(),v=Y(f||h,h)):h==="year"?(u.setFullYear(u.getFullYear()-c),d=G(a,u.getTime()),m=31536e6*c):h==="all"&&o&&(d=a,v=f),s[e]&&s[e].setState(2),o?setTimeout(function(){o.setExtremes(d,v,p(n,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:t});r.selected=e},1):(i=i.options.xAxis,i[0]=sn(i[0],{range:m,min:g}),r.selected=e))},init:function(e){var t=this,n=t.chart,r=n.options.rangeSelector,e=r.buttons||e,i=t.buttons,s=t.leftBox,o=t.rightBox,r=r.selected;n.extraTopMargin=25;t.buttonOptions=e;t.mouseDownHandler=function(){s&&s.blur();o&&o.blur()};on(n.container,_n,t.mouseDownHandler);r!==W&&e[r]&&this.clickButton(r,e[r],!1);on(n,"load",function(){on(n.xAxis[0],"afterSetExtremes",function(){i[t.selected]&&!n.renderer.forExport&&i[t.selected].setState(0);t.selected=null})})},setInputValue:function(e,t){var n=this.chart.options.rangeSelector,n=e.hasFocus?n.inputEditDateFormat||"%Y-%m-%d":n.inputDateFormat||"%b %e, %Y";t&&(e.HCTime=t);e.value=wt(n,e.HCTime)},drawInput:function(t){var r=this,i=r.chart,s=i.options.rangeSelector,o=r.div,u=t==="min",a;r.boxSpanElements[t]=v("span",{innerHTML:bt.lang[u?"rangeSelectorFrom":"rangeSelectorTo"]},s.labelStyle,o);a=v("input",{name:t,className:"highcharts-range-selector",type:"text"},e({width:"80px",height:"16px",border:"1px solid silver",marginLeft:"5px",marginRight:u?"5px":"0",textAlign:"center"},s.inputStyle),o);a.onfocus=a.onblur=function(e){e=e||window.event||{};a.hasFocus=e.type==="focus";r.setInputValue(a)};a.onchange=function(){var e=a.value,t=Date.parse(e),s=i.xAxis[0].getExtremes();isNaN(t)&&(t=e.split("-"),t=Date.UTC(n(t[0]),n(t[1])-1,n(t[2])));!isNaN(t)&&(u&&t>=s.dataMin&&t<=r.rightBox.HCTime||!u&&t<=s.dataMax&&t>=r.leftBox.HCTime)&&i.xAxis[0].setExtremes(u?t:s.min,u?s.max:t,W,W,{trigger:"rangeSelectorInput"})};return a},render:function(t,n){var r=this,i=r.chart,s=i.renderer,o=i.container,u=i.options.rangeSelector,a=r.buttons,f=bt.lang,l=r.div,l=i.options.chart.style,c=u.buttonTheme,h=u.inputEnabled!==!1,p=c&&c.states,d=i.plotLeft,m;!r.rendered&&(r.zoomText=s.text(f.rangeSelectorZoom,d,i.plotTop-10).css(u.labelStyle).add(),m=d+r.zoomText.getBBox().width+5,en(r.buttonOptions,function(e,t){a[t]=s.button(e.text,m,i.plotTop-25,function(){r.clickButton(t,e);r.isActive=!0},c,p&&p.hover,p&&p.select).css({textAlign:"center"}).add();m+=a[t].width+(u.buttonSpacing||0);r.selected===t&&a[t].setState(2)}),h)&&(r.divRelative=l=v("div",null,{position:"relative",height:0,fontFamily:l.fontFamily,fontSize:l.fontSize,zIndex:1}),o.parentNode.insertBefore(l,o),r.divAbsolute=r.div=l=v("div",null,e({position:"absolute",top:i.plotTop-25+"px",right:i.chartWidth-i.plotLeft-i.plotWidth+"px"},u.inputBoxStyle),l),r.leftBox=r.drawInput("min"),r.rightBox=r.drawInput("max"));h&&(r.setInputValue(r.leftBox,t),r.setInputValue(r.rightBox,n));r.rendered=!0},destroy:function(){var e=this.leftBox,t=this.rightBox,n=this.boxSpanElements,r=this.divRelative,i=this.divAbsolute,s=this.zoomText;un(this.chart.container,_n,this.mouseDownHandler);en([this.buttons],function(e){k(e)});s&&(this.zoomText=s.destroy());e&&(e.onfocus=e.onblur=e.onchange=null);t&&(t.onfocus=t.onblur=t.onchange=null);en([e,t,n.min,n.max,i,r],function(e){L(e)});this.leftBox=this.rightBox=this.boxSpanElements=this.div=this.divAbsolute=this.divRelative=null}};Highcharts.RangeSelector=z;R.prototype.callbacks.push(function(e){function t(){s=e.xAxis[0].getExtremes();o.render(G(s.min,s.dataMin),Y(s.max,s.dataMax))}function n(){s=e.xAxis[0].getExtremes();u.render(s.min,s.max)}function r(e){o.render(e.min,e.max)}function i(e){u.render(e.min,e.max)}var s,o=e.scroller,u=e.rangeSelector;o&&(on(e.xAxis[0],"afterSetExtremes",r),on(e,"resize",t),t());u&&(on(e.xAxis[0],"afterSetExtremes",i),on(e,"resize",n),n());on(e,"destroy",function(){o&&(un(e,"resize",t),un(e.xAxis[0],"afterSetExtremes",r));u&&(un(e,"resize",n),un(e.xAxis[0],"afterSetExtremes",i))})});Highcharts.StockChart=function(e,t){var n=e.series,r,i={marker:{enabled:!1,states:{hover:{radius:5}}},shadow:!1,states:{hover:{lineWidth:2}}},s={shadow:!1,borderWidth:0};e.xAxis=rn(h(e.xAxis||{}),function(e){return sn({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null})});e.yAxis=rn(h(e.yAxis||{}),function(e){r=e.opposite;return sn({labels:{align:r?"right":"left",x:r?-2:2,y:-2},showLastLabel:!1,title:{text:null}},e)});e.series=null;e=sn({chart:{panning:!0},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:i,spline:i,area:i,areaspline:i,arearange:i,areasplinerange:i,column:s,columnrange:s,candlestick:s,ohlc:s}},e,{_stock:!0,chart:{inverted:!1}});e.series=n;return new R(e,t)};var Hn=Sn.init,Bn=Sn.processData,jn=bn.prototype.tooltipFormatter;Sn.init=function(){Hn.apply(this,arguments);var e=this.options.compare;e&&(this.modifyValue=function(t,n){var r=this.compareValue,t=e==="value"?t-r:t=100*(t/r)-100;n&&(n.change=t);return t})};Sn.processData=function(){Bn.apply(this,arguments);if(this.options.compare)for(var e=0,t=this.processedXData,n=this.processedYData,r=n.length,i=this.xAxis.getExtremes().min;e<r;e++)if(typeof n[e]=="number"&&t[e]>=i){this.compareValue=n[e];break}};bn.prototype.tooltipFormatter=function(e){e=e.replace("{point.change}",(this.change>0?"+":"")+g(this.change,this.series.tooltipOptions.changeDecimals||2));return jn.apply(this,[e])};(function(){var e=Sn.init,t=Sn.getSegments;Sn.init=function(){var t,n;e.apply(this,arguments);t=this.chart;(n=this.xAxis)&&n.options.ordinal&&on(this,"updatedData",function(){delete n.ordinalIndex});if(n&&n.options.ordinal&&!n.hasOrdinalExtension){n.hasOrdinalExtension=!0;n.beforeSetTickPositions=function(){var e,t=[],r=!1,i,s=this.getExtremes(),o=s.min,s=s.max,u;if(this.options.ordinal){en(this.series,function(n,r){if(n.visible!==!1&&n.takeOrdinalPosition!==!1&&(t=t.concat(n.processedXData),e=t.length,r&&e)){t.sort(function(e,t){return e-t});for(r=e-1;r--;)t[r]===t[r+1]&&t.splice(r,1)}});e=t.length;if(e>2){i=t[1]-t[0];for(u=e-1;u--&&!r;)t[u+1]-t[u]!==i&&(r=!0)}r?(this.ordinalPositions=t,r=n.val2lin(o,!0),i=n.val2lin(s,!0),this.ordinalSlope=s=(s-o)/(i-r),this.ordinalOffset=o-r*s):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=W}};n.val2lin=function(e,t){var n=this.ordinalPositions;if(n){var r=n.length,i,s;for(i=r;i--;)if(n[i]===e){s=i;break}for(i=r-1;i--;)if(e>n[i]||i===0){n=(e-n[i])/(n[i+1]-n[i]);s=i+n;break}return t?s:this.ordinalSlope*(s||0)+this.ordinalOffset}return e};n.lin2val=function(e,t){var n=this.ordinalPositions;if(n){var r=this.ordinalSlope,i=this.ordinalOffset,s=n.length-1,o,u;if(t)e<0?e=n[0]:e>s?e=n[s]:(s=K(e),u=e-s);else for(;s--;)if(o=r*s+i,e>=o){r=r*(s+1)+i;u=(e-o)/(r-o);break}return u!==W&&n[s]!==W?n[s]+(u?u*(n[s+1]-n[s]):0):e}return e};n.getExtendedPositions=function(){var e=n.series[0].currentDataGrouping,r=n.ordinalIndex,i=e?e.count+e.unitName:"raw",s=n.getExtremes(),o,u;r||(r=n.ordinalIndex={});r[i]||(o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:!0}},en(n.series,function(n){u={xAxis:o,xData:n.xData,chart:t,destroyGroupedData:Tt};u.options={dataGrouping:e?{enabled:!0,forced:!0,approximation:"open",units:[[e.unitName,[e.count]]]}:{enabled:!1}};n.processData.apply(u);o.series.push(u)}),n.beforeSetTickPositions.apply(o),r[i]=o.ordinalPositions);return r[i]};n.getGroupIntervalFactor=function(e,t,n){for(var r=0,i=n.length,s=[];r<i-1;r++)s[r]=n[r+1]-n[r];s.sort(function(e,t){return e-t});n=s[K(i/2)];return i*n/(t-e)};n.postProcessTickInterval=function(e){var t=this.ordinalSlope;return t?e/(t/n.closestPointRange):e};n.getNonLinearTimeTicks=function(e,t,r,i,s,o,u){var a=0,f=0,c,h={},p,d,v,m=[],g=n.options.tickPixelInterval;if(!s||t===W)return S(e,t,r,i);for(d=s.length;f<d;f++){v=f&&s[f-1]>r;s[f]<t&&(a=f);if(f===d-1||s[f+1]-s[f]>o*5||v)c=S(e,s[a],s[f],i),m=m.concat(c),a=f+1;if(v)break}e=c.info;if(u&&e.unitRange<=xt[Mt]){f=m.length-1;for(a=1;a<f;a++)(new Date(m[a]))[qt]()!==(new Date(m[a-1]))[qt]()&&(h[m[a]]=_t,p=!0);p&&(h[m[0]]=_t);e.higherRanks=h}m.info=e;if(u&&l(g)){var u=e=m.length,f=[],y;for(p=[];u--;)a=n.translate(m[u]),y&&(p[u]=y-a),f[u]=y=a;p.sort();p=p[K(p.length/2)];p<g*.6&&(p=null);u=m[e-1]>r?e-1:e;for(y=void 0;u--;)a=f[u],r=y-a,y&&r<g*.8&&(p===null||r<p*.8)?(h[m[u]]&&!h[m[u+1]]?(r=u+1,y=a):r=u,m.splice(r,1)):y=a}return m};var r=t.pan;t.pan=function(e){var n=t.xAxis[0],i=!1;if(n.options.ordinal&&n.series.length){var s=t.mouseDownX,o=n.getExtremes(),u=o.dataMax,a=o.min,f=o.max,l;l=t.hoverPoints;var c=n.closestPointRange,s=(s-e)/(n.translationSlope*(n.ordinalSlope||c)),h={ordinalPositions:n.getExtendedPositions()},p,c=n.lin2val,v=n.val2lin;h.ordinalPositions?Z(s)>1&&(l&&en(l,function(e){e.setState()}),s<0?(l=h,h=n.ordinalPositions?n:h):l=n.ordinalPositions?n:h,p=h.ordinalPositions,u>p[p.length-1]&&p.push(u),l=c.apply(l,[v.apply(l,[a,!0])+s,!0]),s=c.apply(h,[v.apply(h,[f,!0])+s,!0]),l>Y(o.dataMin,a)&&s<G(u,f)&&n.setExtremes(l,s,!0,!1,{trigger:"pan"}),t.mouseDownX=e,d(t.container,{cursor:"move"})):i=!0}else i=!0;i&&r.apply(t,arguments)}}};Sn.getSegments=function(){var e=this,n,r=e.options.gapSize;t.apply(e);r&&(n=e.segments,en(n,function(t,i){for(var s=t.length-1;s--;)t[s+1].x-t[s].x>e.xAxis.closestPointRange*r&&n.splice(i+1,0,t.splice(s+1,t.length-s))}))}})();e(Highcharts,{Axis:j,CanVGRenderer:gn,Chart:R,Color:pn,Legend:q,MouseTracker:I,Point:bn,Tick:P,Tooltip:F,Renderer:dt,Series:wn,SVGRenderer:dn,VMLRenderer:vn,dateFormat:wt,pathAnim:St,getOptions:function(){return bt},hasBidiBug:ht,numberFormat:g,seriesTypes:Jt,setOptions:function(e){bt=sn(bt,e);_();return bt},addEvent:on,removeEvent:un,createElement:v,discardElement:L,css:d,each:en,extend:e,map:rn,merge:sn,pick:p,splat:h,extendClass:m,pInt:n,wrap:b,svg:ct,canvas:pt,vml:!ct&&!pt,product:"Highstock",version:"1.2.4"})})();