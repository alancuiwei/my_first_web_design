/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e){return this}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n)){for(i in n){b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])}}return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2]){return r.find(e)}this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++){if(null!=(o=arguments[u])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r))}}}return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body){return setTimeout(b.ready)}b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e)){return !1}try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(n){return !1}var r;for(r in e){}return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g){return g.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o]}}else{while(n[o]!==t){e[i++]=n[o++]}}return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r){b.access(e,n,u,r[u],!0,a,s)}}else{if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n)){for(;l>u;u++){n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)))}}}return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){if(n=b.Deferred(),"complete"===o.readyState){setTimeout(b.ready)}else{if(o.addEventListener){o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1)}else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++){if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1){u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return !u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return !l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return !!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1){for(s=Array(r),u=Array(r),l=Array(r);r>t;t++){n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i}}return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length){return{}}s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1}return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t){return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++){delete o[t[r]]}if(!(n?$:b.isEmptyObject)(o)){return}}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1}var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return !t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++){i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]))}b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else{r=t}}return r}function $(e){var t;for(t in e){if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u))}return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).addClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++]){u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}}else{(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))})}if(o){return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return !t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++){if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u){return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get" in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set" in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType){while(n=o[i++]){r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)}}},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]}},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0}function ot(){return !1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--){s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0}e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--){if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))}u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else{for(d in c){b.event.remove(e,d+t[l],n,r,!0)}}}b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode){h.push(l),f=l}f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault()}if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type)){for(;l!=this;l=l.parentNode||this){if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i)}o.length&&s.push({elem:l,handlers:o})}}}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando]){return e}var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--){n=r[t],e[n]=a[n]}return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o)}return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot}else{if(!i){return this}}return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(o in e){this.off(o,n,e[o])}return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++]){n.push(t)}return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return !1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e){return n}if(1!==(s=t.nodeType)&&9!==s){return[]}if(!d&&!r){if(i=J.exec(e)){if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode){return n}if(o.id===a){return n.push(o),n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a){return n.push(o),n}}}else{if(i[2]){return H.apply(n,q.call(t.getElementsByTagName(e),0)),n}if((a=i[3])&&T.getByClassName&&t.getElementsByClassName){return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}}}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--){l[u]=g+dt(l[u])}m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v){try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return u=!0,0}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:0}if(o===a){return ut(e,t)}r=e;while(r=r.parentNode){s.unshift(r)}r=t;while(r=r.parentNode){l.unshift(r)}while(s[i]===l[i]){i++}return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t))){try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(r){}}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++){t===e[r-1]&&(i=n.push(r))}while(i--){e.splice(n[i],1)}}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=o(t)}}return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return !0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}h=g="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}}else{if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N){f=l[1]}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do{if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}};for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){i.pseudos[n]=lt(n)}for(n in {submit:!0,reset:!0}){i.pseudos[n]=ct(n)}function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c){return t?0:c.slice(0)}s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter){!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length))}if(!n){break}}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i]){if(1===t.nodeType||o){return e(t,n,r)}}}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i]){if((1===t.nodeType||o)&&e(t,n,s)){return !0}}}else{while(t=t[i]){if(1===t.nodeType||o){if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r){return u===!0}}else{if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0){return !0}}}}}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s))}return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--){(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}}if(o){if(i||e){if(i){l=[],c=y.length;while(c--){(p=y[c])&&l.push(m[c]=p)}i(null,y=[],l,u)}c=y.length;while(c--){(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}}else{y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)}})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return !a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++){if(n=i.relative[e[u].type]){f=[ht(gt(f),n)]}else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++){if(i.relative[e[r].type]){break}}return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||0.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,u,c)){f.push(h);break}}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++]){m(x,y,u,c)}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=L.call(f))}}y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--){o=vt(t[n]),o[x]?r.push(o):i.push(o)}o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++){st(e,t[r],n)}return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t){return n}e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type]){break}if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e){return H.apply(n,q.call(r,0)),n}break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e){return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++){if(b.contains(r[t],this)){return !0}}}))}for(n=[],t=0;i>t;t++){b.find(e,this[t],n)}return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(b.contains(this,n[t])){return !0}}})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return !!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t)){return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n})}if(t.nodeType){return b.grep(e,function(e){return e===t===n})}if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t)){return b.filter(t,r,!n)}t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(t){b(this).wrapAll(e.call(this,t))})}if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++){(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild){e.removeChild(e.firstChild)}e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t}if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e)}n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g)){return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)})}if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++){o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c)}if(a){for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++){o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")))}}l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++){b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){b.event.add(t,n,s[n][r])}}}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events){b.removeEvent(t,r,i.handle)}t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get())}return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n))}}return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e))){for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a){r[a]&&Ft(i,r[a])}}if(t){if(n){for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++){_t(i,r[a])}}else{_t(e,o)}}return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===b.type(o)){b.merge(d,o.nodeType?[o]:o)}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild}if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--){b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)}}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}else{d.push(t.createTextNode(o))}}}}s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++]){if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++){if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events){for(r in a.events){f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle)}}l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t}}return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=b.css(e,n[s],!1,o)}return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:l[n]}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{l[n]=r}catch(c){}}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)))}return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i}r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]}return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e)){b.each(e,function(){o(this.name,this.value)})}else{for(r in e){gn(r,e[r],n,o)}}return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t)){b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==b.type(t)){r(e,t)}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)}}}}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])}return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)}var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>x){for(t in e){m[t]=[m[t],e[t]]}}else{N.always(e[N.status])}}return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x){return N}u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers){N.setRequestHeader(i,p.headers[i])}if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x)){return N.abort()}T="abort";for(i in {success:1,error:1,complete:1}){N[i](p[i])}if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x)){throw C}k(-1,C)}}else{k(-1,"No Transport")}function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c){s in r&&(n[c[s]]=r[s])}while("*"===l[0]){l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))}if(o){for(s in u){if(u[s]&&u[s].test(o)){l.unshift(s);break}}}if(l[0] in r){a=l[0]}else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1]){for(i in e.converters){a[i.toLowerCase()]=e.converters[i]}}for(;r=u[++s];){if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i){for(n in a){if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}}}if(i!==!0){if(i&&e["throws"]){t=i(t)}else{try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}}}l=r}}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0)}};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials" in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){u[s]=n.xhrFields[s]}}n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){u.setRequestHeader(s,i[s])}}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState)){if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i){4!==u.readyState&&u.abort()}else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do{u=u||".5",s/=u,b.style(i.elem,e,s+r)}while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++){if(r[i].call(e,t,n)){return}}})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i){return !1}var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++){l.tweens[a].run(o)}return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){l.tweens[n].run(1)}return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++){if(r=Gn[o].call(l,e,c,l.opts)){return r}}return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e){if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand" in a){n=a.expand(n),delete e[r];for(i in n){i in e||(e[i]=n[i],t[i]=o)}}else{t[r]=o}}}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t){if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show")){continue}g.push(i)}}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden" in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h){b.style(e,t,h[t])}});for(i=0;o>i;i++){r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n){a[n]&&a[n].stop&&i(a[n])}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))}(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)}n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)})}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o}},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using" in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position")){e=e.offsetParent}return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
/*! jQuery Migrate v1.1.0 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){o[n]||(o[n]=!0,e.migrateWarnings.push(n),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+n),e.migrateTrace&&console.trace&&console.trace()))}function a(t,a,o,i){if(Object.defineProperty){try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(i),o},set:function(e){r(i),o=e}}),n}catch(s){}}e._definePropertyBroken=!0,t[a]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var i={},s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",i,"jQuery.attrFn is deprecated"),e.attr=function(t,a,o,i){var u=a.toLowerCase(),c=t&&t.nodeType;return i&&4>s.length&&(r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(c)&&e.isFunction(e.fn[a]))?e(t)[a](o):("type"===a&&o!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[u]&&p.test(u)&&(e.attrHooks[u]={get:function(t,r){var a,o=e.prop(t,r);return o===!0||"boolean"!=typeof o&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(u)&&r("jQuery.fn.attr('"+u+"') may use property instead of attribute")),s.call(e,t,a,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,n,a){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(t))&&o[1]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(e.trim(t),n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h,a(e,"browser",h,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t};var b=e.fn.data;e.fn.data=function(t){var a,o,i=this[0];return !i||"events"!==t||1!==arguments.length||(a=e.data(i,t),o=e._data(i,t),a!==n&&a!==o||o===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),o)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,o,i){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),o){for(c=function(e){return !e.type||j.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},s=0;null!=(u=d[s]);s++){e.nodeName(u,"script")&&c(u)||(o.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length))}}return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,C=e.fn.live,T=e.fn.die,M="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",S=RegExp("\\b(?:"+M+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,o){e!==document&&S.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,o)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n)){return N.apply(this,arguments)}r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,o=t.guid||e.guid++,i=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%i;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=o;a.length>i;){a[i++].guid=o}return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),C?C.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),T?T.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return !n&!S.test(e)&&r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(M.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);(function($,undefined){if($.rails!==undefined){$.error("jquery-ujs has already been loaded!")}var rails;$.rails=rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(xhr){var token=$('meta[name="csrf-token"]').attr("content");if(token){xhr.setRequestHeader("X-CSRF-Token",token)}},fire:function(obj,name,data){var event=$.Event(name);obj.trigger(event,data);return event.result!==false},confirm:function(message){return confirm(message)},ajax:function(options){return $.ajax(options)},href:function(element){return element.attr("href")},handleRemote:function(element){var method,url,data,elCrossDomain,crossDomain,withCredentials,dataType,options;if(rails.fire(element,"ajax:before")){elCrossDomain=element.data("cross-domain");crossDomain=elCrossDomain===undefined?null:elCrossDomain;withCredentials=element.data("with-credentials")||null;dataType=element.data("type")||($.ajaxSettings&&$.ajaxSettings.dataType);if(element.is("form")){method=element.attr("method");url=element.attr("action");data=element.serializeArray();var button=element.data("ujs:submit-button");if(button){data.push(button);element.data("ujs:submit-button",null)}}else{if(element.is(rails.inputChangeSelector)){method=element.data("method");url=element.data("url");data=element.serialize();if(element.data("params")){data=data+"&"+element.data("params")}}else{method=element.data("method");url=rails.href(element);data=element.data("params")||null}}options={type:method||"GET",data:data,dataType:dataType,beforeSend:function(xhr,settings){if(settings.dataType===undefined){xhr.setRequestHeader("accept","*/*;q=0.5, "+settings.accepts.script)}return rails.fire(element,"ajax:beforeSend",[xhr,settings])},success:function(data,status,xhr){element.trigger("ajax:success",[data,status,xhr])},complete:function(xhr,status){element.trigger("ajax:complete",[xhr,status])},error:function(xhr,status,error){element.trigger("ajax:error",[xhr,status,error])},crossDomain:crossDomain};if(withCredentials){options.xhrFields={withCredentials:withCredentials}}if(url){options.url=url}var jqxhr=rails.ajax(options);element.trigger("ajax:send",jqxhr);return jqxhr}else{return false}},handleMethod:function(link){var href=rails.href(link),method=link.data("method"),target=link.attr("target"),csrf_token=$("meta[name=csrf-token]").attr("content"),csrf_param=$("meta[name=csrf-param]").attr("content"),form=$('<form method="post" action="'+href+'"></form>'),metadata_input='<input name="_method" value="'+method+'" type="hidden" />';if(csrf_param!==undefined&&csrf_token!==undefined){metadata_input+='<input name="'+csrf_param+'" value="'+csrf_token+'" type="hidden" />'}if(target){form.attr("target",target)}form.hide().append(metadata_input).appendTo("body");form.submit()},disableFormElements:function(form){form.find(rails.disableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";element.data("ujs:enable-with",element[method]());element[method](element.data("disable-with"));element.prop("disabled",true)})},enableFormElements:function(form){form.find(rails.enableSelector).each(function(){var element=$(this),method=element.is("button")?"html":"val";if(element.data("ujs:enable-with")){element[method](element.data("ujs:enable-with"))}element.prop("disabled",false)})},allowAction:function(element){var message=element.data("confirm"),answer=false,callback;if(!message){return true}if(rails.fire(element,"confirm")){answer=rails.confirm(message);callback=rails.fire(element,"confirm:complete",[answer])}return answer&&callback},blankInputs:function(form,specifiedSelector,nonBlank){var inputs=$(),input,valueToCheck,selector=specifiedSelector||"input,textarea",allInputs=form.find(selector);allInputs.each(function(){input=$(this);valueToCheck=input.is("input[type=checkbox],input[type=radio]")?input.is(":checked"):input.val();if(!valueToCheck===!nonBlank){if(input.is("input[type=radio]")&&allInputs.filter('input[type=radio]:checked[name="'+input.attr("name")+'"]').length){return true}inputs=inputs.add(input)}});return inputs.length?inputs:false},nonBlankInputs:function(form,specifiedSelector){return rails.blankInputs(form,specifiedSelector,true)},stopEverything:function(e){$(e.target).trigger("ujs:everythingStopped");e.stopImmediatePropagation();return false},callFormSubmitBindings:function(form,event){var events=form.data("events"),continuePropagation=true;if(events!==undefined&&events.submit!==undefined){$.each(events.submit,function(i,obj){if(typeof obj.handler==="function"){return continuePropagation=obj.handler(event)}})}return continuePropagation},disableElement:function(element){element.data("ujs:enable-with",element.html());element.html(element.data("disable-with"));element.bind("click.railsDisable",function(e){return rails.stopEverything(e)})},enableElement:function(element){if(element.data("ujs:enable-with")!==undefined){element.html(element.data("ujs:enable-with"));element.removeData("ujs:enable-with")}element.unbind("click.railsDisable")}};if(rails.fire($(document),"rails:attachBindings")){$.ajaxPrefilter(function(options,originalOptions,xhr){if(!options.crossDomain){rails.CSRFProtection(xhr)}});$(document).delegate(rails.linkDisableSelector,"ajax:complete",function(){rails.enableElement($(this))});$(document).delegate(rails.linkClickSelector,"click.rails",function(e){var link=$(this),method=link.data("method"),data=link.data("params");if(!rails.allowAction(link)){return rails.stopEverything(e)}if(link.is(rails.linkDisableSelector)){rails.disableElement(link)}if(link.data("remote")!==undefined){if((e.metaKey||e.ctrlKey)&&(!method||method==="GET")&&!data){return true}var handleRemote=rails.handleRemote(link);if(handleRemote===false){rails.enableElement(link)}else{handleRemote.error(function(){rails.enableElement(link)})}return false}else{if(link.data("method")){rails.handleMethod(link);return false}}});$(document).delegate(rails.inputChangeSelector,"change.rails",function(e){var link=$(this);if(!rails.allowAction(link)){return rails.stopEverything(e)}rails.handleRemote(link);return false});$(document).delegate(rails.formSubmitSelector,"submit.rails",function(e){var form=$(this),remote=form.data("remote")!==undefined,blankRequiredInputs=rails.blankInputs(form,rails.requiredInputSelector),nonBlankFileInputs=rails.nonBlankInputs(form,rails.fileInputSelector);if(!rails.allowAction(form)){return rails.stopEverything(e)}if(blankRequiredInputs&&form.attr("novalidate")==undefined&&rails.fire(form,"ajax:aborted:required",[blankRequiredInputs])){return rails.stopEverything(e)}if(remote){if(nonBlankFileInputs){setTimeout(function(){rails.disableFormElements(form)},13);var aborted=rails.fire(form,"ajax:aborted:file",[nonBlankFileInputs]);if(!aborted){setTimeout(function(){rails.enableFormElements(form)},13)}return aborted}if(!$.support.submitBubbles&&$().jquery<"1.7"&&rails.callFormSubmitBindings(form,e)===false){return rails.stopEverything(e)}rails.handleRemote(form);return false}else{setTimeout(function(){rails.disableFormElements(form)},13)}});$(document).delegate(rails.formInputClickSelector,"click.rails",function(event){var button=$(this);if(!rails.allowAction(button)){return rails.stopEverything(event)}var name=button.attr("name"),data=name?{name:name,value:button.val()}:null;button.closest("form").data("ujs:submit-button",data)});$(document).delegate(rails.formSubmitSelector,"ajax:beforeSend.rails",function(event){if(this==event.target){rails.disableFormElements($(this))}});$(document).delegate(rails.formSubmitSelector,"ajax:complete.rails",function(event){if(this==event.target){rails.enableFormElements($(this))}});$(function(){var csrf_token=$("meta[name=csrf-token]").attr("content");var csrf_param=$("meta[name=csrf-param]").attr("content");$('form input[name="'+csrf_param+'"]').val(csrf_token)})}})(jQuery);(function(){window.FutureAdvisor={}}).call(this);(function(){FutureAdvisor.Charts={}}).call(this);(function(){FutureAdvisor.Charts.AnnualCostComparisonChart=(function(){function AnnualCostComparisonChart(_chartContainer){var chartData,_dollarFormat;this._chartContainer=_chartContainer;chartData=this._chartContainer.data("chart-json");_dollarFormat=function(number){return"$"+(Highcharts.numberFormat(number,0,","))};this._options={chart:{type:"column",height:300},credits:{enabled:false},title:{text:"Annual Cost on $100k Portfolio"},xAxis:{categories:chartData.categories},yAxis:{min:0,title:{text:"Total Cost"},stackLabels:{enabled:true,formatter:function(){return _dollarFormat(this.total)}}},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:false}}},tooltip:{formatter:function(){return""+this.x+"<br/>          <span style='color:"+this.series.color+"'>"+this.series.name+"</span>:          <b>"+(_dollarFormat(this.y))+"</b><br/>"}},series:chartData.series}}AnnualCostComparisonChart.prototype.graph=function(){return this._chartContainer.highcharts(this._options)};return AnnualCostComparisonChart})();$(function(){var chartDiv,edwardJonesChart;chartDiv=$("#annual-cost-comparison-chart");if(chartDiv.length>0){edwardJonesChart=new FutureAdvisor.Charts.AnnualCostComparisonChart(chartDiv);return edwardJonesChart.graph()}})}).call(this);(function(){var COLOR_HASH;COLOR_HASH={stocks:"#0471BA",domesticTotal:"#0471BA",domesticSmall:"#1679BA",domesticValue:"#2980BA",foreignTotal:"#3C88BA",foreignSmall:"#4E8FBA",foreignValue:"#6196BA",emerging:"#739EBA",domesticReits:"#86A5BA",foreignReits:"#99ADBA",bonds:"#27ae60",tips:"#6CAD87",nominal:"#27ae60"};FutureAdvisor.Charts.AssetBreakdown=(function(){function AssetBreakdown(_container,sizes,offsets,_data){this._container=_container;this._data=_data;this._subclassData=this._data.subclassData;this._data=this._data.riskData;this._height=sizes.height;this._width=sizes.width;this._offsetX=offsets.x;this._offsetY=offsets.y;this._setup()}AssetBreakdown.prototype.changeKey=function(key){this._key=key;return this._redraw()};AssetBreakdown.prototype.changeAges=function(age,retAge){this._age=age;this._retAge=retAge;return this._redraw()};AssetBreakdown.prototype._setup=function(){this._margin={top:0,right:70,bottom:20,left:70};this._size={width:this._width-this._margin.left-this._margin.right,height:this._height-this._margin.top-this._margin.bottom};this._x=d3.scale.linear().range([0,this._size.width]);this._formatPercent=d3.format(".0%");this._parseDate=d3.time.format("%Y").parse;this._g=this._container.append("g").attr("width",this._size.width).attr("height",this._size.height).attr("transform","translate("+(this._offsetX+this._margin.left)+", "+(this._offsetY+this._margin.top)+")");this._key="aggressive";this._age=30;this._retAge=65;this._year=2013;this._x.domain([0,1]);this._draw()};AssetBreakdown.prototype._remove=function(){this._assetBreakdown.remove()};AssetBreakdown.prototype._redraw=function(){this._remove();this._draw()};AssetBreakdown.prototype._timeHorizonData=function(){var numYears;numYears=this._retAge-this._age;return this._data.filter(function(d,i){return d.untilRetirement===numYears})};AssetBreakdown.prototype._assetData=function(){var amount,carryForward,data,retVal,x1,_i,_len,_ref,_results;data=this._timeHorizonData()[0];carryForward=0;_ref=this._subclassData;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){amount=_ref[_i];x1=(data[this._key][amount.parent]*amount.ratio)/100;retVal={type:amount.type,x0:carryForward,x1:x1,name:amount.name};carryForward=x1+carryForward;_results.push(retVal)}return _results};AssetBreakdown.prototype._draw=function(){var _this=this;this._assetBreakdown=this._g.selectAll(".asset").data(this._assetData()).enter().append("g");this._assetBreakdown.append("rect").attr("class","asset").attr("x",function(d){return _this._x(d.x0)}).attr("width",function(d){return _this._x(d.x1)}).attr("y",0).attr("height",50).style("fill",function(d){return COLOR_HASH[d.type]});this._assetBreakdown.append("path").attr("class",".asset-triangle").attr("d",function(d,i){return _this._triangle(i)}).attr("transform",function(d,i){return"translate("+(_this._x(d.x0+d.x1)-(_this._x(d.x1)/2))+", "+(_this._trianglePosition(i))+")"}).style("fill",function(d){return COLOR_HASH[d.type]});this._assetBreakdown.append("text").attr("transform",function(d,i){return"translate("+(_this._x(d.x0+d.x1)-(_this._x(d.x1)/2))+", "+(_this._triangleTextPosition(i))+")"}).attr("dy",".35em").style("text-anchor","middle").style("font-size","11px").text(function(d){return d.name});this._assetBreakdown.append("text").attr("transform",function(d,i){return"translate("+(_this._x(d.x0+d.x1)-(_this._x(d.x1)/2))+", 25)"}).attr("dy",".35em").style("text-anchor","middle").style("fill","white").text(function(d){return _this._formatPercent(""+d.x1)})};AssetBreakdown.prototype._triangleTextPosition=function(num){var triangle;triangle=this._trianglePosition(num);if(num%2){return triangle-15}else{return triangle+15}};AssetBreakdown.prototype._trianglePosition=function(num){if(num%2){return -2}else{return 52}};AssetBreakdown.prototype._triangle=function(num){if(num%2){return"M0,-2.26429605180997 L6.078685485212741,2.26429605180997 -6.078685485212741,2.26429605180997 Z"}else{return"M0,2.26429605180997 L6.078685485212741,-2.26429605180997 -6.078685485212741,-2.26429605180997 Z"}};return AssetBreakdown})()}).call(this);(function(){FutureAdvisor.Charts.AssetFlowOut=(function(){function AssetFlowOut(_container,_glidePath,_assetBreakdown,_inputData){this._container=_container;this._glidePath=_glidePath;this._assetBreakdown=_assetBreakdown;this._inputData=_inputData;this._setup()}AssetFlowOut.prototype.changeAges=function(startAge,endAge){this._age=startAge;this._retAge=endAge;this._redraw()};AssetFlowOut.prototype._redraw=function(){this._remove();this._draw()};AssetFlowOut.prototype._remove=function(){this._heirarchy.remove()};AssetFlowOut.prototype._draw=function(){var _this=this;this._heirarchy=this._g.selectAll(".chord").data(this._timeHorizonData()).enter().append("g");this._heirarchy.append("path").attr("class","heirarchy").attr("d",function(d){return _this._flowOutCurve(d,"right")});this._heirarchy.append("path").attr("class","heirarchy").attr("d",function(d){return _this._flowOutCurve(d,"left")})};AssetFlowOut.prototype._setup=function(){this._age=30;this._retAge=65;this._g=this._container.append("g").attr("class","heirarchy");this._draw()};AssetFlowOut.prototype._timeHorizonData=function(){var numYears;numYears=this._retAge-this._age;return this._inputData.filter(function(d,i){return d.untilRetirement===numYears})};AssetFlowOut.prototype._flowOutCurve=function(d,direction){var assetTop,barCenter,barWidth,cp1,cp2,cp3,cp4,cpx1,cpx2,cpx3,cpx4,cpy1,cpy2,cpy3,cpy4,cx1,cy1,glidePathBottom,glidePathLeft,x1,x2,x3,y1,y2,y3;glidePathLeft=this._glidePath._offsetX+this._glidePath._margin.left;glidePathBottom=this._glidePath._offsetY+this._glidePath._margin.top+this._glidePath._size.height;assetTop=this._assetBreakdown._offsetY;barCenter=this._glidePath._timeHorizonX(d.untilRetirement)+glidePathLeft;barWidth=this._glidePath.timeHorizonWidth;cx1=10;cy1=40;y1=glidePathBottom;y3=assetTop;y2=y3-((y3-y1)/2);cpy1=y1+cy1;cpy2=y2;cpy3=y2;cpy4=y3-cy1;if(direction==="left"){x1=barCenter;x3=this._assetBreakdown._margin.left;x2=((x1-x3)/2)+this._glidePath._offsetX+this._glidePath._margin.left}else{if(direction==="right"){x1=barCenter+barWidth;x3=this._assetBreakdown._size.width+this._assetBreakdown._margin.left;x2=x1+((x3-x1)/2)}}cpx1=x1;cpx2=x2;cpx3=x2;cpx4=x3;cp1=""+cpx1+","+cpy1;cp2=""+cpx2+","+cpy2;cp3=cp2;cp4=""+cpx4+","+cpy4;return"M"+x1+","+y1+" C"+cp1+" "+cp2+" "+x2+","+y2+" C"+cp3+" "+cp4+" "+x3+","+y3};return AssetFlowOut})()}).call(this);(function(){FutureAdvisor.Charts.FuturePerformance=(function(){function FuturePerformance(_container,sizes,offsets,_data){this._container=_container;this._data=_data;this._height=sizes.height;this._width=sizes.width;this._offsetY=offsets.y;this._offsetX=offsets.x;this._setup()}FuturePerformance.prototype.changeKey=function(key){this._key=key;this._redraw()};FuturePerformance.prototype.changeTimeHorizon=function(timeHorizon){this._setTimeHorizon(timeHorizon);this._redraw()};FuturePerformance.prototype._setTimeHorizon=function(timeHorizon){timeHorizon-=10;if(timeHorizon<0){timeHorizon=0}if(timeHorizon>25){timeHorizon=25}this._timeHorizon=timeHorizon};FuturePerformance.prototype._setup=function(){var _this=this;this._margin={top:30,right:70,bottom:75,left:20};this._size={width:this._width-this._margin.left-this._margin.right,height:this._height-this._margin.top-this._margin.bottom};this._x=d3.time.scale().range([0,this._size.width]);this._y=d3.scale.linear().range([this._size.height,0]);this._formatPercent=d3.format(".0%");this._axisTimeFormatter=d3.time.format("%Y");this._timeFormatter=d3.time.format("%Y");this._xAxis=d3.svg.axis().scale(this._x).ticks(5).orient("bottom").tickFormat(this._axisTimeFormatter).tickSize(-this._size.height);this._yAxis=d3.svg.axis().scale(this._y).ticks(2).tickSubdivide(1).orient("right").tickFormat(this._formatPercent);this._line=d3.svg.line().interpolate("basis").x(function(d){return _this._x(d.date)}).y(function(d){return _this._y(d.assets)});this._area=d3.svg.area().x(function(d){return _this._x(d.date)}).y0(function(d){return _this._y(d.minAssets)}).y1(function(d){return _this._y(d.maxAssets)});this._currentYear=new Date().getFullYear();this._key="aggressive";this._setTimeHorizon(20);this._y.domain([-0.8,11]);this._g=this._container.append("g").attr("width",this._width).attr("height",this._height).attr("transform","translate("+(this._margin.left+this._offsetX)+", "+(this._margin.top+this._offsetY)+")");this._g.append("text").attr("transform","translate(0, -"+(this._margin.top/2)+")").attr("class","title").attr("dy",".35em").text("Projected Performance of Your Target Portfolio");this._g.append("g").attr("class","axis").append("rect").attr("x",0).attr("y",-0.5).attr("width",this._size.width).attr("height",1);this._g.append("g").attr("class","axis").append("rect").attr("x",0).attr("y",0).attr("width",1).attr("height",this._size.height);this._setData();this._draw()};FuturePerformance.prototype._annualizedReturn=function(total_return,years){return Math.pow(1+total_return,1/years)-1};FuturePerformance.prototype._setData=function(){var data,index,value,_this=this;data=this._data[this._timeHorizon][this._key];this._x.domain(d3.extent(this._data[this._timeHorizon][this._key].median,function(d,i){return new Date(""+(_this._currentYear+i))}));this._rangeData=(function(){var _i,_len,_ref,_results;_ref=data.min;_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){value=_ref[index];_results.push({date:new Date(""+(this._currentYear+index)),minAssets:value,maxAssets:data.max[index],yearsFromNow:index})}return _results}).call(this);this._medianData=(function(){var _i,_len,_ref,_results;_ref=data.median;_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){value=_ref[index];_results.push({date:new Date(""+(this._currentYear+index)),assets:value,yearsFromNow:index})}return _results}).call(this);this._minData=(function(){var _i,_len,_ref,_results;_ref=data.min;_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i){value=_ref[index];_results.push({date:new Date(""+(this._currentYear+index)),assets:value,yearsFromNow:index})}return _results}).call(this);this._data_length=this._minData.length-1};FuturePerformance.prototype._redraw=function(){this._remove();this._setData();this._draw()};FuturePerformance.prototype._remove=function(){this._range.remove();this._median.remove();this._min.remove();this._xAxisContainer.remove();this._yAxisContainer.remove();this._callouts.remove()};FuturePerformance.prototype._draw=function(){var _this=this;this._xAxisContainer=this._g.append("g").attr("class","x axis").attr("transform","translate(0, "+this._size.height+")").call(this._xAxis);this._yAxisContainer=this._g.append("g").attr("class","y axis").attr("transform","translate("+this._size.width+", 0)").call(this._yAxis);this._range=this._g.selectAll(".range").data([{values:this._rangeData,name:"premium"}]).enter().append("g").attr("class","range");this._range.append("path").attr("class",function(d){return"area "+d.name}).attr("d",function(d){return _this._area(d.values)});this._median=this._g.selectAll(".median").data([{values:this._medianData,name:"premium"}]).enter().append("g").attr("class","median");this._median.append("path").attr("class",function(d){return"line "+d.name}).attr("d",function(d){return _this._line(d.values)});this._min=this._g.selectAll(".min").data([{values:this._minData,name:"premium"}]).enter().append("g").attr("class","min");this._min.append("path").attr("class",function(d){return"line min"}).attr("d",function(d){return _this._line(d.values)});this._callouts=this._g.append("g").attr("class","callouts").attr("transform","translate(10, 0)");this._callouts.append("text").attr("transform","translate(0, 10)").attr("class","title").attr("dy",".35em").text(function(d){return"Annual inflation-adjusted returns"});this._callouts.append("text").datum(this._annualizedReturn(this._medianData[this._data_length].assets,this._data_length)).attr("transform","translate(0, 25)").attr("class","title").attr("dy",".35em").text(function(d){return"Average market conditions: "+(d3.format(".1%")(d))});this._callouts.append("text").datum(this._annualizedReturn(this._minData[this._data_length].assets,this._data_length)).attr("transform","translate(0, 40)").attr("class","title").attr("dy",".35em").text(function(d){return"Poor market conditions: "+(d3.format(".1%")(d))})};return FuturePerformance})()}).call(this);(function(){var COLOR_HASH;COLOR_HASH={stocks:"#0471BA",domesticTotal:"#0471BA",domesticSmall:"#1679BA",domesticValue:"#2980BA",foreignTotal:"#3C88BA",foreignSmall:"#4E8FBA",foreignValue:"#6196BA",emerging:"#739EBA",domesticReits:"#86A5BA",foreignReits:"#99ADBA",bonds:"#27ae60",tips:"#6CAD87",nominal:"#27ae60"};FutureAdvisor.Charts.GlidePath=(function(){function GlidePath(_container,size,offset,_inputData){this._container=_container;this._inputData=_inputData;this._height=size.height;this._width=size.width;this._offsetY=offset.y;this._offsetX=offset.x;this._data=this._inputData;this.timeHorizonWidth=24;this._setup()}GlidePath.prototype.changeKey=function(key){this._key=key;return this._redraw()};GlidePath.prototype.changeAges=function(age,retAge){this._age=age;this._retAge=retAge;return this._redraw()};GlidePath.prototype._setup=function(){var _this=this;this._margin={top:30,right:20,bottom:80,left:70};this._size={height:this._height-this._margin.top-this._margin.bottom,width:this._width-this._margin.left-this._margin.right};this._parseDate=d3.time.format("%Y").parse;this._formatPercent=d3.format(".0%");this._x=d3.scale.linear().range([this._size.width,0]);this._y=d3.scale.linear().range([this._size.height,0]);this._color=d3.scale.category20();this._xAxis=d3.svg.axis().scale(this._x).orient("bottom");this._yAxis=d3.svg.axis().scale(this._y).orient("left").ticks(5).tickFormat(this._formatPercent).tickSubdivide(2).tickSize(-this._size.width);this._area=d3.svg.area().x(function(d){return _this._x(d.untilRetirement)}).y0(function(d){return _this._y(d.y0)}).y1(function(d){return _this._y(d.y0+d.y)});this._line=d3.svg.line().x(function(d){return _this._x(d.untilRetirement)}).y(function(d){return _this._y(d.y)});this._stack=d3.layout.stack().values(function(d){return d.values});this._g=this._container.append("g").attr("width",this._size.width).attr("height",this._size.height).attr("transform","translate("+(this._offsetX+this._margin.left)+", "+(this._offsetY+this._margin.top)+")");this._key="aggressive";this._age=30;this._retAge=65;this._year=2013;this._data.forEach(function(d){return d.year=_this._parseDate(d.year)});this._color.domain(d3.keys(this._data[0][this._key]).filter(function(key){return key!=="year"}));this._x.domain(d3.extent(this._data,function(d){return d.untilRetirement}));this._timeHorizonX=function(value){return this._x(value)-12};this._g.append("g").attr("class","x axis").attr("transform","translate(0, "+this._size.height+")").call(this._xAxis);this._g.append("g").attr("class","y axis").call(this._yAxis).selectAll("g").filter(function(value){return !value}).classed("zero",true);this._draw()};GlidePath.prototype._redraw=function(){this._remove();this._draw()};GlidePath.prototype._remove=function(){this._label.remove();this._risk.remove();this._highlight.remove();this._timeHorizon.remove()};GlidePath.prototype._draw=function(){var _this=this;this._label=this._g.append("text").datum(this._timeHorizonData()[0]).attr("transform","translate(0, -"+(this._margin.top/2)+")").attr("class","title").attr("dy",".35em").text(function(d){return"Target Portfolio Stock Bond Split "+d[_this._key].stocks+"/"+d[_this._key].bonds});this._risk=this._g.selectAll(".risk").data(this._risks()).enter().append("g").attr("class","risk");this._risk.append("path").attr("class","area").attr("d",function(d){return _this._area(d.values)}).style("fill",function(d){return COLOR_HASH[d.name]});this._highlight=this._g.append("path").datum(this._risks()[0].values).attr("class","line");this._highlight.attr("d",this._line).style("stroke","white");this._risk.append("text").datum(function(d){return{name:d.name,value:d.values[0]}}).attr("transform",function(d){return"translate("+(_this._x(d.value.untilRetirement))+", "+(_this._y((d.value.y0+d.value.y/2)+0.1))+")"}).attr("x",-46).attr("dy",".35em").attr("fill","white").text(function(d){return""+d.name});this._timeHorizon=this._g.selectAll(".time-horizon").data(this._timeHorizonData()).enter().append("g");this._timeHorizon.append("text").attr("class","x axis-label").attr("transform","translate("+((this._size.width+this._offsetX)/2)+", "+((this._size.height+this._offsetY)-10)+")").text("Years Until Your Retirement").style("text-anchor","middle").style("color","white").style("fill","white");this._timeHorizon.append("rect").attr("class","time-horizon").attr("x",function(d){return _this._timeHorizonX(d.untilRetirement)}).attr("width",this.timeHorizonWidth).attr("y",0).attr("height",function(d){return _this._size.height}).style("fill","black").style("z-index","99").style("opacity","0.8");this._timeHorizon.append("text").attr("transform",function(d){return"translate("+(_this._x(d.untilRetirement)+5)+", "+(_this._y(0.5))+"), rotate(-90)"}).text("Your Target Portfolio").style("fill","white").style("text-anchor","middle").style("font-size","11px")};GlidePath.prototype._risks=function(){var _this=this;return this._stack(this._color.domain().map(function(name){return{name:name,values:_this._data.map(function(d){return{date:d.year,untilRetirement:d.untilRetirement,y:d[_this._key][name]/100}})}}))};GlidePath.prototype._timeHorizonData=function(){var numYears;numYears=this._retAge-this._age;return this._inputData.filter(function(d,i){return d.untilRetirement===numYears})};return GlidePath})()}).call(this);(function(){FutureAdvisor.Page=(function(){function Page(){}Page.bindCommonTriggers=function(element){if(element==null){element=$("body")}element.find(".tooltip-trigger").each(function(){return $(this).tooltip()});element.find(".popover-trigger").each(function(){return $(this).popover()});element.find(".modal").on("show",function(){return $(this).appendTo("body")}).on("shown",function(){return $("body").css("overflow","hidden")}).on("hidden",function(){return $("body").css("overflow","auto")});element.find("[placeholder]").each(function(){return $(this).defaultValue()});return element};Page.callbacksOnUpdate=[];Page.registerCallbackOnUpdate=function(callback){return this.callbacksOnUpdate.push(callback)};Page.triggerCallbacksOnUpdate=function(){var callback,_i,_len,_ref,_results;_ref=this.callbacksOnUpdate;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){callback=_ref[_i];_results.push(callback())}return _results};return Page})();FutureAdvisor.Page.ReplaceableSection=(function(){function ReplaceableSection(section){this.section=section;this.initializedSubSections=typeof this.subSections==="function"?this.subSections():void 0}ReplaceableSection.prototype.replace=function(newHtml,options){var newSection,subSection,_i,_len,_ref;if(options==null){options={}}newSection=$(newHtml).hide();if(this.initializedSubSections!=null){_ref=this.initializedSubSections;for(_i=0,_len=_ref.length;_i<_len;_i++){subSection=_ref[_i];if(typeof subSection.uninitialize==="function"){subSection.uninitialize()}}}if(options.fade!=null){this.section.replaceWith(newSection);newSection.fadeIn("slow")}else{this.section.replaceWith(newSection)}FutureAdvisor.Page.bindCommonTriggers(newSection);FutureAdvisor.Page.triggerCallbacksOnUpdate();return this.constructor(newSection)};return ReplaceableSection})()}).call(this);(function(){FutureAdvisor.Tracking={};FutureAdvisor.Tracking.ServerSide=(function(){function ServerSide(){}ServerSide._url="/track_client";ServerSide.incrementCounter=function(counter){return this._track({counter:counter})};ServerSide.trackEvent=function(event,properties){var data;data={event:event};if(properties!=null){data.properties=properties}return this._track(data)};ServerSide.trackReferer=function(){return this._track({referer:document.referrer,first_page:window.location.pathname})};ServerSide._track=function(data){return $.ajax({url:this._url,type:"POST",dataType:"json",data:data})};return ServerSide})();FutureAdvisor.Tracking.ClientSide=(function(){function ClientSide(){}ClientSide._gaq=window._gaq||(window._gaq=[]);ClientSide._optimizely=window.optimizely||(window.optimizely=[]);ClientSide.trackEvents=function(events){var event,_i,_len,_results;_results=[];for(_i=0,_len=events.length;_i<_len;_i++){event=events[_i];_results.push(this.trackEvent(event))}return _results};ClientSide.trackEvent=function(event){this._trackGA(event);return this._trackOptimizely(event)};ClientSide._trackOptimizely=function(event){return this._optimizely.push(["trackEvent",event])};ClientSide._trackGA=function(event){return this._gaq.push(["_trackEvent","AppEvents",event])};return ClientSide})()}).call(this);if(typeof(String.prototype.trim)==="undefined"){String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}}jQuery.fn.fadeThenSlideToggle=function(speed,easing,callback){if(this.is(":hidden")){return this.slideDown(speed,easing).fadeTo(speed,1,easing,callback)}else{return this.fadeTo(speed,0,easing).slideUp(speed,easing,callback)}};jQuery.fn.fadeOutThenSlideUp=function(speed,easing,callback){return this.fadeTo(speed,0,easing).slideUp(speed,easing,callback)};jQuery.fn.fadeInThenSlideDown=function(speed,easing,callback){return this.slideDown(speed,easing).fadeTo(speed,1,easing,callback)};jQuery.fn.clearOnFocus=function(elementToClear){return this.focus(function(){elementToClear.html("")})};jQuery.fn.expandOnClick=function(expandContentElement){return this.click(function(){expandContentElement.show();$(this).hide();return false})};jQuery.fn.enableInputHint=function(hintText){if(this.is("input")){var inputField=this;if(!hintText){hintText=this.attr("title")}var isFullWidthInputField=inputField.parent().hasClass("full-width-input-container");inputField.wrap('<div class="no-edge" style="display: inline-block; position: relative;"/>');if(isFullWidthInputField){inputField.parent().css("width","100%")}inputField.before('<div class="input-hint" style="display: none;">'+hintText+"</div>");var inputHint=inputField.prev(".input-hint");inputHint.click(function(){inputField.focus()});function showInputHint(){if(inputField.val()==""){inputHint.show()}else{inputHint.hide()}}function hideInputHint(){inputHint.hide()}showInputHint();inputField.blur(showInputHint);inputField.change(showInputHint);inputField.focus(hideInputHint)}};jQuery.fn.submitUpdateWithAjax=function(callbackFunction,dataType,method){$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:method,dataType:dataType,success:callbackFunction,error:function(jqXHR,ajaxOptions){if(ajaxOptions=="timeout"){msg="Request timed out."}else{msg=jqXHR.statusText}callbackFunction({errors:[msg]})}});return false};jQuery.ajaxSetup({statusCode:{401:function(jqXHR){var redirect_url=jqXHR.getResponseHeader("Location");window.location.href=redirect_url?redirect_url:"/signin"}}});jQuery.fn.waitSpinner=function(options){var settings={lines:10,length:6,width:4,radius:6,color:"#000",speed:1,trail:60,shadow:false};var spinnerOptions=$.extend({},settings,options);this.each(function(){var spinner=$(this).data("spinner");if(spinner){spinner.stop()}$(this).data("spinner",new Spinner(spinnerOptions).spin(this))});return this};jQuery.fn.stopSpinner=function(){this.each(function(){var spinner=$(this).data("spinner");if(spinner){spinner.stop()}});return this};jQuery.fn.delayLoad=function(callback){var elementToUpdate=this;$.ajax({url:elementToUpdate.attr("data-path"),dataType:"json",success:function(data){update_element_with_content(elementToUpdate,data.html_result)},error:function(){load_fail(elementToUpdate)}})};jQuery.fn.periodicDelayLoad=function(){var elementToUpdate=$(this);var settings={success:function(data){update_element_with_content(elementToUpdate,data.html_result)},error:function(periodic_updater){load_fail(elementToUpdate)}};path=elementToUpdate.attr("data-periodic-path");if(path){pollForStatus(path,settings)}};jQuery.fn.pollStatus=function(){var elem=$(this);var poll_type=elem.data("poll-type");if(poll_type=="dual"){var report_settings={success:function(data){if(data.is_updating==false){elem.text("").hide();elem.removeClass("polling");elem.html(elem.data("done-string")).fadeIn("fast")}}};var user_settings={maxCalls:0,success:function(data){if(data.is_updating==false){elem.text("").hide();elem.text(elem.data("report-updating-string")).fadeIn("fast");pollForStatus(elem.data("report-path"),report_settings)}}};elem.text("").hide();elem.addClass("polling");elem.text(elem.data("user-updating-string")).fadeIn("fast");pollForStatus(elem.data("user-path"),user_settings)}else{if(poll_type=="single"){var report_settings={success:function(data){if(data.is_updating==false){elem.text("").hide();elem.removeClass("polling");elem.html(elem.data("done-string")).fadeIn("fast")}}};elem.text("").hide();elem.addClass("polling");elem.text(elem.data("report-updating-string")).fadeIn("fast");pollForStatus(elem.data("report-path"),report_settings)}}};function load_fail(element){$.get("/main/load_fail",function(data){element.html(data.html_result)})}function update_element_with_content(element,content){element.html("").hide();element.html(content).fadeIn("fast");bindTooltipElements();bindInlineFancyboxElements()}jQuery.fn.loadBadge=function(){var badgeElement=$(this);var settings={success:function(data){updateBadge(badgeElement,data.number)}};path=badgeElement.data("source");if(path){pollForStatus(path,settings)}};function creditCardTypeFromNumber(num){num=num.replace(/[^\d]/g,"");if(num.match(/^5[1-5]\d{14}$/)||num.match(/^5[1-5]/)){return"MasterCard"}else{if(num.match(/^4\d{15}/)||num.match(/^4\d{12}/)||num.match(/^4/)){return"Visa"}else{if(num.match(/^3[47]\d{13}/)||num.match(/^3[47]/)){return"AmEx"}else{if(num.match(/^6011\d{12}/)||num.match(/^6011/)){return"Discover"}}}}return"UNKNOWN"}function starObscure(originalString,leaveLastXNumber){var starString=originalString;if(originalString.length>leaveLastXNumber){for(i=0;i<originalString.length-leaveLastXNumber;i++){starString=setCharAt(starString,i,"*")}}return starString}function setCharAt(str,index,chr){if(index>str.length-1){return str}return str.substr(0,index)+chr+str.substr(index+1)}function disableLinks(){$("a[id^='delete']").hide();$("a[id^='retry']").hide();$("a[id^='update_credentials_form_']").hide()}function enableLinks(){$("a[id^='delete']").show();$("a[id^='retry']").show();$("a[id^='update_credentials_form_']").show()}function bindTooltipElements(){$(".tooltip_trigger").each(function(){var triggerId=$(this).attr("id");var tooltipId=$(this).attr("id").replace("_trigger","");$("#"+triggerId).tooltip({tip:"#"+tooltipId,position:"top center",lazy:true,delay:100,relative:true})}).hover(function(){$(this).addClass("cursor_pointer")},function(){$(this).removeClass("cursor_pointer")}).click(function(){return false})}function bindInlineFancyboxElements(){$("a.inline-fancybox").fancybox({autoDimensions:true,scrolling:"auto",autoScale:false})}function bindScrollFollowElements(){$(".scroll-follow").scrollFollow()}$(function(){$("#slides").slides({play:8000});$("a.visual_tour").fancybox({showNavArrows:true,transitionIn:"elastic",speedIn:100,transitionOut:"elastic",speedOut:100,autoScale:false,cyclic:true,titleShow:true});$(".watch-video").fancybox({showNavArrows:false,transitionIn:"elastic",speedIn:100,transitionOut:"elastic",speedOut:100,autoScale:true,type:"iframe",width:640,height:360,padding:0,titleShow:false});$(".periodic-poll").periodicDelayLoad();$(".poll-status").pollStatus();bindTooltipElements();bindInlineFancyboxElements();liveLoadCharts();bindScrollFollowElements();$(document).on("click",".slide_toggle_trigger",function(){var slideToggleTrigger=$(this);var slideToggleContent=$("#"+slideToggleTrigger.attr("id").replace("_trigger","_content"));var slideText=slideToggleTrigger.text();if(slideToggleTrigger.hasClass("expand")){slideToggleTrigger.removeClass("expand");slideToggleTrigger.addClass("retract")}else{if($(this).hasClass("retract")){slideToggleTrigger.removeClass("retract");slideToggleTrigger.addClass("expand")}}if(slideToggleTrigger.attr("data_alt_text")!=undefined){slideToggleTrigger.text(slideToggleTrigger.attr("data_alt_text"));slideToggleTrigger.attr("data_alt_text",slideText)}slideToggleContent.slideToggle("fast");return false});$("a.dismiss_notice").click(function(){url=$(this).attr("href");$("#notice_box").fadeOutThenSlideUp("fast");return false});$("a.dismiss_warning").click(function(){url=$(this).attr("href");$("#warning_box").fadeOutThenSlideUp("fast");return false});$(".fancybox-trigger").fancybox({});showPlaceholders()});function updateBadge(badgeElement,number){if(number&&parseInt(number)>0){badgeElement.html(number);if(badgeElement.is(":visible")){badgeElement.effect("highlight","slow")}else{badgeElement.fadeIn("fast")}}else{badgeElement.fadeOut("fast")}}function liveLoadCharts(){loadGlidePathChart()}function showPlaceholders(){$("[placeholder]").each(function(){$(this).defaultValue()})}if(!Array.prototype.map){Array.prototype.map=function(callback,thisArg){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined")}var O=Object(this);var len=O.length>>>0;if({}.toString.call(callback)!="[object Function]"){throw new TypeError(callback+" is not a function")}if(thisArg){T=thisArg}A=new Array(len);k=0;while(k<len){var kValue,mappedValue;if(k in O){kValue=O[k];mappedValue=callback.call(T,kValue,k,O);A[k]=mappedValue}k++}return A}}
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(d){function e(a){var b=a||window.event,c=[].slice.call(arguments,1),f=0,e=0,g=0,a=d.event.fix(b);a.type="mousewheel";b.wheelDelta&&(f=b.wheelDelta/120);b.detail&&(f=-b.detail/3);g=f;b.axis!==void 0&&b.axis===b.HORIZONTAL_AXIS&&(g=0,e=-1*f);b.wheelDeltaY!==void 0&&(g=b.wheelDeltaY/120);b.wheelDeltaX!==void 0&&(e=-1*b.wheelDeltaX/120);c.unshift(a,f,e,g);return(d.event.dispatch||d.event.handle).apply(this,c)}var c=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var h=c.length;h;){d.event.fixHooks[c[--h]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=c.length;a;){this.addEventListener(c[--a],e,false)}}else{this.onmousewheel=e}},teardown:function(){if(this.removeEventListener){for(var a=c.length;a;){this.removeEventListener(c[--a],e,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
/*! fancyBox v2.1.4 fancyapps.com | fancyapps.com/fancybox/#license */
(function(C,z,f,r){var q=f(C),n=f(z),b=f.fancybox=function(){b.open.apply(this,arguments)},H=navigator.userAgent.match(/msie/),w=null,s=z.createTouch!==r,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},p=function(a){return a&&"string"===f.type(a)},F=function(a){return p(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&F(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},x=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(H?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0))){return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,c.metadata())):k=c);g=d.href||k.href||(p(c)?c:null);h=d.title!==r?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));p(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":p(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(p(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==r&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)}},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();f("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1)){b.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":c,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}}else{c()}},next:function(a){var d=b.current;d&&(p(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(p(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==r&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(w),w=null);b.isOpen&&!w&&(w=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),w=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){n.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");n.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode)){a.preventDefault(),b.cancel()}});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:q.scrollLeft(),y:q.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&C.innerWidth?C.innerWidth:q.width(),d.h=s&&C.innerHeight?C.innerHeight:q.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");n.unbind(".fb");q.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(q.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&n.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;if(27===c&&b.coming){return !1}!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==r){return b[d](k[c]),e.preventDefault(),!1}if(-1<f.inArray(c,k)){return b[d](),e.preventDefault(),!1}})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");){j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent()}if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k){b.prev(0<g?"down":"left")}else{if(0>g||0>k){b.next(0>g?"up":"right")}}d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e){return !1}c.helpers&&f.each(c.helpers,function(d,e){e&&(b.helpers[d]&&f.isFunction(b.helpers[d][a]))&&(e=f.extend(!0,{},b.helpers[d].defaults,e),b.helpers[d][a](e,c))});f.event.trigger(a+".fb")}},isImage:function(a){return p(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return p(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e){return !1}d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad")){b.coming=null}else{c=d.type;e=d.href;if(!c){return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1}b.isActive=!0;if("image"===c||"swf"===c){d.autoHeight=d.autoWidth=!1,d.scrolling="visible"}"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,x(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length){return b._error("content")}}else{if(!e){return b._error("href")}}"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width;b.coming.height=this.height;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1){f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)}},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive){if(!1===b.trigger("afterLoad",a,d)){a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null}else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod){b.transitions[d.prevMethod]()}}else{f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove()}b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,v=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,y=h.margin,p=l(y[1]+y[3]),r=l(y[0]+y[2]),z,A,t,D,B,G,C,E,w;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");y=l(k.outerWidth(!0)-k.width());z=l(k.outerHeight(!0)-k.height());A=p+y;t=r+z;D=F(c)?(a.w-A)*l(c)/100:c;B=F(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(w=h.content,h.autoHeight&&1===w.data("ready")){try{w[0].contentWindow.document.location&&(g.width(D).height(9999),G=w.contents().find("body"),q&&G.css("overflow-x","hidden"),B=G.height())}catch(H){}}}else{if(h.autoWidth||h.autoHeight){g.addClass("fancybox-tmp"),h.autoWidth||g.width(D),h.autoHeight||g.height(B),h.autoWidth&&(D=g.width()),h.autoHeight&&(B=g.height()),g.removeClass("fancybox-tmp")}}c=l(D);j=l(B);E=D/B;m=l(F(m)?l(m,"w")-A:m);n=l(F(n)?l(n,"w")-A:n);u=l(F(u)?l(u,"h")-t:u);v=l(F(v)?l(v,"h")-t:v);G=n;C=v;h.fitToView&&(n=Math.min(a.w-A,n),v=Math.min(a.h-t,v));A=a.w-p;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/E)),j>v&&(j=v,c=l(j*E)),c<m&&(c=m,j=l(c/E)),j<u&&(j=u,c=l(j*E))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,v)));if(h.fitToView){if(g.width(c).height(j),e.width(c+y),a=e.width(),p=e.height(),h.aspectRatio){for(;(a>A||p>r)&&(c>m&&j>u)&&!(19<d++);){j=Math.max(u,Math.min(v,j-10)),c=l(j*E),c<m&&(c=m,j=l(c/E)),c>n&&(c=n,j=l(c/E)),g.width(c).height(j),e.width(c+y),a=e.width(),p=e.height()}}else{c=Math.max(m,Math.min(c,c-(a-A))),j=Math.max(u,Math.min(j,j-(p-r)))}}q&&("auto"===s&&j<B&&c+y+q<A)&&(c+=q);g.width(c).height(j);e.width(c+y);a=e.width();p=e.height();e=(a>A||p>r)&&c>m&&j>u;c=h.aspectRatio?c<G&&j<C&&c<D&&j<B:(c<G||j<C)&&(c<D||j<B);f.extend(h,{dim:{width:x(a),height:x(p)},origWidth:D,origHeight:B,canShrink:e,canExpand:c,wPadding:y,hPadding:z,wrapSpace:p-k.outerHeight(!0),skinSpace:k.height()-j});!w&&(h.autoHeight&&j>u&&j<v&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=x(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=x(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked){c.top-=m.y,c.left-=m.x}return c={top:x(c.top-h*a.topRatio),left:x(c.left-j*a.leftRatio),width:x(f+j),height:x(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f){e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===f?c:c-g*e-h*e))}},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=x(l(e[g])-200),c[g]="+=200px"):(e[g]=x(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(q.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){f(a.target).hasClass("fancybox-overlay")&&(b.isActive?b.close():d.close())});this.overlay.css(a.css).show()},close:function(){f(".fancybox-overlay").remove();q.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(f("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");H?(b=Math.max(z.documentElement.offsetWidth,z.body.offsetWidth),n.width()>b&&(a=n.width())):n.width()>q.width()&&(a=n.width());this.overlay.width(a).height(n.height())},onReady:function(a,b){f(".fancybox-overlay").stop(!0,!0);this.overlay||(this.margin=n.height()>q.height()||"scroll"===f("body").css("overflow-y")?f("body").css("margin-right"):!1,this.el=z.all&&!z.querySelector?f("html"):f("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&f("body").css("margin-right",l(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.isActive&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(p(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),H&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):n.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};n.ready(function(){f.scrollbarWidth===r&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===r){var a=f.support,d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")})})})(window,document,jQuery);eval(function(p,a,c,k,e,r){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!"".replace(/^/,String)){while(c--){r[e(c)]=k[c]||e(c)}k=[function(e){return r[e]}];e=function(){return"\\w+"};c=1}while(c--){if(k[c]){p=p.replace(new RegExp("\\b"+e(c)+"\\b","g"),k[c])}}return p}("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});",62,74,"||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"),0,{}));var BACKSPACE=8;var TAB=9;var ENTER=13;var ESC=27;var KEYUP=38;var KEYDOWN=40;var DELAY=250;var typed=false;var highlight_index=-1;var delayedExecution={execute:function(elem,func){this.timeoutId=null;func.call(elem)},wait:function(elem,func){if(this.timeoutId){window.clearTimeout(this.timeoutId)}var delayedExecution=this;this.timeoutId=window.setTimeout(function(){delayedExecution.execute(elem,func)},DELAY)}};function ajax_request_autocomplete(search_query,search_input,autocomplete_list){$.ajax({url:"/funds/suggest?search="+search_query,dataType:"json",type:"get",success:function(data){if(data.suggestions==null||$(search_input).val().length==0){$(autocomplete_list).fadeOut(function(){$(autocomplete_list).html("")})}else{$(autocomplete_list).html(data.suggestions);$(autocomplete_list).fadeIn();$("li.autocomplete").hover(function(){$('li.autocomplete[index="'+highlight_index+'"]').removeClass("selected");$(this).addClass("selected");highlight_index=parseInt($(this).attr("index"));$(search_input).attr("value",$('li.autocomplete[index="'+highlight_index+'"]').attr("content"))},function(){$(this).removeClass("selected");highlight_index=-1;$(search_input).attr("value",$("#input-holder").attr("content"))})}}})}function update_highlighting(highlight_index){var autocomplete_list=$("li.autocomplete");for(var i=0;i<autocomplete_list.length;i++){if(i==highlight_index){$('li.autocomplete[index="'+i+'"]').addClass("selected")}else{$('li.autocomplete[index="'+i+'"]').removeClass("selected")}}}jQuery.fn.autocompleteSearchInput=function(autocomplete_list){this.blur(function(){$(autocomplete_list).fadeOut()});this.focus(function(){var search_query=$(this).val();if(search_query.length>0){if(typed){if($("li.autocomplete").length>0){$(autocomplete_list).fadeIn()}}else{ajax_request_autocomplete(search_query,this,autocomplete_list);typed=true}}else{$(autocomplete_list).fadeOut()}});this.keyup(function(e){var key=(e.keyCode?e.keyCode:e.which);if((key>=48&&key<=90)||key==BACKSPACE){typed=true;var search_query=$(this).val();$("#input-holder").attr("content",search_query);if(search_query.length==0){$(autocomplete_list).fadeOut(function(){$(autocomplete_list).html("")})}else{delayedExecution.wait(this,function(){ajax_request_autocomplete(search_query,this,autocomplete_list)})}}});this.keydown(function(e){var key=(e.keyCode?e.keyCode:e.which);var autocomplete_list=$("li.autocomplete");if($(this).val().length>0){switch(key){case KEYUP:highlight_index--;if(highlight_index==-1){$(this).attr("value",$("#input-holder").attr("content"))}else{if(highlight_index<-1){highlight_index=autocomplete_list.length-1}$(this).attr("value",$('li.autocomplete[index="'+highlight_index+'"]').attr("content"))}update_highlighting(highlight_index);break;case KEYDOWN:highlight_index++;if(highlight_index==autocomplete_list.length){highlight_index=-1;$(this).attr("value",$("#input-holder").attr("content"))}else{$(this).attr("value",$('li.autocomplete[index="'+highlight_index+'"]').attr("content"))}update_highlighting(highlight_index);break;case ESC:highlight_index=-1;$(this).attr("value",$("#input-holder").attr("content"));update_highlighting(highlight_index);break}}})};function manualSecurityEditButtonClick(){var editButton=$("#manual_securities_submit"),cancelButton=$("#manual_securities_cancel");editButton.val(editButton.data("save"));$(".manual_block").show();cancelButton.show();editButton.unbind("click");editButton.click(function(){editButton.attr("disabled",true);$("#manual_securities_form").submit();return false});return false}function manualSecurityCancelButtonClick(){var editButton=$("#manual_securities_submit"),cancelButton=$("#manual_securities_cancel");editButton.val(editButton.data("edit"));$(".manual_block").hide();cancelButton.hide();editButton.unbind("click");editButton.click(manualSecurityEditButtonClick);return false}function enableManualSecurityForm(){$("#manual_securities_submit").click(manualSecurityEditButtonClick);$("#manual_securities_cancel").click(manualSecurityCancelButtonClick);$("#manual_securities_form").submit(function(){if(hasSelectedAtLeastOne()){submitManualSecurityForm()}else{$("#manual_securities_submit").attr("disabled",false)}return false})}function hasSelectedAtLeastOne(){var selects=$(".manual-security-first-option option:selected");for(var i=0;i<selects.length;i++){if(selects[i].value){return true}}return false}function firstDropdownSelected(first_list,positionId){var value=$(first_list).val();$(["#manual_securities",positionId,"collection",value].join("_")).show();return true}function enableManualSecuritySubform(positionId){var secondSelectOptions=selectOptionSelectors("#manual_securities_"+positionId+"_security_type");$("#manual_securities_"+positionId+"_security_type").change(function(){$(secondSelectOptions+", #message_"+positionId).hide();$(this).siblings().hide();if($(this).val()!=""){firstDropdownSelected($(this),positionId)}else{$(secondSelectOptions).hide()}})}function submitManualSecurityForm(){var table=$("#diversification_details_table");table.css("opacity","0.5");table.waitSpinner();var form=$("#manual_securities_form");var assetClass=form.data("asset-class");var poll_settings={success:function(data,success,xhr,handle){$("#diversification_details_table").stopSpinner();$("#diversification_details_table").css("opacity","1.0");if(!data.is_updating){$("#goal-allocations-evaluation-header").html(data.allocations_header);$("#goal-allocations-evaluation-slideout").html(data.allocations_slideout);var message=data.message;var moved_message="";if(data.diversification_details_table){$("#diversification_details_table").html(data.diversification_details_table);if($(".fund-quality-table."+assetClass).has($("#manual_securities_form")).length==0){moved_message=data.moved_message}$("#manual-security-moved-message").html("<p>"+message+moved_message+'</p><div style="clear:both;"></div>').show();$("body").click(function(){$("#manual-security-moved-message").fadeOutThenSlideUp("fast")});bindTooltipElements();$("a.inline-fancybox").fancybox({autoDimensions:true,autoScale:false})}updatePortfolioFeesWidget()}}};$.ajax({url:$(form).attr("action"),data:$(form).serialize()+"&asset_class="+assetClass,type:"POST",dataType:"json",success:function(data){if(data.success){pollForStatus(data.poll_url,poll_settings)}else{alertErrorMessages()}},error:function(){alertErrorMessages()}});return false}function selectOptionSelectors(stringToAttach){var selectors=[];for(i in secondSelectOptions){selectors.push(stringToAttach+"_"+secondSelectOptions[i])}return selectors.join(", ")}function alertErrorMessages(){$("#manual_message").show();$("#manual_securities_submit").attr("disabled",false);$("#diversification_details_table").stopSpinner();$("#diversification_details_table").css("opacity","1.0")}
/*! spin.js - http://fgnass.github.com/spin.js/ */
!function(t,e,i){var o=["webkit","Moz","ms","O"],r={},n;function a(t,i){var o=e.createElement(t||"div"),r;for(r in i){o[r]=i[r]}return o}function s(t){for(var e=1,i=arguments.length;e<i;e++){t.appendChild(arguments[e])}return t}var f=function(){var t=a("style",{type:"text/css"});s(e.getElementsByTagName("head")[0],t);return t.sheet||t.styleSheet}();function l(t,e,i,o){var a=["opacity",e,~~(t*100),i,o].join("-"),s=0.01+i/o*100,l=Math.max(1-(1-t)/e*(100-s),t),p=n.substring(0,n.indexOf("Animation")).toLowerCase(),u=p&&"-"+p+"-"||"";if(!r[a]){f.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+l+"}"+s+"%{opacity:"+t+"}"+(s+0.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+l+"}}",f.cssRules.length);r[a]=1}return a}function p(t,e){var r=t.style,n,a;if(r[e]!==i){return e}e=e.charAt(0).toUpperCase()+e.slice(1);for(a=0;a<o.length;a++){n=o[a]+e;if(r[n]!==i){return n}}}function u(t,e){for(var i in e){t.style[p(t,i)||i]=e[i]}return t}function c(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o){if(t[r]===i){t[r]=o[r]}}}return t}function d(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent){e.x+=t.offsetLeft,e.y+=t.offsetTop}return e}var h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};function m(t){if(!this.spin){return new m(t)}this.opts=c(t||{},m.defaults,h)}m.defaults={};c(m.prototype,{spin:function(t){this.stop();var e=this,i=e.opts,o=e.el=u(a(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),r=i.radius+i.length+i.width,s,f;if(t){t.insertBefore(o,t.firstChild||null);f=d(t);s=d(o);u(o,{left:(i.left=="auto"?f.x-s.x+(t.offsetWidth>>1):parseInt(i.left,10)+r)+"px",top:(i.top=="auto"?f.y-s.y+(t.offsetHeight>>1):parseInt(i.top,10)+r)+"px"})}o.setAttribute("aria-role","progressbar");e.lines(o,e.opts);if(!n){var l=0,p=i.fps,c=p/i.speed,h=(1-i.opacity)/(c*i.trail/100),m=c/i.lines;(function y(){l++;for(var t=i.lines;t;t--){var r=Math.max(1-(l+t*m)%c*h,i.opacity);e.opacity(o,i.lines-t,r,i)}e.timeout=e.el&&setTimeout(y,~~(1000/p))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode){t.parentNode.removeChild(t)}this.el=i}return this},lines:function(t,e){var i=0,o;function r(t,o){return u(a(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;i<e.lines;i++){o=u(a(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:n&&l(e.opacity,e.trail,i,e.lines)+" "+1/e.speed+"s linear infinite"});if(e.shadow){s(o,u(r("#000","0 0 4px #000"),{top:2+"px"}))}s(t,s(o,r(e.color,"0 0 1px rgba(0,0,0,.1)")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length){t.childNodes[e].style.opacity=i}}});(function(){function t(t,e){return a("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=u(a("group"),{behavior:"url(#default#VML)"});if(!p(e,"transform")&&e.adj){f.addRule(".spin-vml","behavior:url(#default#VML)");m.prototype.lines=function(e,i){var o=i.length+i.width,r=2*o;function n(){return u(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}var a=-(i.width+i.length)*2+"px",f=u(n(),{position:"absolute",top:a,left:a}),l;function p(e,r,a){s(f,s(u(n(),{rotation:360/i.lines*e+"deg",left:~~r}),s(u(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow){for(l=1;l<=i.lines;l++){p(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(l=1;l<=i.lines;l++){p(l)}return s(e,f)};m.prototype.opacity=function(t,e,i,o){var r=t.firstChild;o=o.shadow&&o.lines||0;if(r&&e+o<r.childNodes.length){r=r.childNodes[e+o];r=r&&r.firstChild;r=r&&r.firstChild;if(r){r.opacity=i}}}}else{n=p(e,"animation")}})();if(typeof define=="function"&&define.amd){define(function(){return m})}else{t.Spinner=m}}(window,document);function FormFieldSnapshot(formFieldElement){this.element=formFieldElement;this.id=formFieldElement.attr("id");this.value=formFieldElement.val()}FormFieldSnapshot.prototype.refresh=function(){this.value=this.element.val()};FormFieldSnapshot.prototype.restore=function(){this.element.val(this.value)};function FormFieldSnapshots(formFieldElements){for(var index=0;index<formFieldElements.length;index++){var formFieldSnapshot=new FormFieldSnapshot(formFieldElements[index]);this[formFieldSnapshot.id]=formFieldSnapshot}}(function(){for(var functionName in FormFieldSnapshot.prototype){FormFieldSnapshots.prototype[functionName]=(function(delegatedFunctionName){return function(){for(var property in this){if(this.hasOwnProperty(property)){var formFieldSnapshot=this[property];formFieldSnapshot[delegatedFunctionName].apply(formFieldSnapshot,arguments)}}}})(functionName)}})();window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs"));(function(){window.Accounts={};Accounts.AccountEntry=(function(){function AccountEntry(accountId,updateEmployerPlanPath){this.accountId=accountId;this.updateEmployerPlanPath=updateEmployerPlanPath;this.accountTypeFields=this._getElement("account_type");this.accountTypeSelect=this._getElement("account_type_select");this.accountTypeSnapshots=new FormFieldSnapshots([this.accountTypeSelect]);this.goalSelect=this._getElement("goal_id_select");this.goalSnapshots=new FormFieldSnapshots([this.goalSelect]);enableEntryControls("account",this.accountId);this._enableAccountTypeSelect();this._enableAccountTypeEditLink();this._enableGoalSelect();this._enableRemoveLink()}AccountEntry.prototype.editEmployerPlan=function(){this.accountTypeSnapshots.restore();return new Accounts.UpdateEmployerPlan(this.updateEmployerPlanPath,this)};AccountEntry.prototype.submitUpdate=function(formFieldSnapshots){var _this=this;return submitEntryUpdate("account",this.accountId,formFieldSnapshots,function(data){_this.updateDisplay(data);return updateAssetsDisplay(data.judgement_header,null,moneyFormat)})};AccountEntry.prototype.updateDisplay=function(data){this._getSection401kInfo().replaceWith(data.section401k_info);this._getElement("positions_content").html(data.positions);return this._enableAccountTypeEditLink()};AccountEntry.prototype.updateAccountType=function(data){this.accountTypeSelect.val(data.account_type);return this.accountTypeSnapshots.refresh()};AccountEntry.prototype._getRow=function(){return getEntryRow("account",this.accountId)};AccountEntry.prototype._getElement=function(elementName){return getEntryElement("account",this.accountId,elementName)};AccountEntry.prototype._getSection401kInfo=function(){return this._getElement("section401k_info")};AccountEntry.prototype._enableAccountTypeSelect=function(){var _this=this;return this.accountTypeSelect.change(function(){if(_this.accountTypeSelect.val()==="401(k)"){return _this.editEmployerPlan()}else{return _this.submitUpdate(_this.accountTypeSnapshots)}})};AccountEntry.prototype._enableAccountTypeEditLink=function(){var accountTypeEditLink,_this=this;accountTypeEditLink=this._getElement("edit_account_type");if(accountTypeEditLink.length>0){this.accountTypeFields.hide();this._getRow().hover(function(){return accountTypeEditLink.show()},function(){return accountTypeEditLink.hide()});return accountTypeEditLink.click(function(event){event.preventDefault();return _this.editEmployerPlan()})}else{return this.accountTypeFields.show()}};AccountEntry.prototype._enableGoalSelect=function(){var _this=this;return this.goalSelect.change(function(){return _this.submitUpdate(_this.goalSnapshots)})};AccountEntry.prototype._enableRemoveLink=function(){var removeLink;removeLink=this._getElement("remove");if(removeLink.length>0){return enableRemoveEntryLink("account",this.accountId,financialStrings.confirmRemoveAccount,function(data){return updateManualInstitutionNetAssets(data.net_assets_change)})}};return AccountEntry})();Accounts.UpdateEmployerPlan=(function(){UpdateEmployerPlan.fancyBoxId="#update_employer_plan";UpdateEmployerPlan.getFancyBoxElement=function(){return $(this.fancyBoxId)};UpdateEmployerPlan.getFancyBoxTrigger=function(){return $(this.fancyBoxId+"_trigger")};UpdateEmployerPlan.getContainingBox=function(){return $(".update_employer_plan_box")};UpdateEmployerPlan.initialize=function(){var updateEmployerPlanElement,updateEmployerPlanTrigger;updateEmployerPlanElement=this.getFancyBoxElement();updateEmployerPlanTrigger=this.getFancyBoxTrigger();if(updateEmployerPlanElement.length>0){this.originalContents=updateEmployerPlanElement.html();return updateEmployerPlanTrigger.fancybox({hideOnOverlayClick:false,scrolling:false,centerOnScroll:true})}};UpdateEmployerPlan.restoreOriginalContents=function(){return this.getFancyBoxElement().html(this.originalContents)};function UpdateEmployerPlan(updateEmployerPlanPath,accountEntry){var updateEmployerPlanElement,_this=this;this.updateEmployerPlanPath=updateEmployerPlanPath;this.accountEntry=accountEntry;updateEmployerPlanElement=this.constructor.getFancyBoxElement();this.constructor.restoreOriginalContents();this.constructor.getFancyBoxTrigger().click();this.constructor.getContainingBox().waitSpinner();$.ajax({url:this.updateEmployerPlanPath,dataType:"json",type:"get",success:function(data){var containingBox,showSearchResultsCallback,updateEmployerPlanCallback;if(data.html_result){updateEmployerPlanElement.html(data.html_result);$.fancybox.update();containingBox=_this.constructor.getContainingBox();showSearchResultsCallback=function(data){return _this._showSearchResults(data)};updateEmployerPlanCallback=function(data,afterUpdateCallback){return _this._updateEmployerPlan(data,afterUpdateCallback)};$("#employer_plan_search").submit(function(event){event.preventDefault();containingBox.waitSpinner();return $(this).submitUpdateWithAjax(showSearchResultsCallback,"json","GET")});$("#no_employer_plan_link").click(function(event){event.preventDefault();return updateEmployerPlanCallback({account_type:"401(k)"},function(){return $.fancybox.close()})});return $("#not_employer_plan_link").click(function(event){event.preventDefault();return updateEmployerPlanCallback({account_type:"Other"},function(){return $.fancybox.close()})})}}})}UpdateEmployerPlan.prototype._showSearchResults=function(data){var containingBox,showSearchResultsCallback,updateEmployerPlanCallback,_this=this;containingBox=this.constructor.getContainingBox();containingBox.stopSpinner();$("#employer_plan_search_results").html(data.employer_plan_search_results).show();$.fancybox.update();showSearchResultsCallback=function(data){return _this._showSearchResults(data)};updateEmployerPlanCallback=function(data,afterUpdateCallback){return _this._updateEmployerPlan(data,afterUpdateCallback)};$("#employer_plan_search_results dl dt a").click(function(event){var searchResultLink;event.preventDefault();searchResultLink=$(this);return updateEmployerPlanCallback({plan_container:searchResultLink.data("container"),plan_id:searchResultLink.data("id")},function(){return $.fancybox.close()})});$("#employer_plan_search_results .pagination a").click(function(event){var url;event.preventDefault();url=$(this).attr("href");containingBox.waitSpinner();return $.get(url,showSearchResultsCallback,"json")});return $("#employer_plan_support_request_link").click(function(event){event.preventDefault();return updateEmployerPlanCallback({account_type:"401(k)"},function(){return $("#general-feedback-box-trigger").click()})})};UpdateEmployerPlan.prototype._updateEmployerPlan=function(planData,afterUpdateCallback){var containingBox,_this=this;containingBox=this.constructor.getContainingBox();containingBox.waitSpinner();return $.ajax({url:this.updateEmployerPlanPath,data:planData,type:"PUT",dataType:"json",success:function(data){if(data.success){if(_this.accountEntry instanceof Accounts.AccountEntry){_this.accountEntry.updateAccountType(data);_this.accountEntry.updateDisplay(data)}containingBox.stopSpinner();if(typeof afterUpdateCallback==="function"){return afterUpdateCallback()}}}})};return UpdateEmployerPlan})();$(function(){return Accounts.UpdateEmployerPlan.initialize()})}).call(this);function getAccountRow(accountId){return getEntryRow("account",accountId)}function getAccountElement(accountId,elementName){return getEntryElement("account",accountId,elementName)}function updateAccountNetAssets(accountId,change){var netAssetsCell=getAccountElement(accountId,"net_assets");var newNetAssets=$.parseNumber(netAssetsCell.text(),netAssetsFormat)+change;netAssetsCell.text($.formatNumber(newNetAssets,netAssetsFormat));updateManualInstitutionNetAssets(change)}function getAddAccountElement(elementName){return $(["#add_account",elementName].join("_"))}function showAddAccountErrorMessage(errorMessage){getAddAccountElement("error_message").text(errorMessage).show()}function hideAddAccountErrorMessage(){getAddAccountElement("error_message").text("").hide()}function showAddAccountPane(){$("#add_account").slideUp();getAddAccountElement("pane").slideDown();return false}function hideAddAccountPane(){hideAddAccountErrorMessage();getAddAccountElement("pane").slideUp();$("#add_account").slideDown();return false}function enableAddAccountSubmit(){getAddAccountElement("submit").css("display","inline");getAddAccountElement("cancel").css("display","inline");getAddAccountElement("submit_status").empty()}function disableAddAccountSubmit(){getAddAccountElement("submit").css("display","none");getAddAccountElement("cancel").css("display","none");getAddAccountElement("submit_status").html('<img src="/images/icons/wait_loader_15.gif" alt="'+financialStrings.adding+'" title="'+financialStrings.adding+'" height="15" width="15">')}function initializeAddAccount(){$("#account_name").enableInputHint();getAddAccountElement("link").click(showAddAccountPane);getAddAccountElement("cancel").click(hideAddAccountPane);getAddAccountElement("submit").click(function(){getAddAccountElement("form").submit();return false});getAddAccountElement("form").submit(function(){if(!$.trim($("#account_name",this).val())){showAddAccountErrorMessage(financialStrings.noAccountName)}else{hideAddAccountErrorMessage();disableAddAccountSubmit();$(this).submitUpdateWithAjax(function(data){enableAddAccountSubmit();if(data.account){hideAddAccountPane();$("#account_name").val("");$("#manual_accounts_table > tbody").append(data.account);bindTooltipElements()}else{if(data.error_message){showAddAccountErrorMessage(data.error_message)}}},"json","POST")}return false})}(function(){var FeedbackBoxTrigger,FeedbackForm;FeedbackForm=(function(){function FeedbackForm(_form){this._form=_form;this._textFields=this._form.find("input[type=text], textarea");this._submitButton=this._form.find("input[type=submit]");this._result=this._form.find(".feedback-submission-result");this._confirmationMessage=this._result.data("confirmation");this._bindFormEvents()}FeedbackForm.prototype._bindFormEvents=function(){var _this=this;return this._form.submit(function(event){event.preventDefault();_this._form.submitUpdateWithAjax((function(data){if(data.result===true){_this._displayResult(_this._confirmationMessage,true);_this._form.stopSpinner();_this.clearForm();return _this.enableForm()}else{_this._displayResult(data.message,false);return _this.enableForm()}}),"json","POST");return _this._disableForm()})};FeedbackForm.prototype.enableForm=function(){this._form.stopSpinner();this._submitButton.removeAttr("disabled");return this._textFields.removeAttr("disabled")};FeedbackForm.prototype._disableForm=function(){this._form.waitSpinner();this._submitButton.attr("disabled","disabled");return this._textFields.attr("disabled","disabled")};FeedbackForm.prototype.clearForm=function(){return this._textFields.val("")};FeedbackForm.prototype.clearResult=function(){return this._result.empty()};FeedbackForm.prototype._displayResult=function(message,success){var message_html;message_html=$("<p/>").text(message);if(success){message_html.addClass("confirmation-message")}else{message_html.addClass("action-message")}return this._result.html(message_html)};return FeedbackForm})();FeedbackBoxTrigger=(function(){function FeedbackBoxTrigger(_feedbackBoxTrigger){this._feedbackBoxTrigger=_feedbackBoxTrigger;this._feedbackBox=$(this._feedbackBoxTrigger.attr("href"));this._form=this._feedbackBox.find("form").initializeFeedbackForm();this._cancel=this._feedbackBox.find(".cancel");this._initializeBox();this._bindCancelEvents()}FeedbackBoxTrigger.prototype._initializeBox=function(){var _this=this;return this._feedbackBoxTrigger.fancybox({beforeShow:function(){_this._form.clearForm();_this._form.clearResult();return _this._form.enableForm()}})};FeedbackBoxTrigger.prototype._bindCancelEvents=function(){var _this=this;return this._cancel.click(function(event){event.preventDefault();return parent.$.fancybox.close()})};return FeedbackBoxTrigger})();$(function(){$.fn.initializeFeedbackForm=function(){return new FeedbackForm(this)};$.fn.initializeFeedbackBoxTrigger=function(){return new FeedbackBoxTrigger(this)};$(".feedback-box-trigger").each(function(){return $(this).initializeFeedbackBoxTrigger()});$(".consultation-request-form").each(function(){return $(this).initializeFeedbackForm()});$("#feedback-button").click(function(event){event.preventDefault();return $("#general-feedback-box-trigger").click()});$(document).on("click",".tell-us-link",function(event){var target;event.preventDefault();target=$(this).attr("href");return $(target).click()})})}).call(this);function pollForStatus(url,settings){var periodicUpdaterSettings=jQuery.extend(true,{minTimeout:2000,maxTimeout:4000,maxCalls:100,type:"json",},settings);periodicUpdaterSettings.success=function(remoteData,success,xhr,handle){if(remoteData.is_updating==false){pu.stop()}if(settings.success&&remoteData.is_updating==false){settings.success(remoteData,success,xhr,handle)}};var pu=$.PeriodicalUpdater(url,periodicUpdaterSettings)}function loadGlidePathChart(){var chart=$(".glide-path-chart");if(chart.size()){var id=chart.attr("id");var strings={toleranceLabel:chart.attr("data-tolerance-label"),xAxisLabel:chart.attr("data-x-axis-label"),yAxisLabel:chart.attr("data-y-axis-label"),hoverSeparator:chart.attr("data-hover-separator"),stocks:chart.attr("data-stocks"),bonds:chart.attr("data-bonds")};var dataPercentages=$.parseJSON(chart.attr("data-percentages"));var ages=$.parseJSON(chart.attr("data-ages"));var colors=$.parseJSON(chart.attr("data-colors"));FGlidePathChart(id,strings,dataPercentages,ages,colors)}}function initializeRiskToleranceSurvey(){var surveySubmittedAssessment=null;$("#risk_survey_submit").click(function(){if(validateRiskSurvey()){$("#risk_assessment_survey_results").html("").addClass("loading");$("#risk_survey_submit").hide();$("#risk_assessment_form").submitUpdateWithAjax(function(data){$("#risk_assessment_survey_results").removeClass("loading");if(data.success){$("#risk_survey_submit").hide();$("#risk_assessment_ok_button").show();$("#risk_assessment_survey_results").html(data.result);surveySubmittedAssessment=data.assessment}else{$("#risk_survey_submit").show();$("#risk_assessment_survey_results").html(riskProfileStrings.riskProfileError)}},"json","put")}else{$("#risk_assessment_survey_results").html(riskProfileStrings.surveyIncompleteMessage)}return false});$("#risk_assessment_ok_button").click(function(){parent.$.fancybox.close();return false});$("#risk_assessment_ok_button, a#fancybox-close").click(function(){if(surveySubmittedAssessment){$("#"+surveySubmittedAssessment).click();$("#risk_assessment_form input:checked").attr("checked",false);$("#risk_survey_submit").show();$("#risk_assessment_ok_button").hide();$("#risk_assessment_survey_results").html("");surveySubmittedAssessment=null}})}function validateRiskSurvey(){var riskSurveyValid=true;$("#risk_assessment_form .risk-survey-question-block").each(function(index,element){if($(element).find("input:checked").length==0){riskSurveyValid=false}});return riskSurveyValid}function enableWorkplacePlanUpdateLink(linkSelector,params){$(linkSelector).click(function(){$.ajax({url:$(this).attr("href"),dataType:"json",type:"put",data:params,success:function(data){$("#goal-tax-efficiency-header").html(data.tax_efficiency_header);$("#goal-tax-efficiency-slideout").html(data.tax_efficiency_slideout);bindTooltipElements();bindInlineFancyboxElements()}});return false})}function getEntryRow(entryType,entryId){return $("tr#"+[entryType,entryId].join("_"))}function getEntryRowClass(entryType,entryId){return $("tr."+[entryType,entryId,"row"].join("_"))}function getEntrySelects(entryType,entryId){return getEntryRow(entryType,entryId).find("select")}function disableEntrySelects(entryType,entryId){getEntrySelects(entryType,entryId).attr("disabled","disabled")}function enableEntrySelects(entryType,entryId){getEntrySelects(entryType,entryId).removeAttr("disabled")}function getEntryElement(entryType,entryId,elementName){return $("#"+[entryType,entryId,elementName].join("_"))}function setElementImageDescription(element,description){var elementImage=element.first("img");elementImage.attr("alt",description);elementImage.attr("title",description)}function hideEntryIcons(entryType,entryId){var iconElementNames=["controls","loader","success","error"];for(var index=0;index<iconElementNames.length;index++){getEntryElement(entryType,entryId,iconElementNames[index]).hide()}}function showEntryControls(entryType,entryId){var entryControls=getEntryElement(entryType,entryId,"controls");if(!getEntryElement(entryType,entryId,"loader").is(":visible")&&!getEntryElement(entryType,entryId,"success").is(":visible")&&!getEntryElement(entryType,entryId,"error").is(":visible")){entryControls.show()}}function hideEntryControls(entryType,entryId){var entryControls=getEntryElement(entryType,entryId,"controls");entryControls.hide()}function enableEntryControls(entryType,entryId){var entryRow=getEntryRow(entryType,entryId);entryRow.hover(function(){showEntryControls(entryType,entryId)},function(){hideEntryControls(entryType,entryId)})}function showEntryLoader(entryType,entryId,description){var entryLoader=getEntryElement(entryType,entryId,"loader");setElementImageDescription(entryLoader,description);disableEntrySelects(entryType,entryId);hideEntryIcons(entryType,entryId);entryLoader.show()}function hideEntryLoader(entryType,entryId){getEntryElement(entryType,entryId,"loader").hide();enableEntrySelects(entryType,entryId)}function showEntrySuccess(entryType,entryId,description){var entrySuccess=getEntryElement(entryType,entryId,"success");setElementImageDescription(entrySuccess,description);hideEntryIcons(entryType,entryId);entrySuccess.show().delay(2000).fadeOut("slow")}function showEntryError(entryType,entryId){var entryError=getEntryElement(entryType,entryId,"error");hideEntryIcons(entryType,entryId);entryError.show();$("body").bind("click.showEntryError",function(){entryError.fadeOut("slow");$(this).unbind("click.showEntryError");entryError.unbind("click.showEntryError")});entryError.bind("click.showEntryError",function(event){event.stopPropagation()})}function submitEntryUpdate(entryType,entryId,formFieldSnapshots,onSuccess,onFailure){var entryForm=getEntryElement(entryType,entryId,"form");entryForm.submitUpdateWithAjax(function(data){hideEntryLoader(entryType,entryId);if(data.success){showEntrySuccess(entryType,entryId,financialStrings.saved);if(formFieldSnapshots instanceof FormFieldSnapshots){formFieldSnapshots.refresh()}if(typeof onSuccess=="function"){onSuccess(data)}}else{showEntryError(entryType,entryId);if(formFieldSnapshots instanceof FormFieldSnapshots){formFieldSnapshots.restore()}if(typeof onFailure=="function"){onFailure(data)}}},"json","PUT");showEntryLoader(entryType,entryId,financialStrings.saving)}function enableRemoveEntryLink(entryType,entryId,confirmPrompt,onSuccess,onFailure){var removeEntryLink=getEntryElement(entryType,entryId,"remove");var entryRows=getEntryRowClass(entryType,entryId);removeEntryLink.click(function(){if(confirmPrompt==null||confirm(confirmPrompt)){showEntryLoader(entryType,entryId,financialStrings.removing);$.ajax({url:$(this).attr("href"),dataType:"json",type:"delete",success:function(data){hideEntryLoader(entryType,entryId);if(data.success){entryRows.fadeOut(100,function(){$(this).remove()});if(typeof onSuccess=="function"){onSuccess(data)}updateAssetsDisplay(data.judgement_header,data.total_assets,moneyFormat)}else{showEntryError(entryType,entryId);if(typeof onFailure=="function"){onFailure(data)}}}})}return false})}var showAddManualLink=function(){$("#add_manual").show()};var hideAddManualLink=function(){$("#add_manual").hide()};var getInstitutionElement=function(institutionId){return $("#institution_"+institutionId)};var enableRemoveInstitutionLink=function(institutionId){$("a#remove_institution_"+institutionId).click(function(){if(confirm(institutionStrings.confirmRemoveInstitution)){var institutionElement=getInstitutionElement(institutionId);institutionElement.waitSpinner();$.ajax({url:$(this).attr("href"),dataType:"json",type:"delete",success:function(data){if(data.goal_net_assets){updateAssetsDisplay(data.goal_net_assets[institutionStrings.goalId],data.total_assets,moneyFormat)}}});institutionElement.fadeOut("fast",function(){$(this).remove()})}return false})};var enableRetryInstitutionLink=function(institutionId){$("#retry_institution_"+institutionId).click(function(){$.ajax({url:$(this).attr("href"),dataType:"json",type:"POST",success:function(data){showAddedInstitution(data,institutionId)}});return false})};var brokerageLoginSingleFieldChildrenSelector="input[type='text'], input[type='password'], select";var brokerageLoginMultiFixedFieldChildrenSelector="input[type='text'], input[type='password']";var brokerageLoginSingleFieldSpecified=function(singleField){return(""!=singleField.children(brokerageLoginSingleFieldChildrenSelector)[0].value)};var brokerageLoginMultiFixedFieldSpecified=function(multiFixedField){var inputFields=multiFixedField.children(brokerageLoginMultiFixedFieldChildrenSelector);for(var i=0;i<inputFields.length;i++){if(""==inputFields[i].value){return false}}return true};var brokerageLoginChoiceFieldSpecified=function(choiceField){var loginFields=brokerageLoginFields(choiceField);for(var i=0;i<loginFields.length;i++){if(brokerageLoginFieldSpecified($(loginFields[i]))){return true}}return false};var brokerageLoginFieldSpecified=function(field){if(field.hasClass("single-field")){return brokerageLoginSingleFieldSpecified(field)}else{if(field.hasClass("multi-fixed-field")){return brokerageLoginMultiFixedFieldSpecified(field)}else{if(field.hasClass("choice-fields")){return brokerageLoginChoiceFieldSpecified(field)}else{return false}}}};var brokerageLoginFields=function(fieldsContainer){return fieldsContainer.children(".single-field, .multi-fixed-field, .choice-fields")};var brokerageLoginFieldsSpecified=function(fieldsContainer){var loginFields=brokerageLoginFields(fieldsContainer);for(var i=0;i<loginFields.length;i++){if(!brokerageLoginFieldSpecified($(loginFields[i]))){return false}}return true};var enableBrokerageLoginMultiFixedFields=function(formSelector){$(formSelector+" .multi-fixed-field").each(function(){$(this).children(brokerageLoginMultiFixedFieldChildrenSelector).each(function(){var inputField=$(this);var maxLength=inputField.attr("maxLength");if(maxLength){var currentLength=this.value.length;inputField.keyup(function(event){var newLength=this.value.length;if((newLength>currentLength)&&(newLength>=maxLength)){inputField.next(brokerageLoginMultiFixedFieldChildrenSelector).focus()}else{if((8==event.keyCode)&&(0==newLength)){inputField.prev(brokerageLoginMultiFixedFieldChildrenSelector).focus()}}currentLength=newLength})}})})};var enableInstitutionForm=function(institutionId,formSelector){var showInstitutionFormErrorMessage=function(message){$(formSelector+" .form-error").text(message).show()};var hideInstitutionFormErrorMessage=function(){$(formSelector+" .form-error").text("").hide()};$(formSelector+" .brokerage-login-links a").click(function(){$(formSelector).submit();return false});$(formSelector+" input").change(function(){hideInstitutionFormErrorMessage()});enableBrokerageLoginMultiFixedFields(formSelector);$(formSelector).submit(function(){if(!brokerageLoginFieldsSpecified($(formSelector+" .brokerage-login-fields"))){showInstitutionFormErrorMessage(institutionStrings.specifyRequired)}else{hideInstitutionFormErrorMessage();$(this).submitUpdateWithAjax(function(data){showAddedInstitution(data,institutionId)},"json",$(formSelector).attr("method"))}return false})};var showAddedInstitution=function(data,institutionId){getInstitutionElement(institutionId).replaceWith(data.institution);bindTooltipElements();updatePortfolioFeesWidget()};var enableUpdateInstitutionForm=function(institutionId){enableInstitutionForm(institutionId,"#update_credentials_form_"+institutionId)};var enableMfaResponseForm=function(institutionId){enableInstitutionForm(institutionId,"#mfa_response_form_"+institutionId)};var enableYodleeInstitutionUpdate=function(institutionId,currentProgress,updateUrl){var progressBar=$("#institution_"+institutionId+"_progress_bar");progressBar.progressbar({value:parseInt(currentProgress)});startInstitutionPeriodicUpdater(updateUrl,getInstitutionElement(institutionId),function(data){progressBar.progressbar({value:parseInt(data.refresh_progress)})})};var enableManualInstitutionUpdate=function(updateUrl){startInstitutionPeriodicUpdater(updateUrl,$("#manual_institution"),null)};var startInstitutionPeriodicUpdater=function(updateUrl,institutionElement,periodicUpdateTask){var updater=$.PeriodicalUpdater(updateUrl,{method:"get",data:"",minTimeout:2000,maxTimeout:4000,type:"json"},function(data){var status=isNaN(data.refresh_status)?null:parseInt(data.refresh_status);if(status==1){if(periodicUpdateTask){periodicUpdateTask(data)}}else{institutionElement.replaceWith(data.institution).fadeIn();bindTooltipElements();updatePortfolioFeesWidget();updater.stop()}})};var updateManualInstitutionNetAssets=function(change){var newNetAssets=$.parseNumber($("#manual_institution_net_assets").text(),netAssetsFormat)+change;$("#manual_institution_net_assets").text($.formatNumber(newNetAssets,netAssetsFormat))};var initializeAddInstitution=function(hasManual){var resetAddBrokeragePane=function(){$("#brokerage_search").hide();hideBrokerageSearchResults();hideBrokerageLogin()};var bindBrokerageLinks=function(selector){$(selector).click(function(){var url=$(this).attr("href");if(brokerageDataCache[url]){showBrokerageLogin(brokerageDataCache[url])}else{$("#add_brokerage_pane").waitSpinner();$.get(url,function(data){$("#add_brokerage_pane").stopSpinner();brokerageDataCache[url]=data;showBrokerageLogin(data)})}return false})};var showBrokerageSearchResults=function(data){$("#add_brokerage_pane").stopSpinner();$("#brokerage_search_results").html(data.brokerage_search_results).show();bindBrokerageLinks("#brokerage_search_results dl dt a");$("#brokerage_search_results .pagination a").click(function(){var url=$(this).attr("href");if(brokerageDataCache[url]){showBrokerageSearchResults(brokerageDataCache[url])}else{$("#add_brokerage_pane").waitSpinner();$.get(url,function(data){brokerageDataCache[url]=data;showBrokerageSearchResults(data)})}return false})};var hideBrokerageSearchResults=function(){$("#brokerage_search_input").val("");$("#brokerage_search_results").html("").hide()};var showBrokerageFormLinks=function(loginLink,emailLink){$("#brokerage_login_submit").toggle(loginLink);$("#brokerage_alert_submit").toggle(emailLink);$("#add_brokerage_form .brokerage-login-links").show()};var showBrokerageLogin=function(brokerageData){var loginFields=$("#brokerage_login_fields");$("#brokerage_info").html(brokerageData.brokerage_info);loginFields.html(brokerageData.brokerage_login);showPlaceholders();$("#add_brokerage_form #institution_brokerage").val(brokerageData.brokerage_id);if(brokerageData.supported){enableBrokerageLoginMultiFixedFields("#add_brokerage_form");showBrokerageFormLinks(true,false);$("#add_brokerage_form input").change(function(){hideAddBrokerageErrorMessage()})}else{showBrokerageFormLinks(false,!brokerageData.already_requested)}$("#brokerage_select").slideUp();$("#add_brokerage_form").slideDown()};var hideBrokerageLogin=function(){$("#add_brokerage_form .brokerage-login-links").hide();$("#add_brokerage_form #institution_brokerage").val("");$("#brokerage_select").slideDown();$("#add_brokerage_form").slideUp();hideAddBrokerageErrorMessage()};var showAddBrokerageErrorMessage=function(message){$("#add_brokerage_form .form-error").text(message).show()};var hideAddBrokerageErrorMessage=function(){$("#add_brokerage_form .form-error").text("").hide()};if(hasManual){hideAddManualLink()}$("#add_manual_link").click(function(){$("#add_manual").waitSpinner();$.ajax({url:$(this).attr("href"),data:{goal_id:institutionStrings.goalId},dataType:"json",type:"post",success:function(data){$("#add_manual").stopSpinner();hideAddManualLink();$("#manual_institution_box").hide();$("#manual_institution_box").html(data.institution);bindTooltipElements();$("#manual_institution_box").slideDown()}});return false});$("#brokerage_search").submit(function(){$("#add_brokerage_pane").waitSpinner();$(this).submitUpdateWithAjax(showBrokerageSearchResults,"json","GET");return false});$("#brokerage_login_submit").click(function(){$("#add_brokerage_form").submit();return false});$("#brokerage_login_cancel").click(function(){hideBrokerageLogin();return false});$("#add_brokerage_form").submit(function(){var loginFields=$("#brokerage_login_fields div");if(loginFields.hasClass("unsupported")){var form=$(this);form.waitSpinner();$.ajax({url:form.data("brokerage-alert"),data:form.serialize(),dataType:"json",type:"post",success:function(data){form.stopSpinner();$("#brokerage_info").html(data.brokerage_info);showBrokerageFormLinks(false,false);brokerageDataCache[data.url]=data}})}else{if(!brokerageLoginFieldsSpecified(loginFields)){showAddBrokerageErrorMessage(institutionStrings.specifyRequired)}else{hideAddBrokerageErrorMessage();$(this).submitUpdateWithAjax(function(data){$("#institutions_box").append(data.institution);bindTooltipElements();$("#institutions_box").find(".institution_box:last").slideDown();resetAddBrokeragePane()},"json","POST")}}return false});bindBrokerageLinks(".brokerage-shortcut-link");$("#brokerage_search_toggle").click(function(event){event.preventDefault();$("#brokerage_search").slideToggle()})};var enableRemoveManualInstitutionLink=function(){$("a#remove_manual_link").click(function(){if(confirm(institutionStrings.confirmRemoveInstitution)){$("#manual_institution").waitSpinner();$.ajax({url:$(this).attr("href"),dataType:"json",type:"delete",success:function(data){if(data.goal_net_assets){updateAssetsDisplay(data.goal_net_assets[institutionStrings.goalId],data.total_assets,moneyFormat)}}});$("#manual_institution").fadeOut("fast",function(){$(this).remove()});showAddManualLink()}return false})};var updateAssetsDisplay=function(headerAssets,totalAssets,moneyFormat){if(headerAssets||headerAssets==0){$(".goal-total-assets").html($.formatNumber(parseFloat(headerAssets),moneyFormat)).effect("highlight",{color:"#558ED5"},300)}if(totalAssets||totalAssets==0){$(".user-total-assets").html($.formatNumber(parseFloat(totalAssets),moneyFormat)).effect("highlight",{color:"#558ED5"},300)}updatePortfolioFeesWidget()};var updatePortfolioFeesWidget=function(){if($("#financial_profile_portfolio_fees_widget").length>0){$("#widget-wait-spinner").show().waitSpinner();$.ajax({url:$("#financial_profile_portfolio_fees_widget").attr("data-path"),dataType:"json",type:"post",success:function(data){$("#financial_profile_portfolio_fees_widget").html(data.portfolio_fees_widget);bindTooltipElements()}})}};(function(){var PerformanceRangeChart;PerformanceRangeChart=(function(){function PerformanceRangeChart(container){this.container=container;this.userPerformanceMedian=this.container.data("user-median");this.targetPerformanceMedian=this.container.data("target-median");this.userPerformanceRanges=this.container.data("user-ranges");this.targetPerformanceRanges=this.container.data("target-ranges");this.load_chart()}PerformanceRangeChart.prototype.load_chart=function(){this.options={chart:{renderTo:this.container[0],style:{fontFamily:"'Helvetica Neue', Helvetica, Arial, Sans-Serif",fontSize:"12px"}},title:{text:"Portfolio Performance Comparison"},xAxis:{type:"linear",title:{text:"Year"},labels:{formatter:function(){return this.value}}},yAxis:{title:{text:"Portfolio Value"}},tooltip:{crosshairs:true,shared:true,valuePrefix:"$"},legend:{},series:[{name:"Your Portfolio",data:this.userPerformanceMedian,zIndex:2,marker:{fillColor:"blue",lineWidth:0,lineColor:Highcharts.getOptions().colors[0],symbol:"diamond"}},{name:"Your Portfolio Range",data:this.userPerformanceRanges,zIndex:0,linkedTo:":previous",type:"arearange",color:Highcharts.getOptions().colors[0]},{name:"Target Portfolio",data:this.targetPerformanceMedian,zIndex:2,marker:{fillColor:"green",lineWidth:0,lineColor:Highcharts.getOptions().colors[2],symbol:"triangle"}},{name:"Target Portfolio Range",data:this.targetPerformanceRanges,zIndex:1,linkedTo:":previous",type:"arearange",color:Highcharts.getOptions().colors[2]}]};return new Highcharts.Chart(this.options)};return PerformanceRangeChart})();$(function(){var elem,_i,_len,_ref,_results;_ref=$(".performance_chart");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];_results.push(new PerformanceRangeChart($(elem)))}return _results})}).call(this);function getPositionRow(positionId){return getEntryRow("position",positionId)}function getPositionElement(positionId,elementName){return getEntryElement("position",positionId,elementName)}function enablePositionControls(positionId){enableEntryControls("position",positionId)}function enableRemovePositionLink(accountId,positionId,positionType){enableRemoveEntryLink("position",positionId,null,function(data){if(positionType=="cash"){getAddPositionElement(accountId,positionType,"link").css("display","inline")}updateAccountNetAssets(accountId,data.net_assets_change)},null)}function getAddPositionElement(accountId,positionType,elementName){return $(["#account",accountId,"add",positionType,"position",elementName].join("_"))}function getAddPositionLinksElement(accountId){return $(["#account",accountId,"add_position_links"].join("_"))}function showAddPositionErrorMessage(accountId,positionType,errorMessage){getAddPositionElement(accountId,positionType,"error_message").text(errorMessage).show()}function hideAddPositionErrorMessage(accountId,positionType){getAddPositionElement(accountId,positionType,"error_message").text("").hide()}function showAddPositionPane(accountId,positionType){getAddPositionLinksElement(accountId).slideUp();getAddPositionElement(accountId,positionType,"pane").slideDown()}function hideAddAccountPositionPane(accountId,positionType){hideAddPositionErrorMessage(accountId,positionType);getAddPositionElement(accountId,positionType,"pane").slideUp();getAddPositionLinksElement(accountId).slideDown()}function enableAddPositionSubmit(accountId,positionType){getAddPositionElement(accountId,positionType,"submit").css("display","inline");getAddPositionElement(accountId,positionType,"cancel").css("display","inline");getAddPositionElement(accountId,positionType,"submit_status").empty()}function disableAddPositionSubmit(accountId,positionType,description){getAddPositionElement(accountId,positionType,"submit").css("display","none");getAddPositionElement(accountId,positionType,"cancel").css("display","none");getAddPositionElement(accountId,positionType,"submit_status").html('<img src="/images/icons/wait_loader_15.gif" alt="'+description+'" title="'+description+'" height="15" width="15">')}function enableAddPositionLookup(accountId,positionType){var symbol=getAddPositionElement(accountId,positionType,"symbol");var displayName=getAddPositionElement(accountId,positionType,"display_name");var quantity=getAddPositionElement(accountId,positionType,"quantity");var amountInputContainer=getAddPositionElement(accountId,positionType,"amount_input_container");var amountDisplay=getAddPositionElement(accountId,positionType,"amount_display");var price=getAddPositionElement(accountId,positionType,"price");symbol.change(function(){displayName.text(financialStrings.retrieving);disableAddPositionSubmit(accountId,positionType,financialStrings.retrieving);$.ajax({url:financialStrings.securitiesLookupPath,data:"symbol="+symbol.val(),dataType:"json",type:"get",success:function(data){if(data.symbol){symbol.val(data.symbol)}if(data.name){displayName.text(data.name)}else{if($.trim(symbol.val()).length>0){displayName.text(financialStrings.unrecognizedPosition)}else{displayName.html("&nbsp;")}}if(data.price){price.val(data.price);updateAddPositionAmountDisplay(price,quantity,amountDisplay,amountInputContainer)}else{amountDisplay.hide();if($.trim(symbol.val()).length>0){amountInputContainer.show()}else{amountInputContainer.hide()}price.val("")}enableAddPositionSubmit(accountId,positionType)}})});quantity.keyup(function(){if(amountDisplay.is(":visible")){updateAddPositionAmountDisplay(price,quantity,amountDisplay,amountInputContainer)}})}function enableAddPositionLinks(accountId,positionType){getAddPositionElement(accountId,positionType,"link").click(function(){showAddPositionPane(accountId,positionType);$("#add_account").slideUp();return false});getAddPositionElement(accountId,positionType,"cancel").click(function(){hideAddAccountPositionPane(accountId,positionType);$("#add_account").slideDown();return false});getAddPositionElement(accountId,positionType,"submit").click(function(){getAddPositionElement(accountId,positionType,"form").submit();return false})}function enableAddPositionForm(accountId,positionType){getAddPositionElement(accountId,positionType,"form").submit(function(){var symbol=getAddPositionElement(accountId,positionType,"symbol");var displayName=getAddPositionElement(accountId,positionType,"display_name");var planOptionId=getAddPositionElement(accountId,positionType,"plan_option_id");var quantity=getAddPositionElement(accountId,positionType,"quantity");var amount=getAddPositionElement(accountId,positionType,"amount");var amountInputContainer=getAddPositionElement(accountId,positionType,"amount_input_container");var amountDisplay=getAddPositionElement(accountId,positionType,"amount_display");var price=getAddPositionElement(accountId,positionType,"price");if((symbol.length!=0)&&!$.trim(symbol.val())){showAddPositionErrorMessage(accountId,positionType,financialStrings.noSymbol)}else{if((planOptionId.length!=0)&&!planOptionId.val()){showAddPositionErrorMessage(accountId,positionType,financialStrings.noPlanOption)}else{if((quantity.length!=0)&&!$.trim(quantity.val())){showAddPositionErrorMessage(accountId,positionType,financialStrings.noQuantity)}else{if(!$.trim(amount.val())&&!price.val()){showAddPositionErrorMessage(accountId,positionType,financialStrings.noValue)}else{hideAddPositionErrorMessage(accountId,positionType);disableAddPositionSubmit(accountId,positionType,financialStrings.adding);$(this).submitUpdateWithAjax(function(data){if(data.position){if(positionType=="cash"){getAddPositionElement(accountId,positionType,"link").hide()}hideAddAccountPositionPane(accountId,positionType);showAddPositionInputHints(accountId,positionType);$("#add_account").slideDown();if(displayName.length!=0){displayName.html("&nbsp;")}if(planOptionId.length!=0){planOptionId.val("")}if(price.length!=0){price.val("");amountInputContainer.hide();amountDisplay.hide()}if(positionType=="cash"){$("#account_"+accountId+"_positions_table > tbody").prepend(data.position)}else{$("#account_"+accountId+"_positions_table > tbody").append(data.position)}updateAssetsDisplay(data.judgement_header,data.total_assets,moneyFormat);updateAccountNetAssets(accountId,data.net_assets_change)}else{if(data.error_message){showAddPositionErrorMessage(accountId,positionType,data.error_message)}}enableAddPositionSubmit(accountId,positionType)},"json","POST")}}}}return false})}function enableAddPositionInputHints(accountId,positionType){getAddPositionElement(accountId,positionType,"form").find("input").each(function(){if($(this).attr("type")=="text"){$(this).enableInputHint()}})}function showAddPositionInputHints(accountId,positionType){getAddPositionElement(accountId,positionType,"form").find("input").each(function(){if($(this).attr("type")=="text"){$(this).val("");$(this).blur()}})}function initializeAddPosition(accountId,positionType){enableAddPositionLinks(accountId,positionType);enableAddPositionInputHints(accountId,positionType);enableAddPositionForm(accountId,positionType)}function updateAddPositionAmountDisplay(priceValue,quantity,amountDisplay,amountInputContainer){var quantityValue=quantity.val();amountInputContainer.hide();amountDisplay.show();if(quantityValue==""){amountDisplay.text($.formatNumber(0,moneyFormat))}else{amountDisplay.text($.formatNumber((parseFloat(quantityValue)*parseFloat(priceValue.val())),moneyFormat))}}(function(){window.Social=(function(){function Social(){}Social.postPremiumSocialShare=function(network){var dialog;dialog=$("#premium_confirmation");return $.ajax({type:"post",url:dialog.data("premium_share_url"),data:{network:network,email:dialog.data("email")}})};Social.googleAnalyticsLabel=function(container){var signedIn,signedInLabel,valueProp;valueProp=container.data("value-prop");signedIn=container.data("user-signed-in");signedInLabel=signedIn?"signed in":"not signed in";return""+valueProp+" - "+signedInLabel};return Social})();$(function(){var elem,_i,_j,_k,_l,_len,_len1,_len2,_len3,_ref,_ref1,_ref2,_ref3;$(".fancybox-link").fancybox();$("[placeholder]").each(function(){return $(this).defaultValue()});twttr.ready(function(twttr){return twttr.events.bind("tweet",function(event){return Social.postPremiumSocialShare("twitter")})});$("#beta-invite-form").submit(function(event){var email,email_button,email_field,form;form=$(this);email_field=$("#premium-beta-request-email");email_button=$("#get-invited-button");email=email_field.val();email_button.val(form.data("submitting")).attr("disabled","disabled");$("#premium_confirmation").data("email",email);form.submitUpdateWithAjax((function(data){email_button.val(form.data("submit")).removeAttr("disabled");email_field.val("");if(data.result){if(_gaq){_gaq.push(["_trackEvent","Premium","Request",Social.googleAnalyticsLabel(form)])}$("#premium_confirmation_trigger").fancybox({hideOnOverlayClick:false,scrolling:false,centerOnScroll:true});return $("#premium_confirmation_trigger").click()}else{return $("#premium-request-response").html($("<p/>").text(data.message)).show()}}),"json","POST");return event.preventDefault()});$("#premium-beta-request-email").focus(function(){return $("#premium-request-response").fadeOut(100)});jQuery.fn.feesImpactChart=function(){var chartLabelPrefix,colorCurrent,colorRecommended,container,current,id,labelCurrent,labelRecommended,recommended;container=$(this);id=container.attr("id");current=container.data("current-fees");recommended=container.data("recommended-fees");labelCurrent=container.data("current-label");labelRecommended=container.data("recommended-label");chartLabelPrefix=container.data("chart-label-prefix");colorCurrent=container.data("current-color");colorRecommended=container.data("recommended-color");return FCostComparisonChart(id,current,recommended,labelCurrent,labelRecommended,colorCurrent,colorRecommended,chartLabelPrefix)};jQuery.fn.recordView=function(){if(_gaq){return _gaq.push(["_trackEvent","Premium","Display",Social.googleAnalyticsLabel($(this))])}};_ref=$("#beta-invite-form");for(_i=0,_len=_ref.length;_i<_len;_i++){elem=_ref[_i];$(elem).recordView()}_ref1=$("#fees-impact");for(_j=0,_len1=_ref1.length;_j<_len1;_j++){elem=_ref1[_j];$(elem).feesImpactChart()}_ref2=$("#fees-impact-details");for(_k=0,_len2=_ref2.length;_k<_len2;_k++){elem=_ref2[_k];$(elem).feesImpactChart()}_ref3=$(".carousel");for(_l=0,_len3=_ref3.length;_l<_len3;_l++){elem=_ref3[_l];$(elem).carousel()}})}).call(this);function linkedInHandler(event){Social.postPremiumSocialShare("linkedin")}(function(){var SelectToggle;SelectToggle=(function(){function SelectToggle(_selectToggle){this._selectToggle=_selectToggle;this._toggleControl=this._selectToggle.find(".select-toggle-control");this._toggleDisplay=this._selectToggle.find(".select-toggle-display");this._toggleDisplayPrefix=this._toggleDisplay.data("prefix");this._bindToggleEvents();this._updateDisplay(this._toggleResult())}SelectToggle.prototype._bindToggleEvents=function(){var _this=this;return this._toggleControl.change(function(){return _this._updateDisplay(_this._toggleResult())})};SelectToggle.prototype._toggleResult=function(){var toggleControlSelected;toggleControlSelected=this._toggleControl.find(":selected").val();if(toggleControlSelected===""){return"Not Yet Assigned"}else{return this._toggleDisplayPrefix+toggleControlSelected}};SelectToggle.prototype._updateDisplay=function(result){return this._toggleDisplay.text(result)};return SelectToggle})();$(function(){$.fn.initializeSelectToggle=function(){return new SelectToggle(this)};return $(".select-toggle").each(function(){return $(this).initializeSelectToggle()})})}).call(this);function setTransactionFrequency(value,element){var transactionUrl=element.attr("name");var transactionID=element.attr("data-transaction-id");$("#wait_"+transactionID).css("visibility","visible");$.ajax({url:transactionUrl,data:"transaction_id="+transactionID+"&frequency="+value,dataType:"json",type:"put",success:function(data){$("#contribution_chart_partial").html(data.contribution_chart);$("#contribution_assessment_partial").html(data.contribution_assessment);$("#wait_"+transactionID).css("visibility","hidden")}})}function setUserTransactionFrequency(value,element){var transactionUrl=element.attr("name");var transactionID=element.attr("name").split("/").reverse()[0];$("#wait_"+transactionID).css("visibility","visible");$.ajax({url:transactionUrl,data:"frequency="+value,dataType:"json",type:"put",success:function(data){$("#contribution_chart_partial").html(data.contribution_chart);$("#contribution_assessment_partial").html(data.contribution_assessment);$("#wait_"+transactionID).css("visibility","hidden")}})}function changePosition(option){$.ajax({url:userStrings.userFeeUrl,data:"option="+option,type:"GET",dataType:"json",success:function(data){$("#compare_header").html(data.compare_header);$("#cost_compare").html(data.cost_compare);$("#performance_compare").html(data.performance_compare);$("#holdings_compare").html(data.holdings_compare)}})}function editFieldCurrencyFormat(field,localizedField){var valueToSet=Math.round(localizedField.parseNumber(parseFormat,false));field.attr("value",valueToSet);localizedField.attr("value",$.formatNumber(valueToSet,displayFormat))}function initializeUserProfile(){$("#"+$("#user_risk_tolerance").val()+"-info").show();$("#user_risk_tolerance").change(function(){$("#"+$("#user_risk_tolerance").val()+"-info").show()});$("#user_annual_income").hide();$("#localized_annual_income_span").html(userProfileStrings.localizedAnnualIncomeSpan);$("#user_self_reported_assets").hide();$("#localized_self_reported_assets_span").html(userProfileStrings.localizedSelfReportedAssetsSpan);$("#desired_retirement_age_edit").hide();$("#desired_retirement_age_text").html(userProfileStrings.userDesiredRetirementAge);$("#desired_retirement_income_edit").hide();$("#desired_retirement_income_text").html(userProfileStrings.userDesiredRetirementIncome);$("#localized_self_reported_assets").change(function(){editFieldCurrencyFormat($("#user_self_reported_assets"),$(this));$("#user_self_reported_assets").change()});$("#localized_annual_income").change(function(){editFieldCurrencyFormat($("#user_annual_income"),$(this));var annualIncome=Math.round($(this).parseNumber(parseFormat,false));var desiredRetirementIncome=annualIncome*parseFloat(userProfileStrings.percentIncomeNeededDuringRetirement);setDesiredRetirementIncome(desiredRetirementIncome);$("#user_annual_income").change();$("#desired_retirement_income_part").animate({backgroundColor:"#F2F2F2"},"slow",function(){$("#desired_retirement_income_part").animate({backgroundColor:"#FFFFFF"},"slow")})});$("#edit_retirement_age").click(function(){$("#desired_retirement_age_text").hide();$("#desired_retirement_age_edit").show();return false});$("#edit_retirement_income").click(function(){if(!$("#desired_retirement_income_edit").is(":visible")){$("#user_desired_retirement_income").formatNumber(displayFormat);$("#desired_retirement_income_text").hide();$("#desired_retirement_income_edit").show()}return false});$("#user_desired_retirement_income").blur(function(){hideAndUpdateDesiredRetirementIncome()});$("#user_desired_retirement_age").blur(function(){hideAndUpdateDesiredRetirementAge()});$("body, :submit").click(function(){if($("#desired_retirement_age_edit").is(":visible")){hideAndUpdateDesiredRetirementAge()}if($("#desired_retirement_income_edit").is(":visible")){hideAndUpdateDesiredRetirementIncome()}});$("#user_desired_retirement_age").click(function(event){event.stopPropagation()});$("#user_desired_retirement_income").click(function(event){event.stopPropagation()})}function setDesiredRetirementIncome(desiredRetirementIncome){var localizedDesiredRetirementIncome=$.formatNumber(desiredRetirementIncome,displayFormat);$("#user_desired_retirement_income").attr("value",desiredRetirementIncome);$("#desired_retirement_income_text").html(localizedDesiredRetirementIncome)}function hideAndUpdateDesiredRetirementIncome(){var newDesiredRetirementIncome=Math.round($("#user_desired_retirement_income").parseNumber(parseFormat,false));setDesiredRetirementIncome(newDesiredRetirementIncome);$("#desired_retirement_income_text").show();$("#desired_retirement_income_edit").hide()}function hideAndUpdateDesiredRetirementAge(){$("#desired_retirement_age_text").html($("#user_desired_retirement_age").val());$("#desired_retirement_age_text").show();$("#desired_retirement_age_edit").hide()}function initializeEditProfile(){$("body").click(function(){$("#save_progress_saved").fadeOut("slow")});$("#personal_profile_form select, #personal_profile_form input").change(function(){updateSaveProgressLocation($(this));submitPersonalProfileForm(true)});$(window).unload(function(){submitPersonalProfileForm(false)})}function submitPersonalProfileForm(showStatus){if(profileStateOkay()){if(showStatus){$("#update_errors").html("");$("#save_progress_saved").hide();$("#save_progress_saving").show()}parseUserEditInputs();$("#personal_profile_form").submitUpdateWithAjax(function(data){if(data.status){$("#save_progress_saving").hide();$("#save_progress_saved").show();var currentAge=parseInt($("#user_age_started").val());$("#user_profile_age_started").html(data.age_started_select);if(parseInt($("#user_age_started option:last").val())<currentAge){$("#user_age_started").val($("#user_age_started option:last").val())}$("#user_age_started").change(function(){updateSaveProgressLocation($(this));submitPersonalProfileForm(true)})}else{$("#update_errors").html(data.errors);$(".save_status").hide()}},"json","PUT")}return false}function parseUserEditInputs(){$("#user_annual_income").val(Math.round($("#localized_annual_income").parseNumber(parseFormat,false)));$("#user_desired_retirement_income").val(Math.round($("#user_desired_retirement_income").parseNumber(parseFormat,false)));$("#user_desired_retirement_age").val(parseInt($.formatNumber($("#user_desired_retirement_age").val(),{format:"##"})))}function updateSaveProgressLocation(element){$(element).parents(".user-personalinfo-row").find(".progress-holder").append($("#save_progress"))}function initializePersonalProfile(){$(".user_birthday_row select").change(function(){if(profileStateOkay()){var age=getAge($("#user_date_of_birth_2i").val(),$("#user_date_of_birth_3i").val(),$("#user_date_of_birth_1i").val());var selectLimit;var currentSelectedValue=parseInt($("#user_age_started").val());while((selectLimit=parseInt($("#user_age_started option:last").val()))!=age){if(selectLimit<age){$("#user_age_started").append(new Option(selectLimit+1,selectLimit+1))}else{$("#user_age_started option:last").remove()}}if(selectLimit<=currentSelectedValue){$("#user_age_started").val($("#user_age_started option:last").val())}}});$(window).unload(function(){$("#personal_profile_form").submitUpdateWithAjax(function(){},"json","post")})}function getAge(month,day,year){var birthday=new Date(month+"/"+day+"/"+year);var now=new Date();age=now.getFullYear()-birthday.getFullYear();if(now.getMonth()>birthday.getMonth()||(now.getMonth()==birthday.getMonth()&&now.getDate()>=birthday.getDate())){return age}else{return age-1}}function profileStateOkay(){var profileStateOkay=true;$("#personal_profile_form select").each(function(index,element){if($(element).val().length==0){profileStateOkay=false}});return profileStateOkay}(function(c){c.fn.extend({defaultValue:function(e){if("placeholder" in document.createElement("input")){return !1}return this.each(function(){if(c(this).data("defaultValued")){return !1}var a=c(this),h=a.attr("placeholder"),f={input:a};a.data("defaultValued",!0);var d=function(){var b;if(a.context.nodeName.toLowerCase()=="input"){b=c("<input />").attr({type:"text"})}else{if(a.context.nodeName.toLowerCase()=="textarea"){b=c("<textarea />")}else{throw"DefaultValue only works with input and textareas"}}b.attr({value:h,"class":a.attr("class")+" empty",size:a.attr("size"),style:a.attr("style"),tabindex:a.attr("tabindex"),rows:a.attr("rows"),cols:a.attr("cols"),name:"defaultvalue-clone-"+((1+Math.random())*65536|0).toString(16).substring(1)});b.focus(function(){b.hide();a.show();setTimeout(function(){a.focus()},1)});return b}();f.clone=d;d.insertAfter(a);var g=function(){a.val().length<=0?(d.show(),a.hide()):(d.hide(),a.show().trigger("click"))};a.bind("blur",g);g();e&&e(f)})}})})(jQuery);(function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function w(g,h,i){if(!p&&o){p=!0,b.animationStart(n+1);switch(g){case"next":l=n,k=n+1,k=e===k?0:k,r=f*2,g=-f*2,n=k;break;case"prev":l=n,k=n-1,k=k===-1?e-1:k,r=0,g=0,n=k;break;case"pagination":k=parseInt(i,10),l=a("."+b.paginationClass+" li."+b.currentClass+" a",c).attr("href").match("[^#/]+$"),k>l?(r=f*2,g=-f*2):(r=0,g=0),n=k}h==="fade"?b.crossfade?d.children(":eq("+k+")",c).css({zIndex:10}).fadeIn(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1)}):d.children(":eq("+l+")",c).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing)}):d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+k+")").css({left:r,display:"block"}),b.autoHeight?d.animate({left:g,height:d.children(":eq("+k+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1}):d.animate({left:g},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1})),b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,c).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+k+")",c).addClass(b.currentClass))}}function x(){clearInterval(c.data("interval"))}function y(){b.pause?(clearTimeout(c.data("pause")),clearInterval(c.data("interval")),u=setTimeout(function(){clearTimeout(c.data("pause")),v=setInterval(function(){w("next",i)},b.play),c.data("interval",v)},b.pause),c.data("pause",u)):x()}a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var c=a(this),d=a(".slides_control",c),e=d.children().size(),f=d.children().outerWidth(),g=d.children().outerHeight(),h=b.start-1,i=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],j=b.effect.indexOf(",")<0?i:b.effect.replace(" ","").split(",")[1],k=0,l=0,m=0,n=0,o,p,q,r,s,t,u,v;if(e<2){return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1}if(e<2){return}h<0&&(h=0),h>e&&(h=e-1),b.start&&(n=h),b.randomize&&d.randomize(),a("."+b.container,c).css({overflow:"hidden",position:"relative"}),d.children().css({position:"absolute",top:0,left:d.children().outerWidth(),zIndex:0,display:"none"}),d.css({position:"relative",width:f*3,height:g,left:-f}),a("."+b.container,c).css({display:"block"}),b.autoHeight&&(d.children().css({height:"auto"}),d.animate({height:d.children(":eq("+h+")").outerHeight()},b.autoHeightSpeed));if(b.preload&&d.find("img:eq("+h+")").length){a("."+b.container,c).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var z=d.find("img:eq("+h+")").attr("src")+"?"+(new Date).getTime();a("img",c).parent().attr("class")!="slides_control"?t=d.children(":eq(0)")[0].tagName.toLowerCase():t=d.find("img:eq("+h+")"),d.find("img:eq("+h+")").attr("src",z).load(function(){d.find(t+":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5}),a("."+b.container,c).css({background:""}),o=!0,b.slidesLoaded()})})}else{d.children(":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()})}b.bigTarget&&(d.children().css({cursor:"pointer"}),d.children().click(function(){return w("next",i),!1})),b.hoverPause&&b.play&&(d.bind("mouseover",function(){x()}),d.bind("mouseleave",function(){y()})),b.generateNextPrev&&(a("."+b.container,c).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,c).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,c).click(function(a){a.preventDefault(),b.play&&y(),w("next",i)}),a("."+b.prev,c).click(function(a){a.preventDefault(),b.play&&y(),w("prev",i)}),b.generatePagination?(b.prependPagination?c.prepend("<ul class="+b.paginationClass+"></ul>"):c.append("<ul class="+b.paginationClass+"></ul>"),d.children().each(function(){a("."+b.paginationClass,c).append('<li><a href="#'+m+'">'+(m+1)+"</a></li>"),m++})):a("."+b.paginationClass+" li a",c).each(function(){a(this).attr("href","#"+m),m++}),a("."+b.paginationClass+" li:eq("+h+")",c).addClass(b.currentClass),a("."+b.paginationClass+" li a",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$"),n!=q&&w("pagination",j,q),!1}),a("a.link",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$")-1,n!=q&&w("pagination",j,q),!1}),b.play&&(v=setInterval(function(){w("next",i)},b.play),c.data("interval",v))})},a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},a.fn.randomize=function(b){function c(){return Math.round(Math.random())-0.5}return a(this).each(function(){var d=a(this),e=d.children(),f=e.length;if(f>1){e.hide();var g=[];for(i=0;i<f;i++){g[g.length]=i}g=g.sort(c),a.each(g,function(a,c){var f=e.eq(c),g=f.clone(!0);g.show().appendTo(d),b!==undefined&&b(f,g),f.remove()})}})}})(jQuery);(function($){$.scrollFollow=function(box,options){box=$(box);var position=box.css("position");function ani(){box.queue([]);var viewportHeight=parseInt($(window).height());var pageScroll=parseInt($(document).scrollTop());var parentTop=parseInt(box.cont.offset().top);var parentHeight=parseInt(box.cont.attr("offsetHeight"));var boxHeight=parseInt(box.attr("offsetHeight")+(parseInt(box.css("marginTop"))||0)+(parseInt(box.css("marginBottom"))||0));var aniTop;if(isActive){if(options.relativeTo=="top"){if(box.initialOffsetTop>=(pageScroll+options.offset)){aniTop=box.initialTop}else{aniTop=Math.min((Math.max((-parentTop),(pageScroll-box.initialOffsetTop+box.initialTop))+options.offset),(parentHeight-boxHeight-box.paddingAdjustment))}}else{if(options.relativeTo=="bottom"){if((box.initialOffsetTop+boxHeight)>=(pageScroll+options.offset+viewportHeight)){aniTop=box.initialTop}else{aniTop=Math.min((pageScroll+viewportHeight-boxHeight-options.offset),(parentHeight-boxHeight))}}}if((new Date().getTime()-box.lastScroll)>=(options.delay-20)){box.animate({top:aniTop},options.speed,options.easing)}}}var isActive=true;if($.cookie!=undefined){if($.cookie("scrollFollowSetting"+box.attr("id"))=="false"){var isActive=false;$("#"+options.killSwitch).text(options.offText).toggle(function(){isActive=true;$(this).text(options.onText);$.cookie("scrollFollowSetting"+box.attr("id"),true,{expires:365,path:"/"});ani()},function(){isActive=false;$(this).text(options.offText);box.animate({top:box.initialTop},options.speed,options.easing);$.cookie("scrollFollowSetting"+box.attr("id"),false,{expires:365,path:"/"})})}else{$("#"+options.killSwitch).text(options.onText).toggle(function(){isActive=false;$(this).text(options.offText);box.animate({top:box.initialTop},0);$.cookie("scrollFollowSetting"+box.attr("id"),false,{expires:365,path:"/"})},function(){isActive=true;$(this).text(options.onText);$.cookie("scrollFollowSetting"+box.attr("id"),true,{expires:365,path:"/"});ani()})}}if(options.container==""){box.cont=box.parent()}else{box.cont=$("#"+options.container)}box.initialOffsetTop=parseInt(box.offset().top);box.initialTop=parseInt(box.css("top"))||0;if(box.css("position")=="relative"){box.paddingAdjustment=parseInt(box.cont.css("paddingTop"))+parseInt(box.cont.css("paddingBottom"))}else{box.paddingAdjustment=0}$(window).scroll(function(){$.fn.scrollFollow.interval=setTimeout(function(){ani()},options.delay);box.lastScroll=new Date().getTime()});$(window).resize(function(){$.fn.scrollFollow.interval=setTimeout(function(){ani()},options.delay);box.lastScroll=new Date().getTime()});box.lastScroll=0;ani()};$.fn.scrollFollow=function(options){options=options||{};options.relativeTo=options.relativeTo||"top";options.speed=options.speed||500;options.offset=options.offset||0;options.easing=options.easing||"swing";options.container=options.container||this.parent().attr("id");options.killSwitch=options.killSwitch||"killSwitch";options.onText=options.onText||"Turn Slide Off";options.offText=options.offText||"Turn Slide On";options.delay=options.delay||0;this.each(function(){new $.scrollFollow(this,options)});return this}})(jQuery);(function(){function t(t){return t.target}function n(t){return t.source}function e(t,n){try{for(var e in n){Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}}catch(r){t.prototype=n}}function r(t){for(var n=-1,e=t.length,r=[];e>++n;){r.push(t[n])}return r}function i(t){return Array.prototype.slice.call(t)}function u(){}function a(t){return t}function o(){return !0}function c(t){return"function"==typeof t?t:function(){return t}}function l(t,n,e){return function(){var r=e.apply(n,arguments);return arguments.length?t:r}}function s(t){return null!=t&&!isNaN(t)}function f(t){return t.length}function h(t){return t.trim().replace(/\s+/g," ")}function d(t){for(var n=1;t*n%1;){n*=10}return n}function g(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function p(t){return t.responseText}function m(t){return JSON.parse(t.responseText)}function v(t){var n=document.createRange();return n.selectNode(document.body),n.createContextualFragment(t.responseText)}function y(t){return t.responseXML}function M(){}function b(t){function n(){for(var n,r=e,i=-1,u=r.length;u>++i;){(n=r[i].on)&&n.apply(this,arguments)}return t}var e=[],r=new u;return n.on=function(n,i){var u,a=r.get(n);return 2>arguments.length?a&&a.on:(a&&(a.on=null,e=e.slice(0,u=e.indexOf(a)).concat(e.slice(u+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function x(t,n){return n-(t?1+Math.floor(Math.log(t+Math.pow(10,1+Math.floor(Math.log(t)/Math.LN10)-n))/Math.LN10):1)}function _(t){return t+""}function w(t,n){var e=Math.pow(10,3*Math.abs(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function S(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function k(t){return function(n){return 1-t(1-n)}}function E(t){return function(n){return 0.5*(0.5>n?t(2*n):2-t(2-2*n))}}function A(t){return t*t}function N(t){return t*t*t}function T(t){if(0>=t){return 0}if(t>=1){return 1}var n=t*t,e=n*t;return 4*(0.5>t?e:3*(t-n)+e-0.75)}function q(t){return function(n){return Math.pow(n,t)}}function C(t){return 1-Math.cos(t*Ru/2)}function z(t){return Math.pow(2,10*(t-1))}function D(t){return 1-Math.sqrt(1-t*t)}function L(t,n){var e;return 2>arguments.length&&(n=0.45),arguments.length?e=n/(2*Ru)*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-e)*Ru/n)}}function F(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function H(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+0.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+0.9375:7.5625*(t-=2.625/2.75)*t+0.984375}function R(){d3.event.stopPropagation(),d3.event.preventDefault()}function P(){for(var t,n=d3.event;t=n.sourceEvent;){n=t}return n}function j(t){for(var n=new M,e=0,r=arguments.length;r>++e;){n[arguments[e]]=b(n)}return n.of=function(e,r){return function(i){try{var u=i.sourceEvent=d3.event;i.target=t,d3.event=i,n[i.type].apply(e,r)}finally{d3.event=u}}},n}function O(t){var n=[t.a,t.b],e=[t.c,t.d],r=U(n),i=Y(n,e),u=U(I(e,n,-i))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Ou,this.translate=[t.e,t.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Ou:0}function Y(t,n){return t[0]*n[0]+t[1]*n[1]}function U(t){var n=Math.sqrt(Y(t,t));return n&&(t[0]/=n,t[1]/=n),n}function I(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function V(t){return"transform"==t?d3.interpolateTransform:d3.interpolate}function X(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function Z(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function B(){}function $(t,n,e){return new J(t,n,e)}function J(t,n,e){this.r=t,this.g=n,this.b=e}function G(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function K(t,n,e){var r,i,u,a=0,o=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(t)){switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(nn(i[0]),nn(i[1]),nn(i[2]))}}return(u=aa.get(t))?n(u.r,u.g,u.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,o=t.charAt(2),o+=o,c=t.charAt(3),c+=c):7===t.length&&(a=t.substring(1,3),o=t.substring(3,5),c=t.substring(5,7)),a=parseInt(a,16),o=parseInt(o,16),c=parseInt(c,16)),n(a,o,c))}function W(t,n,e){var r,i,u=Math.min(t/=255,n/=255,e/=255),a=Math.max(t,n,e),o=a-u,c=(a+u)/2;return o?(i=0.5>c?o/(a+u):o/(2-a-u),r=t==a?(n-e)/o+(e>n?6:0):n==a?(e-t)/o+2:(t-n)/o+4,r*=60):i=r=0,en(r,i,c)}function Q(t,n,e){t=tn(t),n=tn(n),e=tn(e);var r=gn((0.4124564*t+0.3575761*n+0.1804375*e)/sa),i=gn((0.2126729*t+0.7151522*n+0.072175*e)/fa),u=gn((0.0193339*t+0.119192*n+0.9503041*e)/ha);return ln(116*i-16,500*(r-i),200*(i-u))}function tn(t){return 0.04045>=(t/=255)?t/12.92:Math.pow((t+0.055)/1.055,2.4)}function nn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function en(t,n,e){return new rn(t,n,e)}function rn(t,n,e){this.h=t,this.s=n,this.l=e}function un(t,n,e){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?u+(a-u)*t/60:180>t?a:240>t?u+(a-u)*(240-t)/60:u}function i(t){return Math.round(255*r(t))}var u,a;return t%=360,0>t&&(t+=360),n=0>n?0:n>1?1:n,e=0>e?0:e>1?1:e,a=0.5>=e?e*(1+n):e+n-e*n,u=2*e-a,$(i(t+120),i(t),i(t-120))}function an(t,n,e){return new on(t,n,e)}function on(t,n,e){this.h=t,this.c=n,this.l=e}function cn(t,n,e){return ln(e,Math.cos(t*=ju)*n,Math.sin(t)*n)}function ln(t,n,e){return new sn(t,n,e)}function sn(t,n,e){this.l=t,this.a=n,this.b=e}function fn(t,n,e){var r=(t+16)/116,i=r+n/500,u=r-e/200;return i=dn(i)*sa,r=dn(r)*fa,u=dn(u)*ha,$(pn(3.2404542*i-1.5371385*r-0.4985314*u),pn(-0.969266*i+1.8760108*r+0.041556*u),pn(0.0556434*i-0.2040259*r+1.0572252*u))}function hn(t,n,e){return an(180*(Math.atan2(e,n)/Ru),Math.sqrt(n*n+e*e),t)}function dn(t){return t>0.206893034?t*t*t:(t-4/29)/7.787037}function gn(t){return t>0.008856?Math.pow(t,1/3):7.787037*t+4/29}function pn(t){return Math.round(255*(0.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-0.055))}function mn(t){return Iu(t,Ma),t}function vn(t){return function(){return ga(t,this)}}function yn(t){return function(){return pa(t,this)}}function Mn(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function u(){this.setAttributeNS(t.space,t.local,n)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function o(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=d3.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?o:a:t.local?u:i}function bn(t){return RegExp("(?:^|\\s+)"+d3.requote(t)+"(?:\\s+|$)","g")}function xn(t,n){function e(){for(var e=-1;i>++e;){t[e](this,n)}}function r(){for(var e=-1,r=n.apply(this,arguments);i>++e;){t[e](this,r)}}t=t.trim().split(/\s+/).map(_n);var i=t.length;return"function"==typeof n?r:e}function _n(t){var n=bn(t);return function(e,r){if(i=e.classList){return r?i.add(t):i.remove(t)}var i=e.className,u=null!=i.baseVal,a=u?i.baseVal:i;r?(n.lastIndex=0,n.test(a)||(a=h(a+" "+t),u?i.baseVal=a:e.className=a)):a&&(a=h(a.replace(n," ")),u?i.baseVal=a:e.className=a)}}function wn(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function u(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?u:i}function Sn(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function kn(t){return{__data__:t}}function En(t){return function(){return ya(this,t)}}function An(t){return arguments.length||(t=d3.ascending),function(n,e){return t(n&&n.__data__,e&&e.__data__)}}function Nn(t,n,e){function r(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function i(){function i(t){var e=d3.event;d3.event=t,o[0]=a.__data__;try{n.apply(a,o)}finally{d3.event=e}}var a=this,o=Yu(arguments);r.call(this),this.addEventListener(t,this[u]=i,i.$=e),i._=n}var u="__on"+t,a=t.indexOf(".");return a>0&&(t=t.substring(0,a)),n?i:r}function Tn(t,n){for(var e=0,r=t.length;r>e;e++){for(var i,u=t[e],a=0,o=u.length;o>a;a++){(i=u[a])&&n(i,a,e)}}return t}function qn(t){return Iu(t,xa),t}function Cn(t,n){return Iu(t,wa),t.id=n,t}function zn(t,n,e,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),a=i[e];if(!a){var o=r.time;return a=i[e]={tween:new u,event:d3.dispatch("start","end"),time:o,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,d3.timer(function(r){function u(r){return i.active>e?l():(i.active=e,h.start.call(t,s,n),a.tween.forEach(function(e,r){(r=r.call(t,s,n))&&p.push(r)}),c(r)||d3.timer(c,0,o),1)}function c(r){if(i.active!==e){return l()}for(var u=(r-d)/g,a=f(u),o=p.length;o>0;){p[--o].call(t,a)}return u>=1?(l(),h.end.call(t,s,n),1):void 0}function l(){return --i.count?delete i[e]:delete t.__transition__,1}var s=t.__data__,f=a.ease,h=a.event,d=a.delay,g=a.duration,p=[];return r>=d?u(r):d3.timer(u,d,o),1},0,o),a}}function Dn(t){return null==t&&(t=""),function(){this.textContent=t}}function Ln(t,n,e,r){var i=t.id;return Tn(t,"function"==typeof e?function(t,u,a){t.__transition__[i].tween.set(n,r(e.call(t,t.__data__,u,a)))}:(e=r(e),function(t){t.__transition__[i].tween.set(n,e)}))}function Fn(){for(var t,n=Date.now(),e=qa;e;){t=n-e.then,t>=e.delay&&(e.flush=e.callback(t)),e=e.next}var r=Hn()-n;r>24?(isFinite(r)&&(clearTimeout(Aa),Aa=setTimeout(Fn,r)),Ea=0):(Ea=1,Ca(Fn))}function Hn(){for(var t=null,n=qa,e=1/0;n;){n.flush?(delete Ta[n.callback.id],n=t?t.next=n.next:qa=n.next):(e=Math.min(e,n.then+n.delay),n=(t=n).next)}return e}function Rn(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>za&&(window.scrollX||window.scrollY)){e=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=e[0][0].getScreenCTM();za=!(i.f||i.e),e.remove()}return za?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function Pn(){}function jn(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function On(t){return t.rangeExtent?t.rangeExtent():jn(t.range())}function Yn(t,n){var e,r=0,i=t.length-1,u=t[r],a=t[i];return u>a&&(e=r,r=i,i=e,e=u,u=a,a=e),(n=n(a-u))&&(t[r]=n.floor(u),t[i]=n.ceil(a)),t}function Un(){return Math}function In(t,n,e,r){function i(){var i=Math.min(t.length,n.length)>2?Gn:Jn,c=r?Z:X;return a=i(t,n,c,e),o=i(n,t,c,d3.interpolate),u}function u(t){return a(t)}var a,o;return u.invert=function(t){return o(t)},u.domain=function(n){return arguments.length?(t=n.map(Number),i()):t},u.range=function(t){return arguments.length?(n=t,i()):n},u.rangeRound=function(t){return u.range(t).interpolate(d3.interpolateRound)},u.clamp=function(t){return arguments.length?(r=t,i()):r},u.interpolate=function(t){return arguments.length?(e=t,i()):e},u.ticks=function(n){return Bn(t,n)},u.tickFormat=function(n){return $n(t,n)},u.nice=function(){return Yn(t,Xn),i()},u.copy=function(){return In(t,n,e,r)},i()}function Vn(t,n){return d3.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Xn(t){return t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1),t&&{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}}function Zn(t,n){var e=jn(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),u=n/r*i;return 0.15>=u?i*=10:0.35>=u?i*=5:0.75>=u&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+0.5*i,e[2]=i,e}function Bn(t,n){return d3.range.apply(d3,Zn(t,n))}function $n(t,n){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Zn(t,n)[2])/Math.LN10+0.01))+"f")}function Jn(t,n,e,r){var i=e(t[0],t[1]),u=r(n[0],n[1]);return function(t){return u(i(t))}}function Gn(t,n,e,r){var i=[],u=[],a=0,o=Math.min(t.length,n.length)-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());o>=++a;){i.push(e(t[a-1],t[a])),u.push(r(n[a-1],n[a]))}return function(n){var e=d3.bisect(t,n,1,o)-1;return u[e](i[e](n))}}function Kn(t,n){function e(e){return t(n(e))}var r=n.pow;return e.invert=function(n){return r(t.invert(n))},e.domain=function(i){return arguments.length?(n=0>i[0]?Qn:Wn,r=n.pow,t.domain(i.map(n)),e):t.domain().map(r)},e.nice=function(){return t.domain(Yn(t.domain(),Un)),e},e.ticks=function(){var e=jn(t.domain()),i=[];if(e.every(isFinite)){var u=Math.floor(e[0]),a=Math.ceil(e[1]),o=r(e[0]),c=r(e[1]);if(n===Qn){for(i.push(r(u));a>u++;){for(var l=9;l>0;l--){i.push(r(u)*l)}}}else{for(;a>u;u++){for(var l=1;10>l;l++){i.push(r(u)*l)}}i.push(r(u))}for(u=0;o>i[u];u++){}for(a=i.length;i[a-1]>c;a--){}i=i.slice(u,a)}return i},e.tickFormat=function(t,i){if(2>arguments.length&&(i=Da),!arguments.length){return i}var u,a=Math.max(0.1,t/e.ticks().length),o=n===Qn?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil);return function(t){return a>=t/r(o(n(t)+u))?i(t):""}},e.copy=function(){return Kn(t.copy(),n)},Vn(e,t)}function Wn(t){return Math.log(0>t?0:t)/Math.LN10}function Qn(t){return -Math.log(t>0?0:-t)/Math.LN10}function te(t,n){function e(n){return t(r(n))}var r=ne(n),i=ne(1/n);return e.invert=function(n){return i(t.invert(n))},e.domain=function(n){return arguments.length?(t.domain(n.map(r)),e):t.domain().map(i)},e.ticks=function(t){return Bn(e.domain(),t)},e.tickFormat=function(t){return $n(e.domain(),t)},e.nice=function(){return e.domain(Yn(e.domain(),Xn))},e.exponent=function(t){if(!arguments.length){return n}var u=e.domain();return r=ne(n=t),i=ne(1/n),e.domain(u)},e.copy=function(){return te(t.copy(),n)},Vn(e,t)}function ne(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function ee(t,n){function e(n){return a[((i.get(n)||i.set(n,t.push(n)))-1)%a.length]}function r(n,e){return d3.range(t.length).map(function(t){return n+e*t})}var i,a,o;return e.domain=function(r){if(!arguments.length){return t}t=[],i=new u;for(var a,o=-1,c=r.length;c>++o;){i.has(a=r[o])||i.set(a,t.push(a))}return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(a=t,o=0,n={t:"range",a:arguments},e):a},e.rangePoints=function(i,u){2>arguments.length&&(u=0);var c=i[0],l=i[1],s=(l-c)/(Math.max(1,t.length-1)+u);return a=r(2>t.length?(c+l)/2:c+s*u/2,s),o=0,n={t:"rangePoints",a:arguments},e},e.rangeBands=function(i,u,c){2>arguments.length&&(u=0),3>arguments.length&&(c=u);var l=i[1]<i[0],s=i[l-0],f=i[1-l],h=(f-s)/(t.length-u+2*c);return a=r(s+h*c,h),l&&a.reverse(),o=h*(1-u),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,u,c){2>arguments.length&&(u=0),3>arguments.length&&(c=u);var l=i[1]<i[0],s=i[l-0],f=i[1-l],h=Math.floor((f-s)/(t.length-u+2*c)),d=f-s-(t.length-u)*h;return a=r(s+Math.round(d/2),h),l&&a.reverse(),o=Math.round(h*(1-u)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return jn(n.a[0])},e.copy=function(){return ee(t,n)},e.domain(t)}function re(t,n){function e(){var e=0,u=n.length;for(i=[];u>++e;){i[e-1]=d3.quantile(t,e/u)}return r}function r(t){return isNaN(t=+t)?0/0:n[d3.bisect(i,t)]}var i;return r.domain=function(n){return arguments.length?(t=n.filter(function(t){return !isNaN(t)}).sort(d3.ascending),e()):t},r.range=function(t){return arguments.length?(n=t,e()):n},r.quantiles=function(){return i},r.copy=function(){return re(t,n)},e()}function ie(t,n,e){function r(n){return e[Math.max(0,Math.min(a,Math.floor(u*(n-t))))]}function i(){return u=e.length/(n-t),a=e.length-1,r}var u,a;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],i()):[t,n]},r.range=function(t){return arguments.length?(e=t,i()):e},r.copy=function(){return ie(t,n,e)},i()}function ue(t,n){function e(e){return n[d3.bisect(t,e)]}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return ue(t,n)},e}function ae(t){function n(t){return +t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Bn(t,n)},n.tickFormat=function(n){return $n(t,n)},n.copy=function(){return ae(t)},n}function oe(t){return t.innerRadius}function ce(t){return t.outerRadius}function le(t){return t.startAngle}function se(t){return t.endAngle}function fe(t){function n(n){function a(){s.push("M",u(t(f),l))}for(var o,s=[],f=[],h=-1,d=n.length,g=c(e),p=c(r);d>++h;){i.call(this,o=n[h],h)?f.push([+g.call(this,o,h),+p.call(this,o,h)]):f.length&&(a(),f=[])}return f.length&&a(),s.length?s.join(""):null}var e=he,r=de,i=o,u=ge,a=u.key,l=0.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(a="function"==typeof t?u=t:(u=Oa.get(t)||ge).key,n):a},n.tension=function(t){return arguments.length?(l=t,n):l},n}function he(t){return t[0]}function de(t){return t[1]}function ge(t){return t.join("L")}function pe(t){return ge(t)+"Z"}function me(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];e>++n;){i.push("V",(r=t[n])[1],"H",r[0])}return i.join("")}function ve(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];e>++n;){i.push("H",(r=t[n])[0],"V",r[1])}return i.join("")}function ye(t,n){return 4>t.length?ge(t):t[1]+xe(t.slice(1,t.length-1),_e(t,n))}function Me(t,n){return 3>t.length?ge(t):t[0]+xe((t.push(t[0]),t),_e([t[t.length-2]].concat(t,[t[1]]),n))}function be(t,n){return 3>t.length?ge(t):t[0]+xe(t,_e(t,n))}function xe(t,n){if(1>n.length||t.length!=n.length&&t.length!=n.length+2){return ge(t)}var e=t.length!=n.length,r="",i=t[0],u=t[1],a=n[0],o=a,c=1;if(e&&(r+="Q"+(u[0]-2*a[0]/3)+","+(u[1]-2*a[1]/3)+","+u[0]+","+u[1],i=t[1],c=2),n.length>1){o=n[1],u=t[c],c++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1];for(var l=2;n.length>l;l++,c++){u=t[c],o=n[l],r+="S"+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1]}}if(e){var s=t[c];r+="Q"+(u[0]+2*o[0]/3)+","+(u[1]+2*o[1]/3)+","+s[0]+","+s[1]}return r}function _e(t,n){for(var e,r=[],i=(1-n)/2,u=t[0],a=t[1],o=1,c=t.length;c>++o;){e=u,u=a,a=t[o],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])])}return r}function we(t){if(3>t.length){return ge(t)}var n=1,e=t.length,r=t[0],i=r[0],u=r[1],a=[i,i,i,(r=t[1])[0]],o=[u,u,u,r[1]],c=[i,",",u];for(Ne(c,a,o);e>++n;){r=t[n],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),Ne(c,a,o)}for(n=-1;2>++n;){a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),Ne(c,a,o)}return c.join("")}function Se(t){if(4>t.length){return ge(t)}for(var n,e=[],r=-1,i=t.length,u=[0],a=[0];3>++r;){n=t[r],u.push(n[0]),a.push(n[1])}for(e.push(Ae(Ia,u)+","+Ae(Ia,a)),--r;i>++r;){n=t[r],u.shift(),u.push(n[0]),a.shift(),a.push(n[1]),Ne(e,u,a)}return e.join("")}function ke(t){for(var n,e,r=-1,i=t.length,u=i+4,a=[],o=[];4>++r;){e=t[r%i],a.push(e[0]),o.push(e[1])}for(n=[Ae(Ia,a),",",Ae(Ia,o)],--r;u>++r;){e=t[r%i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Ne(n,a,o)}return n.join("")}function Ee(t,n){var e=t.length-1;if(e){for(var r,i,u=t[0][0],a=t[0][1],o=t[e][0]-u,c=t[e][1]-a,l=-1;e>=++l;){r=t[l],i=l/e,r[0]=n*r[0]+(1-n)*(u+i*o),r[1]=n*r[1]+(1-n)*(a+i*c)}}return we(t)}function Ae(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Ne(t,n,e){t.push("C",Ae(Ya,n),",",Ae(Ya,e),",",Ae(Ua,n),",",Ae(Ua,e),",",Ae(Ia,n),",",Ae(Ia,e))}function Te(t,n){return(n[1]-t[1])/(n[0]-t[0])}function qe(t){for(var n=0,e=t.length-1,r=[],i=t[0],u=t[1],a=r[0]=Te(i,u);e>++n;){r[n]=(a+(a=Te(i=u,u=t[n+1])))/2}return r[n]=a,r}function Ce(t){for(var n,e,r,i,u=[],a=qe(t),o=-1,c=t.length-1;c>++o;){n=Te(t[o],t[o+1]),0.000001>Math.abs(n)?a[o]=a[o+1]=0:(e=a[o]/n,r=a[o+1]/n,i=e*e+r*r,i>9&&(i=3*n/Math.sqrt(i),a[o]=i*e,a[o+1]=i*r))}for(o=-1;c>=++o;){i=(t[Math.min(c,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),u.push([i||0,a[o]*i||0])}return u}function ze(t){return 3>t.length?ge(t):t[0]+xe(t,Ce(t))}function De(t){for(var n,e,r,i=-1,u=t.length;u>++i;){n=t[i],e=n[0],r=n[1]+Pa,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r)}return t}function Le(t){function n(n){function o(){m.push("M",l(t(y),d),h,f(t(v.reverse()),d),"Z")}for(var s,g,p,m=[],v=[],y=[],M=-1,b=n.length,x=c(e),_=c(i),w=e===r?function(){return g}:c(r),S=i===u?function(){return p}:c(u);b>++M;){a.call(this,s=n[M],M)?(v.push([g=+x.call(this,s,M),p=+_.call(this,s,M)]),y.push([+w.call(this,s,M),+S.call(this,s,M)])):v.length&&(o(),v=[],y=[])}return v.length&&o(),m.length?m.join(""):null}var e=he,r=he,i=0,u=de,a=o,l=ge,s=l.key,f=l,h="L",d=0.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(i=u=t,n):u},n.y0=function(t){return arguments.length?(i=t,n):i},n.y1=function(t){return arguments.length?(u=t,n):u},n.defined=function(t){return arguments.length?(a=t,n):a},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?l=t:(l=Oa.get(t)||ge).key,f=l.reverse||l,h=l.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(d=t,n):d},n}function Fe(t){return t.radius}function He(t){return[t.x,t.y]}function Re(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+Pa;return[e*Math.cos(r),e*Math.sin(r)]}}function Pe(){return 64}function je(){return"circle"}function Oe(t){var n=Math.sqrt(t/Ru);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Ye(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Ue(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function Ie(t,n,e){if(r=[],e&&n.length>1){for(var r,i,u,a=jn(t.domain()),o=-1,c=n.length,l=(n[1]-n[0])/++e;c>++o;){for(i=e;--i>0;){(u=+n[o]-i*l)>=a[0]&&r.push(u)}}for(--o,i=0;e>++i&&(u=+n[o]+i*l)<a[1];){r.push(u)}}return r}function Ve(){Ja||(Ja=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var t,n=d3.event;try{Ja.scrollTop=1000,Ja.dispatchEvent(n),t=1000-Ja.scrollTop}catch(e){t=n.wheelDelta||5*-n.detail}return t}function Xe(t){for(var n=t.source,e=t.target,r=Be(n,e),i=[n];n!==r;){n=n.parent,i.push(n)}for(var u=i.length;e!==r;){i.splice(u,0,e),e=e.parent}return i}function Ze(t){for(var n=[],e=t.parent;null!=e;){n.push(t),t=e,e=e.parent}return n.push(t),n}function Be(t,n){if(t===n){return t}for(var e=Ze(t),r=Ze(n),i=e.pop(),u=r.pop(),a=null;i===u;){a=i,i=e.pop(),u=r.pop()}return a}function $e(t){t.fixed|=2}function Je(t){t.fixed&=1}function Ge(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ke(t){t.fixed&=3}function We(t,n,e){var r=0,i=0;if(t.charge=0,!t.leaf){for(var u,a=t.nodes,o=a.length,c=-1;o>++c;){u=a[c],null!=u&&(We(u,n,e),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy)}}if(t.point){t.leaf||(t.point.x+=Math.random()-0.5,t.point.y+=Math.random()-0.5);var l=n*e[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qe(){return 20}function tr(){return 1}function nr(t){return t.x}function er(t){return t.y}function rr(t,n,e){t.y0=n,t.y=e}function ir(t){return d3.range(t.length)}function ur(t){for(var n=-1,e=t[0].length,r=[];e>++n;){r[n]=0}return r}function ar(t){for(var n,e=1,r=0,i=t[0][1],u=t.length;u>e;++e){(n=t[e][1])>i&&(r=e,i=n)}return r}function or(t){return t.reduce(cr,0)}function cr(t,n){return t+n[1]}function lr(t,n){return sr(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function sr(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,u=[];n>=++e;){u[e]=i*e+r}return u}function fr(t){return[d3.min(t),d3.max(t)]}function hr(t,n){return d3.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=mr,t}function dr(t){return t.children}function gr(t){return t.value}function pr(t,n){return n.value-t.value}function mr(t){return d3.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function vr(t,n){return t.value-n.value}function yr(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function Mr(t,n){t._pack_next=n,n._pack_prev=t}function br(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-e*e-r*r>0.001}function xr(t){function n(t){s=Math.min(t.x-t.r,s),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((e=t.children)&&(l=e.length)){var e,r,i,u,a,o,c,l,s=1/0,f=-1/0,h=1/0,d=-1/0;if(e.forEach(_r),r=e[0],r.x=-r.r,r.y=0,n(r),l>1&&(i=e[1],i.x=i.r,i.y=0,n(i),l>2)){for(u=e[2],kr(r,i,u),n(u),yr(r,u),r._pack_prev=u,yr(u,i),i=r._pack_next,a=3;l>a;a++){kr(r,i,u=e[a]);var g=0,p=1,m=1;for(o=i._pack_next;o!==i;o=o._pack_next,p++){if(br(o,u)){g=1;break}}if(1==g){for(c=r._pack_prev;c!==o._pack_prev&&!br(c,u);c=c._pack_prev,m++){}}g?(m>p||p==m&&i.r<r.r?Mr(r,i=o):Mr(r=c,i),a--):(yr(r,u),i=u,n(u))}}var v=(s+f)/2,y=(h+d)/2,M=0;for(a=0;l>a;a++){u=e[a],u.x-=v,u.y-=y,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y))}t.r=M,e.forEach(wr)}}function _r(t){t._pack_next=t._pack_prev=t}function wr(t){delete t._pack_next,delete t._pack_prev}function Sr(t,n,e,r){var i=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,i){for(var u=-1,a=i.length;a>++u;){Sr(i[u],n,e,r)}}}function kr(t,n,e){var r=t.r+e.r,i=n.x-t.x,u=n.y-t.y;if(r&&(i||u)){var a=n.r+e.r,o=i*i+u*u;a*=a,r*=r;var c=0.5+(r-a)/(2*o),l=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=t.x+c*i+l*u,e.y=t.y+c*u-l*i}else{e.x=t.x+r,e.y=t.y}}function Er(t){return 1+d3.max(t,function(t){return t.y})}function Ar(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Nr(t){var n=t.children;return n&&n.length?Nr(n[0]):t}function Tr(t){var n,e=t.children;return e&&(n=e.length)?Tr(e[n-1]):t}function qr(t,n){return t.parent==n.parent?1:2}function Cr(t){var n=t.children;return n&&n.length?n[0]:t._tree.thread}function zr(t){var n,e=t.children;return e&&(n=e.length)?e[n-1]:t._tree.thread}function Dr(t,n){var e=t.children;if(e&&(i=e.length)){for(var r,i,u=-1;i>++u;){n(r=Dr(e[u],n),t)>0&&(t=r)}}return t}function Lr(t,n){return t.x-n.x}function Fr(t,n){return n.x-t.x}function Hr(t,n){return t.depth-n.depth}function Rr(t,n){function e(t,r){var i=t.children;if(i&&(a=i.length)){for(var u,a,o=null,c=-1;a>++c;){u=i[c],e(u,o),o=u}}n(t,r)}e(t,null)}function Pr(t){for(var n,e=0,r=0,i=t.children,u=i.length;--u>=0;){n=i[u]._tree,n.prelim+=e,n.mod+=e,e+=n.shift+(r+=n.change)}}function jr(t,n,e){t=t._tree,n=n._tree;var r=e/(n.number-t.number);t.change+=r,n.change-=r,n.shift+=e,n.prelim+=e,n.mod+=e}function Or(t,n,e){return t._tree.ancestor.parent==n.parent?t._tree.ancestor:e}function Yr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ur(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],u=t.dy-n[0]-n[2];return 0>i&&(e+=i/2,i=0),0>u&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Ir(t,n){function e(t,e){return d3.xhr(t,n,e).response(r)}function r(t){return e.parse(t.responseText)}function i(n){return n.map(u).join(t)}function u(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=RegExp('["'+t+"\n]"),o=t.charCodeAt(0);return e.parse=function(t){var n;return e.parseRows(t,function(t){return n?n(t):(n=Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}"),void 0)})},e.parseRows=function(t,n){function e(){if(s>=l){return a}if(i){return i=!1,u}var n=s;if(34===t.charCodeAt(n)){for(var e=n;l>e++;){if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1)){break}++e}}s=e+2;var r=t.charCodeAt(e+1);return 13===r?(i=!0,10===t.charCodeAt(e+2)&&++s):10===r&&(i=!0),t.substring(n+1,e).replace(/""/g,'"')}for(;l>s;){var r=t.charCodeAt(s++),c=1;if(10===r){i=!0}else{if(13===r){i=!0,10===t.charCodeAt(s)&&(++s,++c)}else{if(r!==o){continue}}}return t.substring(n,s-c)}return t.substring(n)}for(var r,i,u={},a={},c=[],l=t.length,s=0,f=0;(r=e())!==a;){for(var h=[];r!==u&&r!==a;){h.push(r),r=e()}(!n||(h=n(h,f++)))&&c.push(h)}return c},e.format=function(t){return t.map(i).join("\n")},e}function Vr(t,n){no.hasOwnProperty(t.type)&&no[t.type](t,n)}function Xr(t,n,e){var r,i=-1,u=t.length-e;for(n.lineStart();u>++i;){r=t[i],n.point(r[0],r[1])}n.lineEnd()}function Zr(t,n){var e=-1,r=t.length;for(n.polygonStart();r>++e;){Xr(t[e],n,1)}n.polygonEnd()}function Br(t){return[Math.atan2(t[1],t[0]),Math.asin(Math.max(-1,Math.min(1,t[2])))]}function $r(t,n){return Pu>Math.abs(t[0]-n[0])&&Pu>Math.abs(t[1]-n[1])}function Jr(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Gr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Kr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Wr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Qr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ti(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ni(t){function n(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function u(){s=0/0,p.point=a,n.lineStart()}function a(r,u){var a=Jr([r,u]),o=t(r,u);e(s,f,l,h,d,g,s=o[0],f=o[1],l=r,h=a[0],d=a[1],g=a[2],i,n),n.point(s,f)}function o(){p.point=r,n.lineEnd()}function c(){var t,r,c,m,v,y,M;u(),p.point=function(n,e){a(t=n,r=e),c=s,m=f,v=h,y=d,M=g,p.point=a},p.lineEnd=function(){e(s,f,l,h,d,g,c,m,t,v,y,M,i,n),p.lineEnd=o,o()}}var l,s,f,h,d,g,p={point:r,lineStart:u,lineEnd:o,polygonStart:function(){n.polygonStart(),p.lineStart=c},polygonEnd:function(){n.polygonEnd(),p.lineStart=u}};return p}function e(n,i,u,a,o,c,l,s,f,h,d,g,p,m){var v=l-n,y=s-i,M=v*v+y*y;if(M>4*r&&p--){var b=a+h,x=o+d,_=c+g,w=Math.sqrt(b*b+x*x+_*_),S=Math.asin(_/=w),k=Pu>Math.abs(Math.abs(_)-1)?(u+f)/2:Math.atan2(x,b),E=t(k,S),A=E[0],N=E[1],T=A-n,q=N-i,C=y*T-v*q;(C*C/M>r||Math.abs((v*T+y*q)/M-0.5)>0.3)&&(e(n,i,u,a,o,c,A,N,k,b/=w,x/=w,_,p,m),m.point(A,N),e(A,N,k,b,x,_,l,s,f,h,d,g,p,m))}}var r=0.5,i=16;return n.precision=function(t){return arguments.length?(i=(r=t*t)>0&&16,n):Math.sqrt(r)},n}function ei(t,n){function e(t,n){var e=Math.sqrt(u-2*i*Math.sin(n))/i;return[e*Math.sin(t*=i),a-e*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(n))/2,u=1+r*(2*i-r),a=Math.sqrt(u)/i;return e.invert=function(t,n){var e=a-n;return[Math.atan2(t,e)/i,Math.asin((u-(t*t+e*e)*i*i)/(2*i))]},e}function ri(t){function n(t,n){r>t&&(r=t),t>u&&(u=t),i>n&&(i=n),n>a&&(a=n)}function e(){o.point=o.lineEnd=Pn}var r,i,u,a,o={point:n,lineStart:Pn,lineEnd:Pn,polygonStart:function(){o.lineEnd=e},polygonEnd:function(){o.point=n}};return function(n){return a=u=-(r=i=1/0),d3.geo.stream(n,t(o)),[[r,i],[u,a]]}}function ii(t,n){if(!io){++uo,t*=ju;var e=Math.cos(n*=ju);ao+=(e*Math.cos(t)-ao)/uo,oo+=(e*Math.sin(t)-oo)/uo,co+=(Math.sin(n)-co)/uo}}function ui(){var t,n;io=1,ai(),io=2;var e=lo.point;lo.point=function(r,i){e(t=r,n=i)},lo.lineEnd=function(){lo.point(t,n),oi(),lo.lineEnd=oi}}function ai(){function t(t,i){t*=ju;var u=Math.cos(i*=ju),a=u*Math.cos(t),o=u*Math.sin(t),c=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*c-r*o)*l+(l=r*a-n*c)*l+(l=n*o-e*a)*l),n*a+e*o+r*c);uo+=l,ao+=l*(n+(n=a)),oo+=l*(e+(e=o)),co+=l*(r+(r=c))}var n,e,r;io>1||(1>io&&(io=1,uo=ao=oo=co=0),lo.point=function(i,u){i*=ju;var a=Math.cos(u*=ju);n=a*Math.cos(i),e=a*Math.sin(i),r=Math.sin(u),lo.point=t})}function oi(){lo.point=ii}function ci(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,u,a,o){null!=i?(i=li(e,i),u=li(e,u),(a>0?u>i:i>u)&&(i+=2*a*Ru)):(i=t+2*a*Ru,u=t);for(var c,l=a*n,s=i;a>0?s>u:u>s;s-=l){o.point((c=Br([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}}function li(t,n){var e=Jr(n);e[0]-=t,ti(e);var r=Math.acos(Math.max(-1,Math.min(1,-e[1])));return((0>-e[2]?-r:r)+2*Math.PI-Pu)%(2*Math.PI)}function si(t,n,e){return function(r){function i(n,e){t(n,e)&&r.point(n,e)}function u(t,n){m.point(t,n)}function a(){v.point=u,m.lineStart()}function o(){v.point=i,m.lineEnd()}function c(t,n){M.point(t,n),p.push([t,n])}function l(){M.lineStart(),p=[]}function s(){c(p[0][0],p[0][1]),M.lineEnd();var t,n=M.clean(),e=y.buffer(),i=e.length;if(!i){return g=!0,d+=mi(p,-1),p=null,void 0}if(p=null,1&n){t=e[0],h+=mi(t,1);var u,i=t.length-1,a=-1;for(r.lineStart();i>++a;){r.point((u=t[a])[0],u[1])}return r.lineEnd(),void 0}i>1&&2&n&&e.push(e.pop().concat(e.shift())),f.push(e.filter(gi))}var f,h,d,g,p,m=n(r),v={point:i,lineStart:a,lineEnd:o,polygonStart:function(){v.point=c,v.lineStart=l,v.lineEnd=s,g=!1,d=h=0,f=[],r.polygonStart()},polygonEnd:function(){v.point=i,v.lineStart=a,v.lineEnd=o,f=d3.merge(f),f.length?fi(f,e,r):(-Pu>h||g&&-Pu>d)&&(r.lineStart(),e(null,null,1,r),r.lineEnd()),r.polygonEnd(),f=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}},y=pi(),M=n(y);return v}}function fi(t,n,e){var r=[],i=[];if(t.forEach(function(t){var n=t.length;if(!(1>=n)){var e=t[0],u=t[n-1],a={point:e,points:t,other:null,visited:!1,entry:!0,subject:!0},o={point:e,points:[e],other:a,visited:!1,entry:!1,subject:!1};a.other=o,r.push(a),i.push(o),a={point:u,points:[u],other:null,visited:!1,entry:!1,subject:!0},o={point:u,points:[u],other:a,visited:!1,entry:!0,subject:!1},a.other=o,r.push(a),i.push(o)}}),i.sort(di),hi(r),hi(i),r.length){for(var u,a,o,c=r[0];;){for(u=c;u.visited;){if((u=u.next)===c){return}}a=u.points,e.lineStart();do{if(u.visited=u.other.visited=!0,u.entry){if(u.subject){for(var l=0;a.length>l;l++){e.point((o=a[l])[0],o[1])}}else{n(u.point,u.next.point,1,e)}u=u.next}else{if(u.subject){a=u.prev.points;for(var l=a.length;--l>=0;){e.point((o=a[l])[0],o[1])}}else{n(u.point,u.prev.point,-1,e)}u=u.prev}u=u.other,a=u.points}while(!u.visited);e.lineEnd()}}}function hi(t){if(n=t.length){for(var n,e,r=0,i=t[0];n>++r;){i.next=e=t[r],e.prev=i,i=e}i.next=e=t[0],e.prev=i}}function di(t,n){return(0>(t=t.point)[0]?t[1]-Ru/2-Pu:Ru/2-t[1])-(0>(n=n.point)[0]?n[1]-Ru/2-Pu:Ru/2-n[1])}function gi(t){return t.length>1}function pi(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:Pn,buffer:function(){var e=n;return n=[],t=null,e}}}function mi(t,n){if(!(e=t.length)){return 0}for(var e,r,i,u=0,a=0,o=t[0],c=o[0],l=o[1],s=Math.cos(l),f=Math.atan2(n*Math.sin(c)*s,Math.sin(l)),h=1-n*Math.cos(c)*s,d=f;e>++u;){o=t[u],s=Math.cos(l=o[1]),r=Math.atan2(n*Math.sin(c=o[0])*s,Math.sin(l)),i=1-n*Math.cos(c)*s,Pu>Math.abs(h-2)&&Pu>Math.abs(i-2)||(Pu>Math.abs(i)||Pu>Math.abs(h)||(Pu>Math.abs(Math.abs(r-f)-Ru)?i+h>2&&(a+=4*(r-f)):a+=Pu>Math.abs(h-2)?4*(r-d):((3*Ru+r-f)%(2*Ru)-Ru)*(h+i)),d=f,f=r,h=i)}return a}function vi(t){var n,e=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),n=1},point:function(u,a){var o=u>0?Ru:-Ru,c=Math.abs(u-e);Pu>Math.abs(c-Ru)?(t.point(e,r=(r+a)/2>0?Ru/2:-Ru/2),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),t.point(u,r),n=0):i!==o&&c>=Ru&&(Pu>Math.abs(e-i)&&(e-=i*Pu),Pu>Math.abs(u-o)&&(u-=o*Pu),r=yi(e,r,u,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),n=0),t.point(e=u,r=a),i=o},lineEnd:function(){t.lineEnd(),e=r=0/0},clean:function(){return 2-n}}}function yi(t,n,e,r){var i,u,a=Math.sin(t-e);return Math.abs(a)>Pu?Math.atan((Math.sin(n)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*u*a)):(n+r)/2}function Mi(t,n,e,r){var i;if(null==t){i=e*Ru/2,r.point(-Ru,i),r.point(0,i),r.point(Ru,i),r.point(Ru,0),r.point(Ru,-i),r.point(0,-i),r.point(-Ru,-i),r.point(-Ru,0),r.point(-Ru,i)}else{if(Math.abs(t[0]-n[0])>Pu){var u=(t[0]<n[0]?1:-1)*Ru;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else{r.point(n[0],n[1])}}}function bi(t){function n(t,n){return Math.cos(t)*Math.cos(n)>u}function e(t){var e,i,u,a;return{lineStart:function(){u=i=!1,a=1},point:function(o,c){var l,s=[o,c],f=n(o,c);!e&&(u=i=f)&&t.lineStart(),f!==i&&(l=r(e,s),($r(e,l)||$r(s,l))&&(s[0]+=Pu,s[1]+=Pu,f=n(s[0],s[1]))),f!==i&&(a=0,(i=f)?(t.lineStart(),l=r(s,e),t.point(l[0],l[1])):(l=r(e,s),t.point(l[0],l[1]),t.lineEnd()),e=l),!f||e&&$r(e,s)||t.point(s[0],s[1]),e=s},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return a|(u&&i)<<1}}}function r(t,n){var e=Jr(t,0),r=Jr(n,0),i=[1,0,0],a=Kr(e,r),o=Gr(a,a),c=a[0],l=o-c*c;if(!l){return t}var s=u*o/l,f=-u*c/l,h=Kr(i,a),d=Qr(i,s),g=Qr(a,f);Wr(d,g);var p=h,m=Gr(d,p),v=Gr(p,p),y=Math.sqrt(m*m-v*(Gr(d,d)-1)),M=Qr(p,(-m-y)/v);return Wr(M,d),Br(M)}var i=t*ju,u=Math.cos(i),a=ci(i,6*ju);return si(n,e,a)}function xi(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function _i(t,n){return[t,n]}function wi(t,n,e){var r=d3.range(t,n-Pu,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Si(t,n,e){var r=d3.range(t,n-Pu,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function ki(t,n,e,r){function i(t){var n=Math.sin(t*=d)*g,e=Math.sin(d-t)*g,r=e*l+n*f,i=e*s+n*h,u=e*a+n*c;return[Math.atan2(i,r)/ju,Math.atan2(u,Math.sqrt(r*r+i*i))/ju]}var u=Math.cos(n),a=Math.sin(n),o=Math.cos(r),c=Math.sin(r),l=u*Math.cos(t),s=u*Math.sin(t),f=o*Math.cos(e),h=o*Math.sin(e),d=Math.acos(Math.max(-1,Math.min(1,a*c+u*o*Math.cos(e-t)))),g=1/Math.sin(d);return i.distance=d,i}function Ei(t,n){return[t/(2*Ru),Math.max(-0.5,Math.min(0.5,Math.log(Math.tan(Ru/4+n/2))/(2*Ru)))]}function Ai(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ni(t){var n=ni(function(n,e){return t([n*Ou,e*Ou])});return function(t){return t=n(t),{point:function(n,e){t.point(n*ju,e*ju)},sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}function Ti(){function t(t,n){a.push("M",t,",",n,u)}function n(t,n){a.push("M",t,",",n),o.point=e}function e(t,n){a.push("L",t,",",n)}function r(){o.point=t}function i(){a.push("Z")}var u=Ai(4.5),a=[],o={point:t,lineStart:function(){o.point=n},lineEnd:r,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=r,o.point=t},pointRadius:function(t){return u=Ai(t),o},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return o}function qi(t){function n(n,e){t.moveTo(n,e),t.arc(n,e,a,0,2*Ru)}function e(n,e){t.moveTo(n,e),o.point=r}function r(n,e){t.lineTo(n,e)}function i(){o.point=n}function u(){t.closePath()}var a=4.5,o={point:n,lineStart:function(){o.point=e},lineEnd:i,polygonStart:function(){o.lineEnd=u},polygonEnd:function(){o.lineEnd=i,o.point=n},pointRadius:function(t){return a=t,o},result:Pn};return o}function Ci(){function t(t,n){po+=i*t-r*n,r=t,i=n}var n,e,r,i;mo.point=function(u,a){mo.point=t,n=r=u,e=i=a},mo.lineEnd=function(){t(n,e)}}function zi(t,n){io||(ao+=t,oo+=n,++co)}function Di(){function t(t,r){var i=t-n,u=r-e,a=Math.sqrt(i*i+u*u);ao+=a*(n+t)/2,oo+=a*(e+r)/2,co+=a,n=t,e=r}var n,e;if(1!==io){if(!(1>io)){return}io=1,ao=oo=co=0}vo.point=function(r,i){vo.point=t,n=r,e=i}}function Li(){vo.point=zi}function Fi(){function t(t,n){var e=i*t-r*n;ao+=e*(r+t),oo+=e*(i+n),co+=3*e,r=t,i=n}var n,e,r,i;2>io&&(io=2,ao=oo=co=0),vo.point=function(u,a){vo.point=t,n=r=u,e=i=a},vo.lineEnd=function(){t(n,e)}}function Hi(){function t(t,n){if(t*=ju,n*=ju,!(Pu>Math.abs(Math.abs(u)-Ru/2)&&Pu>Math.abs(Math.abs(n)-Ru/2))){var e=Math.cos(n),c=Math.sin(n);if(Pu>Math.abs(u-Ru/2)){Mo+=2*(t-r)}else{var l=t-i,s=Math.cos(l),f=Math.atan2(Math.sqrt((f=e*Math.sin(l))*f+(f=a*c-o*e*s)*f),o*c+a*e*s),h=(f+Ru+u+n)/4;Mo+=(0>l&&l>-Ru||l>Ru?-4:4)*Math.atan(Math.sqrt(Math.abs(Math.tan(h)*Math.tan(h-f/2)*Math.tan(h-Ru/4-u/2)*Math.tan(h-Ru/4-n/2))))}r=i,i=t,u=n,a=e,o=c}}var n,e,r,i,u,a,o;bo.point=function(c,l){bo.point=t,r=i=(n=c)*ju,u=(e=l)*ju,a=Math.cos(u),o=Math.sin(u)},bo.lineEnd=function(){t(n,e)}}function Ri(t){return Pi(function(){return t})()}function Pi(t){function n(t){return t=a(t[0]*ju,t[1]*ju),[t[0]*s+o,c-t[1]*s]}function e(t){return t=a.invert((t[0]-o)/s,(c-t[1])/s),t&&[t[0]*Ou,t[1]*Ou]}function r(){a=xi(u=Oi(p,m,v),i);var t=i(d,g);return o=f-t[0]*s,c=h+t[1]*s,n}var i,u,a,o,c,l=ni(function(t,n){return t=i(t,n),[t[0]*s+o,c-t[1]*s]}),s=150,f=480,h=250,d=0,g=0,p=0,m=0,v=0,y=so,M=null;return n.stream=function(t){return ji(u,y(l(t)))},n.clipAngle=function(t){return arguments.length?(y=null==t?(M=t,so):bi(M=+t),n):M},n.scale=function(t){return arguments.length?(s=+t,r()):s},n.translate=function(t){return arguments.length?(f=+t[0],h=+t[1],r()):[f,h]},n.center=function(t){return arguments.length?(d=t[0]%360*ju,g=t[1]%360*ju,r()):[d*Ou,g*Ou]},n.rotate=function(t){return arguments.length?(p=t[0]%360*ju,m=t[1]%360*ju,v=t.length>2?t[2]%360*ju:0,r()):[p*Ou,m*Ou,v*Ou]},d3.rebind(n,l,"precision"),function(){return i=t.apply(this,arguments),n.invert=i.invert&&e,r()}}function ji(t,n){return{point:function(e,r){r=t(e*ju,r*ju),e=r[0],n.point(e>Ru?e-2*Ru:-Ru>e?e+2*Ru:e,r[1])},sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function Oi(t,n,e){return t?n||e?xi(Ui(t),Ii(n,e)):Ui(t):n||e?Ii(n,e):_i}function Yi(t){return function(n,e){return n+=t,[n>Ru?n-2*Ru:-Ru>n?n+2*Ru:n,e]}}function Ui(t){var n=Yi(t);return n.invert=Yi(-t),n}function Ii(t,n){function e(t,n){var e=Math.cos(n),o=Math.cos(t)*e,c=Math.sin(t)*e,l=Math.sin(n),s=l*r+o*i;return[Math.atan2(c*u-s*a,o*r-l*i),Math.asin(Math.max(-1,Math.min(1,s*u+c*a)))]}var r=Math.cos(t),i=Math.sin(t),u=Math.cos(n),a=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),o=Math.cos(t)*e,c=Math.sin(t)*e,l=Math.sin(n),s=l*u-c*a;return[Math.atan2(c*u+l*a,o*r+s*i),Math.asin(Math.max(-1,Math.min(1,s*r-o*i)))]},e}function Vi(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),u=t(r*i);return[u*i*Math.sin(n),u*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),u=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*u,r*a),Math.asin(r&&e*u/r)]},e}function Xi(t,n,e,r){var i,u,a,o,c,l,s;return i=r[t],u=i[0],a=i[1],i=r[n],o=i[0],c=i[1],i=r[e],l=i[0],s=i[1],(s-a)*(o-u)-(c-a)*(l-u)>0}function Zi(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Bi(t,n,e,r){var i=t[0],u=e[0],a=n[0]-i,o=r[0]-u,c=t[1],l=e[1],s=n[1]-c,f=r[1]-l,h=(o*(c-l)-f*(i-u))/(f*a-o*s);return[i+h*a,c+h*s]}function $i(t,n){var e={list:t.map(function(t,n){return{index:n,x:t[0],y:t[1]}}).sort(function(t,n){return t.y<n.y?-1:t.y>n.y?1:t.x<n.x?-1:t.x>n.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(t,n){return{edge:t,side:n,vertex:null,l:null,r:null}},insert:function(t,n){n.l=t,n.r=t.r,t.r.l=n,t.r=n},leftBound:function(t){var n=r.leftEnd;do{n=n.r}while(n!=r.rightEnd&&i.rightOf(n,t));return n=n.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?e.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?e.bottomSite:t.edge.region[_o[t.side]]}},i={bisect:function(t,n){var e={region:{l:t,r:n},ep:{l:null,r:null}},r=n.x-t.x,i=n.y-t.y,u=r>0?r:-r,a=i>0?i:-i;return e.c=t.x*r+t.y*i+0.5*(r*r+i*i),u>a?(e.a=1,e.b=i/r,e.c/=r):(e.b=1,e.a=r/i,e.c/=i),e},intersect:function(t,n){var e=t.edge,r=n.edge;if(!e||!r||e.region.r==r.region.r){return null}var i=e.a*r.b-e.b*r.a;if(1e-10>Math.abs(i)){return null}var u,a,o=(e.c*r.b-r.c*e.b)/i,c=(r.c*e.a-e.c*r.a)/i,l=e.region.r,s=r.region.r;l.y<s.y||l.y==s.y&&l.x<s.x?(u=t,a=e):(u=n,a=r);var f=o>=a.region.r.x;return f&&"l"===u.side||!f&&"r"===u.side?null:{x:o,y:c}},rightOf:function(t,n){var e=t.edge,r=e.region.r,i=n.x>r.x;if(i&&"l"===t.side){return 1}if(!i&&"r"===t.side){return 0}if(1===e.a){var u=n.y-r.y,a=n.x-r.x,o=0,c=0;if(!i&&0>e.b||i&&e.b>=0?c=o=u>=e.b*a:(c=n.x+n.y*e.b>e.c,0>e.b&&(c=!c),c||(o=1)),!o){var l=r.x-e.region.l.x;c=e.b*(a*a-u*u)<l*u*(1+2*a/l+e.b*e.b),0>e.b&&(c=!c)}}else{var s=e.c-e.a*n.x,f=n.y-s,h=n.x-r.x,d=s-r.y;c=f*f>h*h+d*d}return"l"===t.side?c:!c},endPoint:function(t,e,r){t.ep[e]=r,t.ep[_o[e]]&&n(t)},distance:function(t,n){var e=t.x-n.x,r=t.y-n.y;return Math.sqrt(e*e+r*r)}},u={list:[],insert:function(t,n,e){t.vertex=n,t.ystar=n.y+e;for(var r=0,i=u.list,a=i.length;a>r;r++){var o=i[r];if(!(t.ystar>o.ystar||t.ystar==o.ystar&&n.x>o.vertex.x)){break}}i.splice(r,0,t)},del:function(t){for(var n=0,e=u.list,r=e.length;r>n&&e[n]!=t;++n){}e.splice(n,1)},empty:function(){return 0===u.list.length},nextEvent:function(t){for(var n=0,e=u.list,r=e.length;r>n;++n){if(e[n]==t){return e[n+1]}}return null},min:function(){var t=u.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return u.list.shift()}};r.init(),e.bottomSite=e.list.shift();for(var a,o,c,l,s,f,h,d,g,p,m,v,y,M=e.list.shift();;){if(u.empty()||(a=u.min()),M&&(u.empty()||M.y<a.y||M.y==a.y&&M.x<a.x)){o=r.leftBound(M),c=r.right(o),h=r.rightRegion(o),v=i.bisect(h,M),f=r.createHalfEdge(v,"l"),r.insert(o,f),p=i.intersect(o,f),p&&(u.del(o),u.insert(o,p,i.distance(p,M))),o=f,f=r.createHalfEdge(v,"r"),r.insert(o,f),p=i.intersect(f,c),p&&u.insert(f,p,i.distance(p,M)),M=e.list.shift()}else{if(u.empty()){break}o=u.extractMin(),l=r.left(o),c=r.right(o),s=r.right(c),h=r.leftRegion(o),d=r.rightRegion(c),m=o.vertex,i.endPoint(o.edge,o.side,m),i.endPoint(c.edge,c.side,m),r.del(o),u.del(c),r.del(c),y="l",h.y>d.y&&(g=h,h=d,d=g,y="r"),v=i.bisect(h,d),f=r.createHalfEdge(v,y),r.insert(l,f),i.endPoint(v,_o[y],m),p=i.intersect(l,f),p&&(u.del(l),u.insert(l,p,i.distance(p,h))),p=i.intersect(f,s),p&&u.insert(f,p,i.distance(p,h))}}for(o=r.right(r.leftEnd);o!=r.rightEnd;o=r.right(o)){n(o.edge)}}function Ji(){return{leaf:!0,nodes:[],point:null}}function Gi(t,n,e,r,i,u){if(!t(n,e,r,i,u)){var a=0.5*(e+i),o=0.5*(r+u),c=n.nodes;c[0]&&Gi(t,c[0],e,r,a,o),c[1]&&Gi(t,c[1],a,r,i,o),c[2]&&Gi(t,c[2],e,o,a,u),c[3]&&Gi(t,c[3],a,o,i,u)}}function Ki(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Wi(t,n,e,r){for(var i,u,a=0,o=n.length,c=e.length;o>a;){if(r>=c){return -1}if(i=n.charCodeAt(a++),37===i){if(u=Yo[n.charAt(a++)],!u||0>(r=u(t,e,r))){return -1}}else{if(i!=e.charCodeAt(r++)){return -1}}}return r}function Qi(t){return RegExp("^(?:"+t.map(d3.requote).join("|")+")","i")}function tu(t){for(var n=new u,e=-1,r=t.length;r>++e;){n.set(t[e].toLowerCase(),e)}return n}function nu(t,n,e){t+="";var r=t.length;return e>r?Array(e-r+1).join(n)+t:t}function eu(t,n,e){Lo.lastIndex=0;var r=Lo.exec(n.substring(e));return r?e+=r[0].length:-1}function ru(t,n,e){Do.lastIndex=0;var r=Do.exec(n.substring(e));return r?e+=r[0].length:-1}function iu(t,n,e){Ro.lastIndex=0;var r=Ro.exec(n.substring(e));return r?(t.m=Po.get(r[0].toLowerCase()),e+=r[0].length):-1}function uu(t,n,e){Fo.lastIndex=0;var r=Fo.exec(n.substring(e));return r?(t.m=Ho.get(r[0].toLowerCase()),e+=r[0].length):-1}function au(t,n,e){return Wi(t,""+Oo.c,n,e)}function ou(t,n,e){return Wi(t,""+Oo.x,n,e)}function cu(t,n,e){return Wi(t,""+Oo.X,n,e)}function lu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+=r[0].length):-1}function su(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.y=fu(+r[0]),e+=r[0].length):-1}function fu(t){return t+(t>68?1900:2000)}function hu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+=r[0].length):-1}function du(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+=r[0].length):-1}function gu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+=r[0].length):-1}function pu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+=r[0].length):-1}function mu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+=r[0].length):-1}function vu(t,n,e){Uo.lastIndex=0;var r=Uo.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+=r[0].length):-1}function yu(t,n,e){var r=Io.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}function Mu(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=~~(Math.abs(n)/60),i=Math.abs(n)%60;return e+nu(r,"0",2)+nu(i,"0",2)}function bu(t){return t.toISOString()}function xu(t,n,e){function r(n){var e=t(n),r=u(e,1);return r-n>n-e?e:r}function i(e){return n(e=t(new wo(e-1)),1),e}function u(t,e){return n(t=new wo(+t),e),t}function a(t,r,u){var a=i(t),o=[];if(u>1){for(;r>a;){e(a)%u||o.push(new Date(+a)),n(a,1)}}else{for(;r>a;){o.push(new Date(+a)),n(a,1)}}return o}function o(t,n,e){try{wo=Ki;var r=new Ki;return r._=t,a(r,n,e)}finally{wo=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=u,t.range=a;var c=t.utc=_u(t);return c.floor=c,c.round=_u(r),c.ceil=_u(i),c.offset=_u(u),c.range=o,t}function _u(t){return function(n,e){try{wo=Ki;var r=new Ki;return r._=n,t(r,e)._}finally{wo=Date}}}function wu(t,n,e){function r(n){return t(n)}return r.invert=function(n){return ku(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(ku)},r.nice=function(t){return r.domain(Yn(r.domain(),function(){return t}))},r.ticks=function(e,i){var u=Su(r.domain());if("function"!=typeof e){var a=u[1]-u[0],o=a/e,c=d3.bisect(Xo,o);if(c==Xo.length){return n.year(u,e)}if(!c){return t.ticks(e).map(ku)}Math.log(o/Xo[c-1])<Math.log(Xo[c]/o)&&--c,e=n[c],i=e[1],e=e[0].range}return e(u[0],new Date(+u[1]+1),i)},r.tickFormat=function(){return e},r.copy=function(){return wu(t.copy(),n,e)},d3.rebind(r,t,"range","rangeRound","interpolate","clamp")}function Su(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function ku(t){return new Date(t)}function Eu(t){return function(n){for(var e=t.length-1,r=t[e];!r[1](n);){r=t[--e]}return r[0](n)}}function Au(t){var n=new Date(t,0,1);return n.setFullYear(t),n}function Nu(t){var n=t.getFullYear(),e=Au(n),r=Au(n+1);return n+(t-e)/(r-e)}function Tu(t){var n=new Date(Date.UTC(t,0,1));return n.setUTCFullYear(t),n}function qu(t){var n=t.getUTCFullYear(),e=Tu(n),r=Tu(n+1);return n+(t-e)/(r-e)}var Cu=".",zu=",",Du=[3,3];Date.now||(Date.now=function(){return +new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(Lu){var Fu=CSSStyleDeclaration.prototype,Hu=Fu.setProperty;Fu.setProperty=function(t,n,e){Hu.call(this,t,n+"",e)}}d3={version:"3.0.4"};var Ru=Math.PI,Pu=0.000001,ju=Ru/180,Ou=180/Ru,Yu=i;try{Yu(document.documentElement.childNodes)[0].nodeType}catch(Uu){Yu=r}var Iu=[].__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n){t[e]=n[e]}};d3.map=function(t){var n=new u;for(var e in t){n.set(e,t[e])}return n},e(u,{has:function(t){return Vu+t in this},get:function(t){return this[Vu+t]},set:function(t,n){return this[Vu+t]=n},remove:function(t){return t=Vu+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(n){t.push(n)}),t},values:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},entries:function(){var t=[];return this.forEach(function(n,e){t.push({key:n,value:e})}),t},forEach:function(t){for(var n in this){n.charCodeAt(0)===Xu&&t.call(this,n.substring(1),this[n])}}});var Vu="\0",Xu=Vu.charCodeAt(0);d3.functor=c,d3.rebind=function(t,n){for(var e,r=1,i=arguments.length;i>++r;){t[e=arguments[r]]=l(t,n,n[e])}return t},d3.ascending=function(t,n){return n>t?-1:t>n?1:t>=n?0:0/0},d3.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:0/0},d3.mean=function(t,n){var e,r=t.length,i=0,u=-1,a=0;if(1===arguments.length){for(;r>++u;){s(e=t[u])&&(i+=(e-i)/++a)}}else{for(;r>++u;){s(e=n.call(t,t[u],u))&&(i+=(e-i)/++a)}}return a?i:void 0},d3.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(s),t.length?d3.quantile(t.sort(d3.ascending),0.5):void 0},d3.min=function(t,n){var e,r,i=-1,u=t.length;if(1===arguments.length){for(;u>++i&&(null==(e=t[i])||e!=e);){e=void 0}for(;u>++i;){null!=(r=t[i])&&e>r&&(e=r)}}else{for(;u>++i&&(null==(e=n.call(t,t[i],i))||e!=e);){e=void 0}for(;u>++i;){null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}}return e},d3.max=function(t,n){var e,r,i=-1,u=t.length;if(1===arguments.length){for(;u>++i&&(null==(e=t[i])||e!=e);){e=void 0}for(;u>++i;){null!=(r=t[i])&&r>e&&(e=r)}}else{for(;u>++i&&(null==(e=n.call(t,t[i],i))||e!=e);){e=void 0}for(;u>++i;){null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}}return e},d3.extent=function(t,n){var e,r,i,u=-1,a=t.length;if(1===arguments.length){for(;a>++u&&(null==(e=i=t[u])||e!=e);){e=i=void 0}for(;a>++u;){null!=(r=t[u])&&(e>r&&(e=r),r>i&&(i=r))}}else{for(;a>++u&&(null==(e=i=n.call(t,t[u],u))||e!=e);){e=void 0}for(;a>++u;){null!=(r=n.call(t,t[u],u))&&(e>r&&(e=r),r>i&&(i=r))}}return[e,i]},d3.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,r,i;do{e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r}while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(t,n){var e=arguments.length;2>e&&(n=1),1>e&&(t=0);var r=d3.random.normal();return function(){return Math.exp(t+n*r())}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++){n+=Math.random()}return n/t}}},d3.sum=function(t,n){var e,r=0,i=t.length,u=-1;if(1===arguments.length){for(;i>++u;){isNaN(e=+t[u])||(r+=e)}}else{for(;i>++u;){isNaN(e=+n.call(t,t[u],u))||(r+=e)}}return r},d3.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],u=e-r;return u?i+u*(t[r]-i):i},d3.shuffle=function(t){for(var n,e,r=t.length;r;){e=0|Math.random()*r--,n=t[r],t[r]=t[e],t[e]=n}return t},d3.transpose=function(t){return d3.zip.apply(d3,t)},d3.zip=function(){if(!(r=arguments.length)){return[]}for(var t=-1,n=d3.min(arguments,f),e=Array(n);n>++t;){for(var r,i=-1,u=e[t]=Array(r);r>++i;){u[i]=arguments[i][t]}}return e},d3.bisector=function(t){return{left:function(n,e,r,i){for(3>arguments.length&&(r=0),4>arguments.length&&(i=n.length);i>r;){var u=r+i>>>1;e>t.call(n,n[u],u)?r=u+1:i=u}return r},right:function(n,e,r,i){for(3>arguments.length&&(r=0),4>arguments.length&&(i=n.length);i>r;){var u=r+i>>>1;t.call(n,n[u],u)>e?i=u:r=u+1}return r}}};var Zu=d3.bisector(function(t){return t});d3.bisectLeft=Zu.left,d3.bisect=d3.bisectRight=Zu.right,d3.nest=function(){function t(n,o){if(o>=a.length){return r?r.call(i,n):e?n.sort(e):n}for(var c,l,s,f=-1,h=n.length,d=a[o++],g=new u,p={};h>++f;){(s=g.get(c=d(l=n[f])))?s.push(l):g.set(c,[l])}return g.forEach(function(n,e){p[n]=t(e,o)}),p}function n(t,e){if(e>=a.length){return t}var r,i=[],u=o[e++];for(r in t){i.push({key:r,values:n(t[r],e)})}return u&&i.sort(function(t,n){return u(t.key,n.key)}),i}var e,r,i={},a=[],o=[];return i.map=function(n){return t(n,0)},i.entries=function(e){return n(t(e,0),0)},i.key=function(t){return a.push(t),i},i.sortKeys=function(t){return o[a.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return r=t,i},i},d3.keys=function(t){var n=[];for(var e in t){n.push(e)}return n},d3.values=function(t){var n=[];for(var e in t){n.push(t[e])}return n},d3.entries=function(t){var n=[];for(var e in t){n.push({key:e,value:t[e]})}return n},d3.permute=function(t,n){for(var e=[],r=-1,i=n.length;i>++r;){e[r]=t[n[r]]}return e},d3.merge=function(t){return Array.prototype.concat.apply([],t)},d3.range=function(t,n,e){if(3>arguments.length&&(e=1,2>arguments.length&&(n=t,t=0)),1/0===(n-t)/e){throw Error("infinite range")}var r,i=[],u=d(Math.abs(e)),a=-1;if(t*=u,n*=u,e*=u,0>e){for(;(r=t+e*++a)>n;){i.push(r/u)}}else{for(;n>(r=t+e*++a);){i.push(r/u)}}return i},d3.requote=function(t){return t.replace(Bu,"\\$&")};var Bu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)},d3.xhr=function(t,n,e){function r(){var t=l.status;!t&&l.responseText||t>=200&&300>t||304===t?u.load.call(i,c.call(i,l)):u.error.call(i,l)}var i={},u=d3.dispatch("progress","load","error"),o={},c=a,l=new (window.XDomainRequest&&/^(http(s)?:)?\/\//.test(t)?XDomainRequest:XMLHttpRequest);return"onload" in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var n=d3.event;d3.event=t;try{u.progress.call(i,l)}finally{d3.event=n}},i.header=function(t,n){return t=(t+"").toLowerCase(),2>arguments.length?o[t]:(null==n?delete o[t]:o[t]=n+"",i)},i.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",i):n},i.response=function(t){return c=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(Yu(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),l.open(e,t,!0),null==n||"accept" in o||(o.accept=n+",*/*"),l.setRequestHeader){for(var a in o){l.setRequestHeader(a,o[a])}}return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=u&&i.on("error",u).on("load",function(t){u(null,t)}),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},d3.rebind(i,u,"on"),2===arguments.length&&"function"==typeof n&&(e=n,n=null),null==e?i:i.get(g(e))},d3.text=function(){return d3.xhr.apply(d3,arguments).response(p)},d3.json=function(t,n){return d3.xhr(t,"application/json",n).response(m)},d3.html=function(t,n){return d3.xhr(t,"text/html",n).response(v)},d3.xml=function(){return d3.xhr.apply(d3,arguments).response(y)};var $u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:$u,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.substring(0,n),t=t.substring(n+1)),$u.hasOwnProperty(e)?{space:$u[e],local:t}:t}},d3.dispatch=function(){for(var t=new M,n=-1,e=arguments.length;e>++n;){t[arguments[n]]=b(t)}return t},M.prototype.on=function(t,n){var e=t.indexOf("."),r="";return e>0&&(r=t.substring(e+1),t=t.substring(0,e)),2>arguments.length?this[t].on(r):this[t].on(r,n)},d3.format=function(t){var n=Ju.exec(t),e=n[1]||" ",r=n[2]||">",i=n[3]||"",u=n[4]||"",a=n[5],o=+n[6],c=n[7],l=n[8],s=n[9],f=1,h="",d=!1;switch(l&&(l=+l.substring(1)),(a||"0"===e&&"="===r)&&(a=e="0",r="=",c&&(o-=Math.floor((o-1)/4))),s){case"n":c=!0,s="g";break;case"%":f=100,h="%",s="f";break;case"p":f=100,h="%",s="r";break;case"b":case"o":case"x":case"X":u&&(u="0"+s.toLowerCase());case"c":case"d":d=!0,l=0;break;case"s":f=-1,s="r"}"#"===u&&(u=""),"r"!=s||l||(s="g"),s=Gu.get(s)||_;var g=a&&c;return function(t){if(d&&t%1){return""}var n=0>t||0===t&&0>1/t?(t=-t,"-"):i;if(0>f){var p=d3.formatPrefix(t,l);t=p.scale(t),h=p.symbol}else{t*=f}t=s(t,l),!a&&c&&(t=Ku(t));var m=u.length+t.length+(g?0:n.length),v=o>m?Array(m=o-m+1).join(e):"";return g&&(t=Ku(v+t)),Cu&&t.replace(".",Cu),n+=u,("<"===r?n+t+v:">"===r?v+n+t:"^"===r?v.substring(0,m>>=1)+n+t+v.substring(m):n+(g?t:v+t))+h}};var Ju=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Gu=d3.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return d3.round(t,n=x(t,n)).toFixed(Math.max(0,Math.min(20,n)))}}),Ku=a;if(Du){var Wu=Du.length;Ku=function(t){for(var n=t.lastIndexOf("."),e=n>=0?"."+t.substring(n+1):(n=t.length,""),r=[],i=0,u=Du[0];n>0&&u>0;){r.push(t.substring(n-=u,n+u)),u=Du[i=(i+1)%Wu]}return r.reverse().join(zu||"")+e}}var Qu=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(w);d3.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=d3.round(t,x(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),Qu[8+e/3]};var ta=function(){return a},na=d3.map({linear:ta,poly:q,quad:function(){return A},cubic:function(){return N},sin:function(){return C},exp:function(){return z},circle:function(){return D},elastic:L,back:F,bounce:function(){return H}}),ea=d3.map({"in":a,out:k,"in-out":E,"out-in":function(t){return E(k(t))}});d3.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.substring(0,n):t,r=n>=0?t.substring(n+1):"in";return e=na.get(e)||ta,r=ea.get(r)||a,S(r(e.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(t){var n=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate();return new O(e?e.matrix:ra)})(t)},O.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ra={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(t,n){for(var e,r=d3.interpolators.length;--r>=0&&!(e=d3.interpolators[r](t,n));){}return e},d3.interpolateNumber=function(t,n){return n-=t,function(e){return t+n*e}},d3.interpolateRound=function(t,n){return n-=t,function(e){return Math.round(t+n*e)}},d3.interpolateString=function(t,n){var e,r,i,u,a,o=0,c=0,l=[],s=[];for(ia.lastIndex=0,r=0;e=ia.exec(n);++r){e.index&&l.push(n.substring(o,c=e.index)),s.push({i:l.length,x:e[0]}),l.push(null),o=ia.lastIndex}for(n.length>o&&l.push(n.substring(o)),r=0,u=s.length;(e=ia.exec(t))&&u>r;++r){if(a=s[r],a.x==e[0]){if(a.i){if(null==l[a.i+1]){for(l[a.i-1]+=a.x,l.splice(a.i,1),i=r+1;u>i;++i){s[i].i--}}else{for(l[a.i-1]+=a.x+l[a.i+1],l.splice(a.i,2),i=r+1;u>i;++i){s[i].i-=2}}}else{if(null==l[a.i+1]){l[a.i]=a.x}else{for(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1),i=r+1;u>i;++i){s[i].i--}}}s.splice(r,1),u--,r--}else{a.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(a.x))}}for(;u>r;){a=s.pop(),null==l[a.i+1]?l[a.i]=a.x:(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1)),u--}return 1===l.length?null==l[0]?s[0].x:function(){return n}:function(t){for(r=0;u>r;++r){l[(a=s[r]).i]=a.x(t)}return l.join("")}},d3.interpolateTransform=function(t,n){var e,r=[],i=[],u=d3.transform(t),a=d3.transform(n),o=u.translate,c=a.translate,l=u.rotate,s=a.rotate,f=u.skew,h=a.skew,d=u.scale,g=a.scale;return o[0]!=c[0]||o[1]!=c[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:d3.interpolateNumber(o[0],c[0])},{i:3,x:d3.interpolateNumber(o[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),d[0]!=g[0]||d[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:d3.interpolateNumber(d[0],g[0])},{i:e-2,x:d3.interpolateNumber(d[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),e=i.length,function(t){for(var n,u=-1;e>++u;){r[(n=i[u]).i]=n.x(t)}return r.join("")}},d3.interpolateRgb=function(t,n){t=d3.rgb(t),n=d3.rgb(n);var e=t.r,r=t.g,i=t.b,u=n.r-e,a=n.g-r,o=n.b-i;return function(t){return"#"+G(Math.round(e+u*t))+G(Math.round(r+a*t))+G(Math.round(i+o*t))}},d3.interpolateHsl=function(t,n){t=d3.hsl(t),n=d3.hsl(n);var e=t.h,r=t.s,i=t.l,u=n.h-e,a=n.s-r,o=n.l-i;return u>180?u-=360:-180>u&&(u+=360),function(t){return un(e+u*t,r+a*t,i+o*t)+""}},d3.interpolateLab=function(t,n){t=d3.lab(t),n=d3.lab(n);var e=t.l,r=t.a,i=t.b,u=n.l-e,a=n.a-r,o=n.b-i;return function(t){return fn(e+u*t,r+a*t,i+o*t)+""}},d3.interpolateHcl=function(t,n){t=d3.hcl(t),n=d3.hcl(n);var e=t.h,r=t.c,i=t.l,u=n.h-e,a=n.c-r,o=n.l-i;return u>180?u-=360:-180>u&&(u+=360),function(t){return cn(e+u*t,r+a*t,i+o*t)+""}},d3.interpolateArray=function(t,n){var e,r=[],i=[],u=t.length,a=n.length,o=Math.min(t.length,n.length);for(e=0;o>e;++e){r.push(d3.interpolate(t[e],n[e]))}for(;u>e;++e){i[e]=t[e]}for(;a>e;++e){i[e]=n[e]}return function(t){for(e=0;o>e;++e){i[e]=r[e](t)}return i}},d3.interpolateObject=function(t,n){var e,r={},i={};for(e in t){e in n?r[e]=V(e)(t[e],n[e]):i[e]=t[e]}for(e in n){e in t||(i[e]=n[e])}return function(t){for(e in r){i[e]=r[e](t)}return i}};var ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(t,n){return n instanceof Array&&d3.interpolateArray(t,n)},function(t,n){return("string"==typeof t||"string"==typeof n)&&d3.interpolateString(t+"",n+"")},function(t,n){return("string"==typeof n?aa.has(n)||/^(#|rgb\(|hsl\()/.test(n):n instanceof B)&&d3.interpolateRgb(t,n)},function(t,n){return !isNaN(t=+t)&&!isNaN(n=+n)&&d3.interpolateNumber(t,n)}],B.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(t,n,e){return 1===arguments.length?t instanceof J?$(t.r,t.g,t.b):K(""+t,$,un):$(~~t,~~n,~~e)};var ua=J.prototype=new B;ua.brighter=function(t){t=Math.pow(0.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&i>n&&(n=i),e&&i>e&&(e=i),r&&i>r&&(r=i),$(Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(r/t)))):$(i,i,i)},ua.darker=function(t){return t=Math.pow(0.7,arguments.length?t:1),$(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},ua.hsl=function(){return W(this.r,this.g,this.b)},ua.toString=function(){return"#"+G(this.r)+G(this.g)+G(this.b)};var aa=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});aa.forEach(function(t,n){aa.set(t,K(n,$,un))}),d3.hsl=function(t,n,e){return 1===arguments.length?t instanceof rn?en(t.h,t.s,t.l):K(""+t,W,en):en(+t,+n,+e)};var oa=rn.prototype=new B;oa.brighter=function(t){return t=Math.pow(0.7,arguments.length?t:1),en(this.h,this.s,this.l/t)},oa.darker=function(t){return t=Math.pow(0.7,arguments.length?t:1),en(this.h,this.s,t*this.l)},oa.rgb=function(){return un(this.h,this.s,this.l)},d3.hcl=function(t,n,e){return 1===arguments.length?t instanceof on?an(t.h,t.c,t.l):t instanceof sn?hn(t.l,t.a,t.b):hn((t=Q((t=d3.rgb(t)).r,t.g,t.b)).l,t.a,t.b):an(+t,+n,+e)};var ca=on.prototype=new B;ca.brighter=function(t){return an(this.h,this.c,Math.min(100,this.l+la*(arguments.length?t:1)))},ca.darker=function(t){return an(this.h,this.c,Math.max(0,this.l-la*(arguments.length?t:1)))},ca.rgb=function(){return cn(this.h,this.c,this.l).rgb()},d3.lab=function(t,n,e){return 1===arguments.length?t instanceof sn?ln(t.l,t.a,t.b):t instanceof on?cn(t.l,t.c,t.h):Q((t=d3.rgb(t)).r,t.g,t.b):ln(+t,+n,+e)};var la=18,sa=0.95047,fa=1,ha=1.08883,da=sn.prototype=new B;da.brighter=function(t){return ln(Math.min(100,this.l+la*(arguments.length?t:1)),this.a,this.b)},da.darker=function(t){return ln(Math.max(0,this.l-la*(arguments.length?t:1)),this.a,this.b)},da.rgb=function(){return fn(this.l,this.a,this.b)};var ga=function(t,n){return n.querySelector(t)},pa=function(t,n){return n.querySelectorAll(t)},ma=document.documentElement,va=ma.matchesSelector||ma.webkitMatchesSelector||ma.mozMatchesSelector||ma.msMatchesSelector||ma.oMatchesSelector,ya=function(t,n){return va.call(t,n)};"function"==typeof Sizzle&&(ga=function(t,n){return Sizzle(t,n)[0]||null},pa=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))},ya=Sizzle.matchesSelector);var Ma=[];d3.selection=function(){return ba},d3.selection.prototype=Ma,Ma.select=function(t){var n,e,r,i,u=[];"function"!=typeof t&&(t=vn(t));for(var a=-1,o=this.length;o>++a;){u.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var c=-1,l=r.length;l>++c;){(i=r[c])?(n.push(e=t.call(i,i.__data__,c)),e&&"__data__" in i&&(e.__data__=i.__data__)):n.push(null)}}return mn(u)},Ma.selectAll=function(t){var n,e,r=[];"function"!=typeof t&&(t=yn(t));for(var i=-1,u=this.length;u>++i;){for(var a=this[i],o=-1,c=a.length;c>++o;){(e=a[o])&&(r.push(n=Yu(t.call(e,e.__data__,o))),n.parentNode=e)}}return mn(r)},Ma.attr=function(t,n){if(2>arguments.length){if("string"==typeof t){var e=this.node();return t=d3.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t){this.each(Mn(n,t[n]))}return this}return this.each(Mn(t,n))},Ma.classed=function(t,n){if(2>arguments.length){if("string"==typeof t){var e=this.node(),r=(t=t.trim().split(/^|\s+/g)).length,i=-1;if(n=e.classList){for(;r>++i;){if(!n.contains(t[i])){return !1}}}else{for(n=e.className,null!=n.baseVal&&(n=n.baseVal);r>++i;){if(!bn(t[i]).test(n)){return !1}}}return !0}for(n in t){this.each(xn(n,t[n]))}return this}return this.each(xn(t,n))},Ma.style=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(e in t){this.each(wn(e,t[e],n))}return this}if(2>r){return getComputedStyle(this.node(),null).getPropertyValue(t)}e=""}return this.each(wn(t,n,e))},Ma.property=function(t,n){if(2>arguments.length){if("string"==typeof t){return this.node()[t]}for(n in t){this.each(Sn(n,t[n]))}return this}return this.each(Sn(t,n))},Ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ma.append=function(t){function n(){return this.appendChild(document.createElementNS(this.namespaceURI,t))}function e(){return this.appendChild(document.createElementNS(t.space,t.local))}return t=d3.ns.qualify(t),this.select(t.local?e:n)},Ma.insert=function(t,n){function e(){return this.insertBefore(document.createElementNS(this.namespaceURI,t),ga(n,this))}function r(){return this.insertBefore(document.createElementNS(t.space,t.local),ga(n,this))}return t=d3.ns.qualify(t),this.select(t.local?r:e)},Ma.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Ma.data=function(t,n){function e(t,e){var r,i,a,o=t.length,f=e.length,h=Math.min(o,f),d=Array(f),g=Array(f),p=Array(o);if(n){var m,v=new u,y=new u,M=[];for(r=-1;o>++r;){m=n.call(i=t[r],i.__data__,r),v.has(m)?p[r]=i:v.set(m,i),M.push(m)}for(r=-1;f>++r;){m=n.call(e,a=e[r],r),(i=v.get(m))?(d[r]=i,i.__data__=a):y.has(m)||(g[r]=kn(a)),y.set(m,a),v.remove(m)}for(r=-1;o>++r;){v.has(M[r])&&(p[r]=t[r])}}else{for(r=-1;h>++r;){i=t[r],a=e[r],i?(i.__data__=a,d[r]=i):g[r]=kn(a)}for(;f>r;++r){g[r]=kn(e[r])}for(;o>r;++r){p[r]=t[r]}}g.update=d,g.parentNode=d.parentNode=p.parentNode=t.parentNode,c.push(g),l.push(d),s.push(p)}var r,i,a=-1,o=this.length;if(!arguments.length){for(t=Array(o=(r=this[0]).length);o>++a;){(i=r[a])&&(t[a]=i.__data__)}return t}var c=qn([]),l=mn([]),s=mn([]);if("function"==typeof t){for(;o>++a;){e(r=this[a],t.call(r,r.parentNode.__data__,a))}}else{for(;o>++a;){e(r=this[a],t)}}return l.enter=function(){return c},l.exit=function(){return s},l},Ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ma.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=En(t));for(var u=0,a=this.length;a>u;u++){i.push(n=[]),n.parentNode=(e=this[u]).parentNode;for(var o=0,c=e.length;c>o;o++){(r=e[o])&&t.call(r,r.__data__,o)&&n.push(r)}}return mn(i)},Ma.order=function(){for(var t=-1,n=this.length;n>++t;){for(var e,r=this[t],i=r.length-1,u=r[i];--i>=0;){(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e)}}return this},Ma.sort=function(t){t=An.apply(this,arguments);for(var n=-1,e=this.length;e>++n;){this[n].sort(t)}return this.order()},Ma.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t){this.each(Nn(e,t[e],n))}return this}if(2>r){return(r=this.node()["__on"+t])&&r._}e=!1}return this.each(Nn(t,n,e))},Ma.each=function(t){return Tn(this,function(n,e,r){t.call(n,n.__data__,e,r)})},Ma.call=function(t){var n=Yu(arguments);return t.apply(n[0]=this,n),this},Ma.empty=function(){return !this.node()},Ma.node=function(){for(var t=0,n=this.length;n>t;t++){for(var e=this[t],r=0,i=e.length;i>r;r++){var u=e[r];if(u){return u}}}return null},Ma.transition=function(){var t,n,e=_a||++Sa,r=[],i=Object.create(ka);i.time=Date.now();for(var u=-1,a=this.length;a>++u;){r.push(t=[]);for(var o=this[u],c=-1,l=o.length;l>++c;){(n=o[c])&&zn(n,c,e,i),t.push(n)}}return Cn(r,e)};var ba=mn([[document]]);ba[0].parentNode=ma,d3.select=function(t){return"string"==typeof t?ba.select(t):mn([[t]])},d3.selectAll=function(t){return"string"==typeof t?ba.selectAll(t):mn([Yu(t)])};var xa=[];d3.selection.enter=qn,d3.selection.enter.prototype=xa,xa.append=Ma.append,xa.insert=Ma.insert,xa.empty=Ma.empty,xa.node=Ma.node,xa.select=function(t){for(var n,e,r,i,u,a=[],o=-1,c=this.length;c>++o;){r=(i=this[o]).update,a.push(n=[]),n.parentNode=i.parentNode;for(var l=-1,s=i.length;s>++l;){(u=i[l])?(n.push(r[l]=e=t.call(i.parentNode,u.__data__,l)),e.__data__=u.__data__):n.push(null)}}return mn(a)};var _a,wa=[],Sa=0,ka={ease:T,delay:0,duration:250};wa.call=Ma.call,wa.empty=Ma.empty,wa.node=Ma.node,d3.transition=function(t){return arguments.length?_a?t.transition():t:ba.transition()},d3.transition.prototype=wa,wa.select=function(t){var n,e,r,i=this.id,u=[];"function"!=typeof t&&(t=vn(t));for(var a=-1,o=this.length;o>++a;){u.push(n=[]);for(var c=this[a],l=-1,s=c.length;s>++l;){(r=c[l])&&(e=t.call(r,r.__data__,l))?("__data__" in r&&(e.__data__=r.__data__),zn(e,l,i,r.__transition__[i]),n.push(e)):n.push(null)}}return Cn(u,i)},wa.selectAll=function(t){var n,e,r,i,u,a=this.id,o=[];"function"!=typeof t&&(t=yn(t));for(var c=-1,l=this.length;l>++c;){for(var s=this[c],f=-1,h=s.length;h>++f;){if(r=s[f]){u=r.__transition__[a],e=t.call(r,r.__data__,f),o.push(n=[]);for(var d=-1,g=e.length;g>++d;){zn(i=e[d],d,a,u),n.push(i)}}}}return Cn(o,a)},wa.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=En(t));for(var u=0,a=this.length;a>u;u++){i.push(n=[]);for(var e=this[u],o=0,c=e.length;c>o;o++){(r=e[o])&&t.call(r,r.__data__,o)&&n.push(r)}}return Cn(i,this.id,this.time).ease(this.ease())},wa.attr=function(t,n){function e(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}if(2>arguments.length){for(n in t){this.attr(n,t[n])}return this}var i=V(t),u=d3.ns.qualify(t);return Ln(this,"attr."+t,n,function(t){function n(){var n,e=this.getAttribute(u);return e!==t&&(n=i(e,t),function(t){this.setAttribute(u,n(t))})}function a(){var n,e=this.getAttributeNS(u.space,u.local);return e!==t&&(n=i(e,t),function(t){this.setAttributeNS(u.space,u.local,n(t))})}return null==t?u.local?r:e:(t+="",u.local?a:n)})},wa.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=d3.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},wa.style=function(t,n,e){function r(){this.style.removeProperty(t)}var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(e in t){this.style(e,t[e],n)}return this}e=""}var u=V(t);return Ln(this,"style."+t,n,function(n){function i(){var r,i=getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(r=u(i,n),function(n){this.style.setProperty(t,r(n),e)})}return null==n?r:(n+="",i)})},wa.styleTween=function(t,n,e){return 3>arguments.length&&(e=""),this.tween("style."+t,function(r,i){var u=n.call(this,r,i,getComputedStyle(this,null).getPropertyValue(t));return u&&function(n){this.style.setProperty(t,u(n),e)}})},wa.text=function(t){return Ln(this,"text",t,Dn)},wa.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},wa.ease=function(t){var n=this.id;return 1>arguments.length?this.node().__transition__[n].ease:("function"!=typeof t&&(t=d3.ease.apply(d3,arguments)),Tn(this,function(e){e.__transition__[n].ease=t}))},wa.delay=function(t){var n=this.id;return Tn(this,"function"==typeof t?function(e,r,i){e.__transition__[n].delay=0|t.call(e,e.__data__,r,i)}:(t|=0,function(e){e.__transition__[n].delay=t}))},wa.duration=function(t){var n=this.id;return Tn(this,"function"==typeof t?function(e,r,i){e.__transition__[n].duration=Math.max(1,0|t.call(e,e.__data__,r,i))}:(t=Math.max(1,0|t),function(e){e.__transition__[n].duration=t}))},wa.each=function(t,n){var e=this.id;if(2>arguments.length){var r=ka,i=_a;_a=e,Tn(this,function(n,r,i){ka=n.__transition__[e],t.call(n,n.__data__,r,i)}),ka=r,_a=i}else{Tn(this,function(r){r.__transition__[e].event.on(t,n)})}return this},wa.transition=function(){for(var t,n,e,r,i=this.id,u=++Sa,a=[],o=0,c=this.length;c>o;o++){a.push(t=[]);for(var n=this[o],l=0,s=n.length;s>l;l++){(e=n[l])&&(r=Object.create(e.__transition__[i]),r.delay+=r.duration,zn(e,l,u,r)),t.push(e)}}return Cn(a,u)},wa.tween=function(t,n){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(t):Tn(this,null==n?function(n){n.__transition__[e].tween.remove(t)}:function(r){r.__transition__[e].tween.set(t,n)})};var Ea,Aa,Na=0,Ta={},qa=null;d3.timer=function(t,n,e){if(3>arguments.length){if(2>arguments.length){n=0}else{if(!isFinite(n)){return}}e=Date.now()}var r=Ta[t.id];r&&r.callback===t?(r.then=e,r.delay=n):Ta[t.id=++Na]=qa={callback:t,then:e,delay:n,next:qa},Ea||(Aa=clearTimeout(Aa),Ea=1,Ca(Fn))},d3.timer.flush=function(){for(var t,n=Date.now(),e=qa;e;){t=n-e.then,e.delay||(e.flush=e.callback(t)),e=e.next}Hn()};var Ca=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};d3.mouse=function(t){return Rn(t,P())};var za=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(t,n){return 2>arguments.length&&(n=P().touches),n?Yu(n).map(function(n){var e=Rn(t,n);return e.identifier=n.identifier,e}):[]},d3.scale={},d3.scale.linear=function(){return In([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Kn(d3.scale.linear(),Wn)};var Da=d3.format(".0e");Wn.pow=function(t){return Math.pow(10,t)},Qn.pow=function(t){return -Math.pow(10,-t)},d3.scale.pow=function(){return te(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return ee([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(La)},d3.scale.category20=function(){return d3.scale.ordinal().range(Fa)},d3.scale.category20b=function(){return d3.scale.ordinal().range(Ha)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Ra)};var La=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Fa=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Ha=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Ra=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return re([],[])},d3.scale.quantize=function(){return ie(0,1,[0,1])},d3.scale.threshold=function(){return ue([0.5],[0,1])},d3.scale.identity=function(){return ae([0,1])},d3.svg={},d3.svg.arc=function(){function t(){var t=n.apply(this,arguments),u=e.apply(this,arguments),a=r.apply(this,arguments)+Pa,o=i.apply(this,arguments)+Pa,c=(a>o&&(c=a,a=o,o=c),o-a),l=Ru>c?"0":"1",s=Math.cos(a),f=Math.sin(a),h=Math.cos(o),d=Math.sin(o);return c>=ja?t?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":t?"M"+u*s+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*d+"L"+t*h+","+t*d+"A"+t+","+t+" 0 "+l+",0 "+t*s+","+t*f+"Z":"M"+u*s+","+u*f+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*d+"L0,0Z"}var n=oe,e=ce,r=le,i=se;return t.innerRadius=function(e){return arguments.length?(n=c(e),t):n},t.outerRadius=function(n){return arguments.length?(e=c(n),t):e},t.startAngle=function(n){return arguments.length?(r=c(n),t):r},t.endAngle=function(n){return arguments.length?(i=c(n),t):i},t.centroid=function(){var t=(n.apply(this,arguments)+e.apply(this,arguments))/2,u=(r.apply(this,arguments)+i.apply(this,arguments))/2+Pa;return[Math.cos(u)*t,Math.sin(u)*t]},t};var Pa=-Ru/2,ja=2*Ru-0.000001;d3.svg.line=function(){return fe(a)};var Oa=d3.map({linear:ge,"linear-closed":pe,"step-before":me,"step-after":ve,basis:we,"basis-open":Se,"basis-closed":ke,bundle:Ee,cardinal:be,"cardinal-open":ye,"cardinal-closed":Me,monotone:ze});Oa.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Ya=[0,2/3,1/3,0],Ua=[0,1/3,2/3,0],Ia=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var t=fe(De);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},me.reverse=ve,ve.reverse=me,d3.svg.area=function(){return Le(a)},d3.svg.area.radial=function(){var t=Le(De);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},d3.svg.chord=function(){function e(t,n){var e=r(this,o,t,n),c=r(this,l,t,n);return"M"+e.p0+u(e.r,e.p1,e.a1-e.a0)+(i(e,c)?a(e.r,e.p1,e.r,e.p0):a(e.r,e.p1,c.r,c.p0)+u(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,e.r,e.p0))+"Z"}function r(t,n,e,r){var i=n.call(t,e,r),u=s.call(t,i,r),a=f.call(t,i,r)+Pa,o=h.call(t,i,r)+Pa;return{r:u,a0:a,a1:o,p0:[u*Math.cos(a),u*Math.sin(a)],p1:[u*Math.cos(o),u*Math.sin(o)]}}function i(t,n){return t.a0==n.a0&&t.a1==n.a1}function u(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Ru)+",1 "+n}function a(t,n,e,r){return"Q 0,0 "+r}var o=n,l=t,s=Fe,f=le,h=se;return e.radius=function(t){return arguments.length?(s=c(t),e):s},e.source=function(t){return arguments.length?(o=c(t),e):o},e.target=function(t){return arguments.length?(l=c(t),e):l},e.startAngle=function(t){return arguments.length?(f=c(t),e):f},e.endAngle=function(t){return arguments.length?(h=c(t),e):h},e},d3.svg.diagonal=function(){function e(t,n){var e=r.call(this,t,n),a=i.call(this,t,n),o=(e.y+a.y)/2,c=[e,{x:e.x,y:o},{x:a.x,y:o},a];return c=c.map(u),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var r=n,i=t,u=He;return e.source=function(t){return arguments.length?(r=c(t),e):r},e.target=function(t){return arguments.length?(i=c(t),e):i},e.projection=function(t){return arguments.length?(u=t,e):u},e},d3.svg.diagonal.radial=function(){var t=d3.svg.diagonal(),n=He,e=t.projection;return t.projection=function(t){return arguments.length?e(Re(n=t)):n},t},d3.svg.symbol=function(){function t(t,r){return(Va.get(n.call(this,t,r))||Oe)(e.call(this,t,r))}var n=je,e=Pe;return t.type=function(e){return arguments.length?(n=c(e),t):n},t.size=function(n){return arguments.length?(e=c(n),t):e},t};var Va=d3.map({circle:Oe,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Za)),e=n*Za;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Xa),e=n*Xa/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Xa),e=n*Xa/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});d3.svg.symbolTypes=Va.keys();var Xa=Math.sqrt(3),Za=Math.tan(30*ju);d3.svg.axis=function(){function t(t){t.each(function(){var t,f=d3.select(this),h=null==l?e.ticks?e.ticks.apply(e,c):e.domain():l,d=null==n?e.tickFormat?e.tickFormat.apply(e,c):String:n,g=Ie(e,h,s),p=f.selectAll(".minor").data(g,String),m=p.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),v=d3.transition(p.exit()).style("opacity",0.000001).remove(),y=d3.transition(p).style("opacity",1),M=f.selectAll("g").data(h,String),b=M.enter().insert("g","path").style("opacity",0.000001),x=d3.transition(M.exit()).style("opacity",0.000001).remove(),_=d3.transition(M).style("opacity",1),w=On(e),S=f.selectAll(".domain").data([0]),k=d3.transition(S),E=e.copy(),A=this.__chart__||E;this.__chart__=E,S.enter().append("path").attr("class","domain"),b.append("line").attr("class","tick"),b.append("text");var N=b.select("line"),T=_.select("line"),q=M.select("text").text(d),C=b.select("text"),z=_.select("text");switch(r){case"bottom":t=Ye,m.attr("y2",u),y.attr("x2",0).attr("y2",u),N.attr("y2",i),C.attr("y",Math.max(i,0)+o),T.attr("x2",0).attr("y2",i),z.attr("x",0).attr("y",Math.max(i,0)+o),q.attr("dy",".71em").style("text-anchor","middle"),k.attr("d","M"+w[0]+","+a+"V0H"+w[1]+"V"+a);break;case"top":t=Ye,m.attr("y2",-u),y.attr("x2",0).attr("y2",-u),N.attr("y2",-i),C.attr("y",-(Math.max(i,0)+o)),T.attr("x2",0).attr("y2",-i),z.attr("x",0).attr("y",-(Math.max(i,0)+o)),q.attr("dy","0em").style("text-anchor","middle"),k.attr("d","M"+w[0]+","+-a+"V0H"+w[1]+"V"+-a);break;case"left":t=Ue,m.attr("x2",-u),y.attr("x2",-u).attr("y2",0),N.attr("x2",-i),C.attr("x",-(Math.max(i,0)+o)),T.attr("x2",-i).attr("y2",0),z.attr("x",-(Math.max(i,0)+o)).attr("y",0),q.attr("dy",".32em").style("text-anchor","end"),k.attr("d","M"+-a+","+w[0]+"H0V"+w[1]+"H"+-a);break;case"right":t=Ue,m.attr("x2",u),y.attr("x2",u).attr("y2",0),N.attr("x2",i),C.attr("x",Math.max(i,0)+o),T.attr("x2",i).attr("y2",0),z.attr("x",Math.max(i,0)+o).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),k.attr("d","M"+a+","+w[0]+"H0V"+w[1]+"H"+a)}if(e.ticks){b.call(t,A),_.call(t,E),x.call(t,E),m.call(t,A),y.call(t,E),v.call(t,E)}else{var D=E.rangeBand()/2,L=function(t){return E(t)+D};b.call(t,L),_.call(t,L)}})}var n,e=d3.scale.linear(),r="bottom",i=6,u=6,a=6,o=3,c=[10],l=null,s=0;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n,t):r},t.ticks=function(){return arguments.length?(c=arguments,t):c},t.tickValues=function(n){return arguments.length?(l=n,t):l},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n,e){if(!arguments.length){return i}var r=arguments.length-1;return i=+n,u=r>1?+e:i,a=r>0?+arguments[r]:i,t},t.tickPadding=function(n){return arguments.length?(o=+n,t):o},t.tickSubdivide=function(n){return arguments.length?(s=+n,t):s},t},d3.svg.brush=function(){function t(u){u.each(function(){var u,a=d3.select(this),s=a.selectAll(".background").data([0]),f=a.selectAll(".extent").data([0]),h=a.selectAll(".resize").data(l,String);a.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),h.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ba[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",t.empty()?"none":null),h.exit().remove(),o&&(u=On(o),s.attr("x",u[0]).attr("width",u[1]-u[0]),e(a)),c&&(u=On(c),s.attr("y",u[0]).attr("height",u[1]-u[0]),r(a)),n(a)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+s[+/e$/.test(t)][0]+","+s[+/^s/.test(t)][1]+")"})}function e(t){t.select(".extent").attr("x",s[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1][0]-s[0][0])}function r(t){t.select(".extent").attr("y",s[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1][1]-s[0][1])}function i(){function i(){var t=d3.event.changedTouches;return t?d3.touches(v,t)[0]:d3.mouse(v)}function l(){32==d3.event.keyCode&&(S||(p=null,k[0]-=s[1][0],k[1]-=s[1][1],S=2),R())}function f(){32==d3.event.keyCode&&2==S&&(k[0]+=s[1][0],k[1]+=s[1][1],S=0,R())}function h(){var t=i(),u=!1;m&&(t[0]+=m[0],t[1]+=m[1]),S||(d3.event.altKey?(p||(p=[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]),k[0]=s[+(t[0]<p[0])][0],k[1]=s[+(t[1]<p[1])][1]):p=null),_&&d(t,o,0)&&(e(b),u=!0),w&&d(t,c,1)&&(r(b),u=!0),u&&(n(b),M({type:"brush",mode:S?"move":"resize"}))}function d(t,n,e){var r,i,a=On(n),o=a[0],c=a[1],l=k[e],f=s[1][e]-s[0][e];return S&&(o-=l,c-=f+l),r=Math.max(o,Math.min(c,t[e])),S?i=(r+=l)+f:(p&&(l=Math.max(o,Math.min(c,2*p[e]-r))),r>l?(i=r,r=l):i=l),s[0][e]!==r||s[1][e]!==i?(u=null,s[0][e]=r,s[1][e]=i,!0):void 0}function g(){h(),b.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),d3.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M({type:"brushend"}),R()}var p,m,v=this,y=d3.select(d3.event.target),M=a.of(v,arguments),b=d3.select(v),x=y.datum(),_=!/^(n|s)$/.test(x)&&o,w=!/^(e|w)$/.test(x)&&c,S=y.classed("extent"),k=i(),E=d3.select(window).on("mousemove.brush",h).on("mouseup.brush",g).on("touchmove.brush",h).on("touchend.brush",g).on("keydown.brush",l).on("keyup.brush",f);if(S){k[0]=s[0][0]-k[0],k[1]=s[0][1]-k[1]}else{if(x){var A=+/w$/.test(x),N=+/^n/.test(x);m=[s[1-A][0]-k[0],s[1-N][1]-k[1]],k[0]=s[A][0],k[1]=s[N][1]}else{d3.event.altKey&&(p=k.slice())}}b.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",y.style("cursor")),M({type:"brushstart"}),h(),R()}var u,a=j(t,"brushstart","brush","brushend"),o=null,c=null,l=$a[0],s=[[0,0],[0,0]];return t.x=function(n){return arguments.length?(o=n,l=$a[!o<<1|!c],t):o},t.y=function(n){return arguments.length?(c=n,l=$a[!o<<1|!c],t):c},t.extent=function(n){var e,r,i,a,l;return arguments.length?(u=[[0,0],[0,0]],o&&(e=n[0],r=n[1],c&&(e=e[0],r=r[0]),u[0][0]=e,u[1][0]=r,o.invert&&(e=o(e),r=o(r)),e>r&&(l=e,e=r,r=l),s[0][0]=0|e,s[1][0]=0|r),c&&(i=n[0],a=n[1],o&&(i=i[1],a=a[1]),u[0][1]=i,u[1][1]=a,c.invert&&(i=c(i),a=c(a)),i>a&&(l=i,i=a,a=l),s[0][1]=0|i,s[1][1]=0|a),t):(n=u||s,o&&(e=n[0][0],r=n[1][0],u||(e=s[0][0],r=s[1][0],o.invert&&(e=o.invert(e),r=o.invert(r)),e>r&&(l=e,e=r,r=l))),c&&(i=n[0][1],a=n[1][1],u||(i=s[0][1],a=s[1][1],c.invert&&(i=c.invert(i),a=c.invert(a)),i>a&&(l=i,i=a,a=l))),o&&c?[[e,i],[r,a]]:o?[e,r]:c&&[i,a])},t.clear=function(){return u=null,s[0][0]=s[0][1]=s[1][0]=s[1][1]=0,t},t.empty=function(){return o&&s[0][0]===s[1][0]||c&&s[0][1]===s[1][1]},d3.rebind(t,a,"on")};var Ba={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$a=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function t(){this.on("mousedown.drag",n).on("touchstart.drag",n)}function n(){function t(){var t=o.parentNode;return null!=s?d3.touches(t).filter(function(t){return t.identifier===s})[0]:d3.mouse(t)}function n(){if(!o.parentNode){return i()}var n=t(),e=n[0]-f[0],r=n[1]-f[1];h|=e|r,f=n,R(),c({type:"drag",x:n[0]+a[0],y:n[1]+a[1],dx:e,dy:r})}function i(){c({type:"dragend"}),h&&(R(),d3.event.target===l&&d.on("click.drag",u,!0)),d.on(null!=s?"touchmove.drag-"+s:"mousemove.drag",null).on(null!=s?"touchend.drag-"+s:"mouseup.drag",null)}function u(){R(),d.on("click.drag",null)}var a,o=this,c=e.of(o,arguments),l=d3.event.target,s=d3.event.touches?d3.event.changedTouches[0].identifier:null,f=t(),h=0,d=d3.select(window).on(null!=s?"touchmove.drag-"+s:"mousemove.drag",n).on(null!=s?"touchend.drag-"+s:"mouseup.drag",i,!0);r?(a=r.apply(o,arguments),a=[a.x-f[0],a.y-f[1]]):a=[0,0],null==s&&R(),c({type:"dragstart"})}var e=j(t,"drag","dragstart","dragend"),r=null;return t.origin=function(n){return arguments.length?(r=n,t):r},d3.rebind(t,e,"on")},d3.behavior.zoom=function(){function t(){this.on("mousedown.zoom",o).on("mousewheel.zoom",c).on("mousemove.zoom",l).on("DOMMouseScroll.zoom",c).on("dblclick.zoom",s).on("touchstart.zoom",f).on("touchmove.zoom",h).on("touchend.zoom",f)}function n(t){return[(t[0]-b[0])/x,(t[1]-b[1])/x]}function e(t){return[t[0]*x+b[0],t[1]*x+b[1]]}function r(t){x=Math.max(_[0],Math.min(_[1],t))}function i(t,n){n=e(n),b[0]+=t[0]-n[0],b[1]+=t[1]-n[1]}function u(){m&&m.domain(p.range().map(function(t){return(t-b[0])/x}).map(p.invert)),y&&y.domain(v.range().map(function(t){return(t-b[1])/x}).map(v.invert))}function a(t){u(),d3.event.preventDefault(),t({type:"zoom",scale:x,translate:b})}function o(){function t(){l=1,i(d3.mouse(u),f),a(o)}function e(){l&&R(),s.on("mousemove.zoom",null).on("mouseup.zoom",null),l&&d3.event.target===c&&s.on("click.zoom",r,!0)}function r(){R(),s.on("click.zoom",null)}var u=this,o=w.of(u,arguments),c=d3.event.target,l=0,s=d3.select(window).on("mousemove.zoom",t).on("mouseup.zoom",e),f=n(d3.mouse(u));window.focus(),R()}function c(){d||(d=n(d3.mouse(this))),r(Math.pow(2,0.002*Ve())*x),i(d3.mouse(this),d),a(w.of(this,arguments))}function l(){d=null}function s(){var t=d3.mouse(this),e=n(t),u=Math.log(x)/Math.LN2;r(Math.pow(2,d3.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),i(t,e),a(w.of(this,arguments))}function f(){var t=d3.touches(this),e=Date.now();if(g=x,d={},t.forEach(function(t){d[t.identifier]=n(t)}),R(),1===t.length){if(500>e-M){var u=t[0],o=n(t[0]);r(2*x),i(u,o),a(w.of(this,arguments))}M=e}}function h(){var t=d3.touches(this),n=t[0],e=d[n.identifier];if(u=t[1]){var u,o=d[u.identifier];n=[(n[0]+u[0])/2,(n[1]+u[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(d3.event.scale*g)}i(n,e),M=null,a(w.of(this,arguments))}var d,g,p,m,v,y,M,b=[0,0],x=1,_=Ga,w=j(t,"zoom");return t.translate=function(n){return arguments.length?(b=n.map(Number),u(),t):b},t.scale=function(n){return arguments.length?(x=+n,u(),t):x},t.scaleExtent=function(n){return arguments.length?(_=null==n?Ga:n.map(Number),t):_},t.x=function(n){return arguments.length?(m=n,p=n.copy(),b=[0,0],x=1,t):m},t.y=function(n){return arguments.length?(y=n,v=n.copy(),b=[0,0],x=1,t):y},d3.rebind(t,w,"on")};var Ja,Ga=[0,1/0];d3.layout={},d3.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;r>++e;){n.push(Xe(t[e]))}return n}},d3.layout.chord=function(){function t(){var t,l,f,h,d,g={},p=[],m=d3.range(u),v=[];for(e=[],r=[],t=0,h=-1;u>++h;){for(l=0,d=-1;u>++d;){l+=i[h][d]}p.push(l),v.push(d3.range(u)),t+=l}for(a&&m.sort(function(t,n){return a(p[t],p[n])}),o&&v.forEach(function(t,n){t.sort(function(t,e){return o(i[n][t],i[n][e])})}),t=(2*Ru-s*u)/t,l=0,h=-1;u>++h;){for(f=l,d=-1;u>++d;){var y=m[h],M=v[y][d],b=i[y][M],x=l,_=l+=b*t;g[y+"-"+M]={index:y,subindex:M,startAngle:x,endAngle:_,value:b}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/t},l+=s}for(h=-1;u>++h;){for(d=h-1;u>++d;){var w=g[h+"-"+d],S=g[d+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}}c&&n()}function n(){e.sort(function(t,n){return c((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,i,u,a,o,c,l={},s=0;return l.matrix=function(t){return arguments.length?(u=(i=t)&&i.length,e=r=null,l):i},l.padding=function(t){return arguments.length?(s=t,e=r=null,l):s},l.sortGroups=function(t){return arguments.length?(a=t,e=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(c=t,e&&n(),l):c},l.chords=function(){return e||t(),e},l.groups=function(){return r||t(),r},l},d3.layout.force=function(){function t(t){return function(n,e,r,i){if(n.point!==t){var u=n.cx-t.x,a=n.cy-t.y,o=1/Math.sqrt(u*u+a*a);if(v>(i-e)*o){var c=n.charge*o*o;return t.px-=u*c,t.py-=a*c,!0}if(n.point&&isFinite(o)){var c=n.pointCharge*o*o;t.px-=u*c,t.py-=a*c}}return !n.charge}}function n(t){t.px=d3.event.x,t.py=d3.event.y,l.resume()}var e,r,i,u,o,l={},s=d3.dispatch("start","tick","end"),f=[1,1],h=0.9,d=Qe,g=tr,p=-30,m=0.1,v=0.8,y=[],M=[];return l.tick=function(){if(0.005>(r*=0.99)){return s.end({type:"end",alpha:r=0}),!0}var n,e,a,c,l,d,g,v,b,x=y.length,_=M.length;for(e=0;_>e;++e){a=M[e],c=a.source,l=a.target,v=l.x-c.x,b=l.y-c.y,(d=v*v+b*b)&&(d=r*u[e]*((d=Math.sqrt(d))-i[e])/d,v*=d,b*=d,l.x-=v*(g=c.weight/(l.weight+c.weight)),l.y-=b*g,c.x+=v*(g=1-g),c.y+=b*g)}if((g=r*m)&&(v=f[0]/2,b=f[1]/2,e=-1,g)){for(;x>++e;){a=y[e],a.x+=(v-a.x)*g,a.y+=(b-a.y)*g}}if(p){for(We(n=d3.geom.quadtree(y),r,o),e=-1;x>++e;){(a=y[e]).fixed||n.visit(t(a))}}for(e=-1;x>++e;){a=y[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*h,a.y-=(a.py-(a.py=a.y))*h)}s.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(M=t,l):M},l.size=function(t){return arguments.length?(f=t,l):f},l.linkDistance=function(t){return arguments.length?(d=c(t),l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(g=c(t),l):g},l.friction=function(t){return arguments.length?(h=t,l):h},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.gravity=function(t){return arguments.length?(m=t,l):m},l.theta=function(t){return arguments.length?(v=t,l):v},l.alpha=function(t){return arguments.length?(r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),d3.timer(l.tick)),l):r},l.start=function(){function t(t,r){for(var i,u=n(e),a=-1,o=u.length;o>++a;){if(!isNaN(i=u[a][t])){return i}}return Math.random()*r}function n(){if(!a){for(a=[],r=0;s>r;++r){a[r]=[]}for(r=0;h>r;++r){var t=M[r];a[t.source.index].push(t.target),a[t.target.index].push(t.source)}}return a[e]}var e,r,a,c,s=y.length,h=M.length,m=f[0],v=f[1];for(e=0;s>e;++e){(c=y[e]).index=e,c.weight=0}for(i=[],u=[],e=0;h>e;++e){c=M[e],"number"==typeof c.source&&(c.source=y[c.source]),"number"==typeof c.target&&(c.target=y[c.target]),i[e]=d.call(this,c,e),u[e]=g.call(this,c,e),++c.source.weight,++c.target.weight}for(e=0;s>e;++e){c=y[e],isNaN(c.x)&&(c.x=t("x",m)),isNaN(c.y)&&(c.y=t("y",v)),isNaN(c.px)&&(c.px=c.x),isNaN(c.py)&&(c.py=c.y)}if(o=[],"function"==typeof p){for(e=0;s>e;++e){o[e]=+p.call(this,y[e],e)}}else{for(e=0;s>e;++e){o[e]=p}}return l.resume()},l.resume=function(){return l.alpha(0.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){e||(e=d3.behavior.drag().origin(a).on("dragstart",$e).on("drag",n).on("dragend",Je)),this.on("mouseover.force",Ge).on("mouseout.force",Ke).call(e)},d3.rebind(l,s,"on")},d3.layout.partition=function(){function t(n,e,r,i){var u=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,u&&(a=u.length)){var a,o,c,l=-1;for(r=n.value?r/n.value:0;a>++l;){t(o=u[l],e,c=o.value*r,i),e+=c}}}function n(t){var e=t.children,r=0;if(e&&(i=e.length)){for(var i,u=-1;i>++u;){r=Math.max(r,n(e[u]))}}return 1+r}function e(e,u){var a=r.call(this,e,u);return t(a[0],0,i[0],i[1]/n(a[0])),a}var r=d3.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},hr(e,r)},d3.layout.pie=function(){function t(u){var a=u.map(function(e,r){return +n.call(t,e,r)}),o=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof i?i.apply(this,arguments):i)-r)/d3.sum(a),l=d3.range(u.length);null!=e&&l.sort(e===Ka?function(t,n){return a[n]-a[t]}:function(t,n){return e(u[t],u[n])});var s=[];return l.forEach(function(t){var n;s[t]={data:u[t],value:n=a[t],startAngle:o,endAngle:o+=n*c}}),s}var n=Number,e=Ka,r=0,i=2*Ru;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(i=n,t):i},t};var Ka={};d3.layout.stack=function(){function t(a,c){var l=a.map(function(e,r){return n.call(t,e,r)}),s=l.map(function(n){return n.map(function(n,e){return[u.call(t,n,e),o.call(t,n,e)]})}),f=e.call(t,s,c);l=d3.permute(l,f),s=d3.permute(s,f);var h,d,g,p=r.call(t,s,c),m=l.length,v=l[0].length;for(d=0;v>d;++d){for(i.call(t,l[0][d],g=p[d],s[0][d][1]),h=1;m>h;++h){i.call(t,l[h][d],g+=s[h-1][d][1],s[h][d][1])}}return a}var n=a,e=ir,r=ur,i=rr,u=nr,o=er;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:Wa.get(n)||ir,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:Qa.get(n)||ur,t):r},t.x=function(n){return arguments.length?(u=n,t):u},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(i=n,t):i},t};var Wa=d3.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(ar),u=t.map(or),a=d3.range(r).sort(function(t,n){return i[t]-i[n]}),o=0,c=0,l=[],s=[];for(n=0;r>n;++n){e=a[n],c>o?(o+=u[e],l.push(e)):(c+=u[e],s.push(e))}return s.reverse().concat(l)},reverse:function(t){return d3.range(t.length).reverse()},"default":ir}),Qa=d3.map({silhouette:function(t){var n,e,r,i=t.length,u=t[0].length,a=[],o=0,c=[];for(e=0;u>e;++e){for(n=0,r=0;i>n;n++){r+=t[n][e][1]}r>o&&(o=r),a.push(r)}for(e=0;u>e;++e){c[e]=(o-a[e])/2}return c},wiggle:function(t){var n,e,r,i,u,a,o,c,l,s=t.length,f=t[0],h=f.length,d=[];for(d[0]=c=l=0,e=1;h>e;++e){for(n=0,i=0;s>n;++n){i+=t[n][e][1]}for(n=0,u=0,o=f[e][0]-f[e-1][0];s>n;++n){for(r=0,a=(t[n][e][1]-t[n][e-1][1])/(2*o);n>r;++r){a+=(t[r][e][1]-t[r][e-1][1])/o}u+=a*t[n][e][1]}d[e]=c-=i?u/i*o:0,l>c&&(l=c)}for(e=0;h>e;++e){d[e]-=l}return d},expand:function(t){var n,e,r,i=t.length,u=t[0].length,a=1/i,o=[];for(e=0;u>e;++e){for(n=0,r=0;i>n;n++){r+=t[n][e][1]}if(r){for(n=0;i>n;n++){t[n][e][1]/=r}}else{for(n=0;i>n;n++){t[n][e][1]=a}}}for(e=0;u>e;++e){o[e]=0}return o},zero:ur});d3.layout.histogram=function(){function t(t,u){for(var a,o,c=[],l=t.map(e,this),s=r.call(this,l,u),f=i.call(this,s,l,u),u=-1,h=l.length,d=f.length-1,g=n?1:1/h;d>++u;){a=c[u]=[],a.dx=f[u+1]-(a.x=f[u]),a.y=0}if(d>0){for(u=-1;h>++u;){o=l[u],o>=s[0]&&s[1]>=o&&(a=c[d3.bisect(f,o,1,d)-1],a.y+=g,a.push(t[u]))}}return c}var n=!0,e=Number,r=fr,i=lr;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=c(n),t):r},t.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return sr(t,n)}:c(n),t):i},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},d3.layout.hierarchy=function(){function t(n,a,o){var c=i.call(e,n,a);if(n.depth=a,o.push(n),c&&(l=c.length)){for(var l,s,f=-1,h=n.children=[],d=0,g=a+1;l>++f;){s=t(c[f],g,o),s.parent=n,h.push(s),d+=s.value}r&&h.sort(r),u&&(n.value=d)}else{u&&(n.value=+u.call(e,n,a)||0)}return n}function n(t,r){var i=t.children,a=0;if(i&&(o=i.length)){for(var o,c=-1,l=r+1;o>++c;){a+=n(i[c],l)}}else{u&&(a=+u.call(e,t,r)||0)}return u&&(t.value=a),a}function e(n){var e=[];return t(n,0,e),e}var r=pr,i=dr,u=gr;return e.sort=function(t){return arguments.length?(r=t,e):r},e.children=function(t){return arguments.length?(i=t,e):i},e.value=function(t){return arguments.length?(u=t,e):u},e.revalue=function(t){return n(t,0),t},e},d3.layout.pack=function(){function t(t,i){var u=n.call(this,t,i),a=u[0];a.x=0,a.y=0,Rr(a,function(t){t.r=Math.sqrt(t.value)}),Rr(a,xr);var o=r[0],c=r[1],l=Math.max(2*a.r/o,2*a.r/c);if(e>0){var s=e*l/2;Rr(a,function(t){t.r+=s}),Rr(a,xr),Rr(a,function(t){t.r-=s}),l=Math.max(2*a.r/o,2*a.r/c)}return Sr(a,o/2,c/2,1/l),u}var n=d3.layout.hierarchy().sort(vr),e=0,r=[1,1];return t.size=function(n){return arguments.length?(r=n,t):r},t.padding=function(n){return arguments.length?(e=+n,t):e},hr(t,n)},d3.layout.cluster=function(){function t(t,i){var u,a=n.call(this,t,i),o=a[0],c=0;Rr(o,function(t){var n=t.children;n&&n.length?(t.x=Ar(n),t.y=Er(n)):(t.x=u?c+=e(t,u):0,t.y=0,u=t)});var l=Nr(o),s=Tr(o),f=l.x-e(l,s)/2,h=s.x+e(s,l)/2;return Rr(o,function(t){t.x=(t.x-f)/(h-f)*r[0],t.y=(1-(o.y?t.y/o.y:1))*r[1]}),a}var n=d3.layout.hierarchy().sort(null).value(null),e=qr,r=[1,1];return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(r=n,t):r},hr(t,n)},d3.layout.tree=function(){function t(t,i){function u(t,n){var r=t.children,i=t._tree;if(r&&(a=r.length)){for(var a,c,l,s=r[0],f=s,h=-1;a>++h;){l=r[h],u(l,c),f=o(l,c,f),c=l}Pr(t);var d=0.5*(s._tree.prelim+l._tree.prelim);n?(i.prelim=n._tree.prelim+e(t,n),i.mod=i.prelim-d):i.prelim=d}else{n&&(i.prelim=n._tree.prelim+e(t,n))}}function a(t,n){t.x=t._tree.prelim+n;var e=t.children;if(e&&(r=e.length)){var r,i=-1;for(n+=t._tree.mod;r>++i;){a(e[i],n)}}}function o(t,n,r){if(n){for(var i,u=t,a=t,o=n,c=t.parent.children[0],l=u._tree.mod,s=a._tree.mod,f=o._tree.mod,h=c._tree.mod;o=zr(o),u=Cr(u),o&&u;){c=Cr(c),a=zr(a),a._tree.ancestor=t,i=o._tree.prelim+f-u._tree.prelim-l+e(o,u),i>0&&(jr(Or(o,t,r),t,i),l+=i,s+=i),f+=o._tree.mod,l+=u._tree.mod,h+=c._tree.mod,s+=a._tree.mod}o&&!zr(a)&&(a._tree.thread=o,a._tree.mod+=f-s),u&&!Cr(c)&&(c._tree.thread=u,c._tree.mod+=l-h,r=t)}return r}var c=n.call(this,t,i),l=c[0];Rr(l,function(t,n){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:n?n._tree.number+1:0}}),u(l),a(l,-l._tree.prelim);var s=Dr(l,Fr),f=Dr(l,Lr),h=Dr(l,Hr),d=s.x-e(s,f)/2,g=f.x+e(f,s)/2,p=h.depth||1;return Rr(l,function(t){t.x=(t.x-d)/(g-d)*r[0],t.y=t.depth/p*r[1],delete t._tree}),c}var n=d3.layout.hierarchy().sort(null).value(null),e=qr,r=[1,1];return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(r=n,t):r},hr(t,n)},d3.layout.treemap=function(){function t(t,n){for(var e,r,i=-1,u=t.length;u>++i;){r=(e=t[i]).value*(0>n?0:n),e.area=isNaN(r)||0>=r?0:r}}function n(e){var u=e.children;if(u&&u.length){var a,o,c,l=f(e),s=[],h=u.slice(),g=1/0,p="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;){s.push(a=h[c-1]),s.area+=a.area,"squarify"!==d||g>=(o=r(s,p))?(h.pop(),g=o):(s.area-=s.pop().area,i(s,p,l,!1),p=Math.min(l.dx,l.dy),s.length=s.area=0,g=1/0)}s.length&&(i(s,p,l,!0),s.length=s.area=0),u.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var u,a=f(n),o=r.slice(),c=[];for(t(o,a.dx*a.dy/n.value),c.area=0;u=o.pop();){c.push(u),c.area+=u.area,null!=u.z&&(i(c,u.z?a.dx:a.dy,a,!o.length),c.length=c.area=0)}r.forEach(e)}}function r(t,n){for(var e,r=t.area,i=0,u=1/0,a=-1,o=t.length;o>++a;){(e=t[a].area)&&(u>e&&(u=e),e>i&&(i=e))}return r*=r,n*=n,r?Math.max(n*i*g/r,r/(n*u*g)):1/0}function i(t,n,e,r){var i,u=-1,a=t.length,o=e.x,l=e.y,s=n?c(t.area/n):0;if(n==e.dx){for((r||s>e.dy)&&(s=e.dy);a>++u;){i=t[u],i.x=o,i.y=l,i.dy=s,o+=i.dx=Math.min(e.x+e.dx-o,s?c(i.area/s):0)}i.z=!0,i.dx+=e.x+e.dx-o,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);a>++u;){i=t[u],i.x=o,i.y=l,i.dx=s,l+=i.dy=Math.min(e.y+e.dy-l,s?c(i.area/s):0)}i.z=!1,i.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function u(r){var i=a||o(r),u=i[0];return u.x=0,u.y=0,u.dx=l[0],u.dy=l[1],a&&o.revalue(u),t([u],u.dx*u.dy/u.value),(a?e:n)(u),h&&(a=i),i}var a,o=d3.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Yr,h=!1,d="squarify",g=0.5*(1+Math.sqrt(5));return u.size=function(t){return arguments.length?(l=t,u):l},u.padding=function(t){function n(n){var e=t.call(u,n,n.depth);return null==e?Yr(n):Ur(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return Ur(n,t)}if(!arguments.length){return s}var r;return f=null==(s=t)?Yr:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,u},u.round=function(t){return arguments.length?(c=t?Math.round:Number,u):c!=Number},u.sticky=function(t){return arguments.length?(h=t,a=null,u):h},u.ratio=function(t){return arguments.length?(g=t,u):g},u.mode=function(t){return arguments.length?(d=t+"",u):d},hr(u,o)},d3.csv=Ir(",","text/csv"),d3.tsv=Ir("	","text/tab-separated-values"),d3.geo={},d3.geo.stream=function(t,n){to.hasOwnProperty(t.type)?to[t.type](t,n):Vr(t,n)};var to={Feature:function(t,n){Vr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;i>++r;){Vr(e[r].geometry,n)}}},no={Sphere:function(t,n){n.sphere()},Point:function(t,n){var e=t.coordinates;n.point(e[0],e[1])},MultiPoint:function(t,n){for(var e,r=t.coordinates,i=-1,u=r.length;u>++i;){e=r[i],n.point(e[0],e[1])}},LineString:function(t,n){Xr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;i>++r;){Xr(e[r],n,0)}},Polygon:function(t,n){Zr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;i>++r;){Zr(e[r],n)}},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;i>++r;){Vr(e[r],n)}}};d3.geo.albersUsa=function(){function t(t){return n(t)(t)}function n(t){var n=t[0],a=t[1];return a>50?r:-140>n?i:21>a?u:e}var e=d3.geo.albers(),r=d3.geo.albers().rotate([160,0]).center([0,60]).parallels([55,65]),i=d3.geo.albers().rotate([160,0]).center([0,20]).parallels([8,18]),u=d3.geo.albers().rotate([60,0]).center([0,10]).parallels([8,18]);return t.scale=function(n){return arguments.length?(e.scale(n),r.scale(0.6*n),i.scale(n),u.scale(1.5*n),t.translate(e.translate())):e.scale()},t.translate=function(n){if(!arguments.length){return e.translate()}var a=e.scale(),o=n[0],c=n[1];return e.translate(n),r.translate([o-0.4*a,c+0.17*a]),i.translate([o-0.19*a,c+0.2*a]),u.translate([o+0.58*a,c+0.43*a]),t},t.scale(e.scale())},(d3.geo.albers=function(){var t=29.5*ju,n=45.5*ju,e=Pi(ei),r=e(t,n);return r.parallels=function(r){return arguments.length?e(t=r[0]*ju,n=r[1]*ju):[t*Ou,n*Ou]},r.rotate([98,0]).center([0,38]).scale(1000)}).raw=ei;var eo=Vi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(d3.geo.azimuthalEqualArea=function(){return Ri(eo)}).raw=eo;var ro=Vi(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},a);(d3.geo.azimuthalEquidistant=function(){return Ri(ro)}).raw=ro,d3.geo.bounds=ri(a),d3.geo.centroid=function(t){io=uo=ao=oo=co=0,d3.geo.stream(t,lo);var n;return uo&&Math.abs(n=Math.sqrt(ao*ao+oo*oo+co*co))>Pu?[Math.atan2(oo,ao)*Ou,Math.asin(Math.max(-1,Math.min(1,co/n)))*Ou]:void 0};var io,uo,ao,oo,co,lo={sphere:function(){2>io&&(io=2,uo=ao=oo=co=0)},point:ii,lineStart:ai,lineEnd:oi,polygonStart:function(){2>io&&(io=2,uo=ao=oo=co=0),lo.lineStart=ui},polygonEnd:function(){lo.lineStart=ai}};d3.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=Oi(-t[0]*ju,-t[1]*ju,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Ou,t[1]*=Ou}}),{type:"Polygon",coordinates:[i]}}var n,e,r=[0,0],i=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=ci((n=+r)*ju,i*ju),t):n},t.precision=function(r){return arguments.length?(e=ci(n*ju,(i=+r)*ju),t):i},t.angle(90)};var so=si(o,vi,Mi);(d3.geo.equirectangular=function(){return Ri(_i).scale(250/Ru)}).raw=_i.invert=_i;var fo=Vi(function(t){return 1/t},Math.atan);(d3.geo.gnomonic=function(){return Ri(fo)}).raw=fo,d3.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return d3.range(Math.ceil(r/c)*c,e,c).map(a).concat(d3.range(Math.ceil(u/l)*l,i,l).map(o))}var e,r,i,u,a,o,c=22.5,l=c,s=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[a(r).concat(o(i).slice(1),a(e).reverse().slice(1),o(u).reverse().slice(1))]}},t.extent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],u=+n[0][1],i=+n[1][1],r>e&&(n=r,r=e,e=n),u>i&&(n=u,u=i,i=n),t.precision(s)):[[r,u],[e,i]]},t.step=function(n){return arguments.length?(c=+n[0],l=+n[1],t):[c,l]},t.precision=function(n){return arguments.length?(s=+n,a=wi(u,i,s),o=Si(r,e,s),t):s},t.extent([[-180+Pu,-90+Pu],[180-Pu,90-Pu]])},d3.geo.interpolate=function(t,n){return ki(t[0]*ju,t[1]*ju,n[0]*ju,n[1]*ju)},d3.geo.greatArc=function(){function e(){for(var t=r||a.apply(this,arguments),n=i||o.apply(this,arguments),e=u||d3.geo.interpolate(t,n),l=0,s=c/e.distance,f=[t];1>(l+=s);){f.push(e(l))}return f.push(n),{type:"LineString",coordinates:f}}var r,i,u,a=n,o=t,c=6*ju;return e.distance=function(){return(u||d3.geo.interpolate(r||a.apply(this,arguments),i||o.apply(this,arguments))).distance},e.source=function(t){return arguments.length?(a=t,r="function"==typeof t?null:t,u=r&&i?d3.geo.interpolate(r,i):null,e):a},e.target=function(t){return arguments.length?(o=t,i="function"==typeof t?null:t,u=r&&i?d3.geo.interpolate(r,i):null,e):o},e.precision=function(t){return arguments.length?(c=t*ju,e):c/ju},e},Ei.invert=function(t,n){return[2*Ru*t,2*Math.atan(Math.exp(2*Ru*n))-Ru/2]},(d3.geo.mercator=function(){return Ri(Ei).scale(500)}).raw=Ei;var ho=Vi(function(){return 1},Math.asin);(d3.geo.orthographic=function(){return Ri(ho)}).raw=ho,d3.geo.path=function(){function t(t){return t&&d3.geo.stream(t,r(i.pointRadius("function"==typeof u?+u.apply(this,arguments):u))),i.result()}var n,e,r,i,u=4.5;return t.area=function(t){return go=0,d3.geo.stream(t,r(mo)),go},t.centroid=function(t){return io=ao=oo=co=0,d3.geo.stream(t,r(vo)),co?[ao/co,oo/co]:void 0},t.bounds=function(t){return ri(r)(t)},t.projection=function(e){return arguments.length?(r=(n=e)?e.stream||Ni(e):a,t):n},t.context=function(n){return arguments.length?(i=null==(e=n)?new Ti:new qi(n),t):e},t.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:+n,t):u},t.projection(d3.geo.albersUsa()).context(null)};var go,po,mo={point:Pn,lineStart:Pn,lineEnd:Pn,polygonStart:function(){po=0,mo.lineStart=Ci},polygonEnd:function(){mo.lineStart=mo.lineEnd=mo.point=Pn,go+=Math.abs(po/2)}},vo={point:zi,lineStart:Di,lineEnd:Li,polygonStart:function(){vo.lineStart=Fi},polygonEnd:function(){vo.point=zi,vo.lineStart=Di,vo.lineEnd=Li}};d3.geo.area=function(t){return yo=0,d3.geo.stream(t,bo),yo};var yo,Mo,bo={sphere:function(){yo+=4*Ru},point:Pn,lineStart:Pn,lineEnd:Pn,polygonStart:function(){Mo=0,bo.lineStart=Hi},polygonEnd:function(){yo+=0>Mo?4*Ru+Mo:Mo,bo.lineStart=bo.lineEnd=bo.point=Pn}};d3.geo.projection=Ri,d3.geo.projectionMutator=Pi;var xo=Vi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(d3.geo.stereographic=function(){return Ri(xo)}).raw=xo,d3.geom={},d3.geom.hull=function(t){if(3>t.length){return[]}var n,e,r,i,u,a,o,c,l,s,f=t.length,h=f-1,d=[],g=[],p=0;for(n=1;f>n;++n){t[n][1]<t[p][1]?p=n:t[n][1]==t[p][1]&&(p=t[n][0]<t[p][0]?n:p)}for(n=0;f>n;++n){n!==p&&(i=t[n][1]-t[p][1],r=t[n][0]-t[p][0],d.push({angle:Math.atan2(i,r),index:n}))}for(d.sort(function(t,n){return t.angle-n.angle}),l=d[0].angle,c=d[0].index,o=0,n=1;h>n;++n){e=d[n].index,l==d[n].angle?(r=t[c][0]-t[p][0],i=t[c][1]-t[p][1],u=t[e][0]-t[p][0],a=t[e][1]-t[p][1],r*r+i*i>=u*u+a*a?d[n].index=-1:(d[o].index=-1,l=d[n].angle,o=n,c=e)):(l=d[n].angle,o=n,c=e)}for(g.push(p),n=0,e=0;2>n;++e){-1!==d[e].index&&(g.push(d[e].index),n++)}for(s=g.length;h>e;++e){if(-1!==d[e].index){for(;!Xi(g[s-2],g[s-1],d[e].index,t);){--s}g[s++]=d[e].index}}var m=[];for(n=0;s>n;++n){m.push(t[g[n]])}return m},d3.geom.polygon=function(t){return t.area=function(){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];e>++n;){r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1]}return 0.5*r},t.centroid=function(n){var e,r,i=-1,u=t.length,a=0,o=0,c=t[u-1];for(arguments.length||(n=-1/(6*t.area()));u>++i;){e=c,c=t[i],r=e[0]*c[1]-c[0]*e[1],a+=(e[0]+c[0])*r,o+=(e[1]+c[1])*r}return[a*n,o*n]},t.clip=function(n){for(var e,r,i,u,a,o,c=-1,l=t.length,s=t[l-1];l>++c;){for(e=n.slice(),n.length=0,u=t[c],a=e[(i=e.length)-1],r=-1;i>++r;){o=e[r],Zi(o,s,u)?(Zi(a,s,u)||n.push(Bi(a,o,s,u)),n.push(o)):Zi(a,s,u)&&n.push(Bi(a,o,s,u)),a=o}s=u}return n},t},d3.geom.voronoi=function(t){var n=t.map(function(){return[]}),e=1000000;return $i(t,function(t){var r,i,u,a,o,c;1===t.a&&t.b>=0?(r=t.ep.r,i=t.ep.l):(r=t.ep.l,i=t.ep.r),1===t.a?(o=r?r.y:-e,u=t.c-t.b*o,c=i?i.y:e,a=t.c-t.b*c):(u=r?r.x:-e,o=t.c-t.a*u,a=i?i.x:e,c=t.c-t.a*a);var l=[u,o],s=[a,c];n[t.region.l.index].push(l,s),n[t.region.r.index].push(l,s)}),n=n.map(function(n,e){var r=t[e][0],i=t[e][1],u=n.map(function(t){return Math.atan2(t[0]-r,t[1]-i)});return d3.range(n.length).sort(function(t,n){return u[t]-u[n]}).filter(function(t,n,e){return !n||u[t]-u[e[n-1]]>Pu}).map(function(t){return n[t]})}),n.forEach(function(n,r){var i=n.length;if(!i){return n.push([-e,-e],[-e,e],[e,e],[e,-e])}if(!(i>2)){var u=t[r],a=n[0],o=n[1],c=u[0],l=u[1],s=a[0],f=a[1],h=o[0],d=o[1],g=Math.abs(h-s),p=d-f;if(Pu>Math.abs(p)){var m=f>l?-e:e;n.push([-e,m],[e,m])}else{if(Pu>g){var v=s>c?-e:e;n.push([v,-e],[v,e])}else{var m=(s-c)*(d-f)>(h-s)*(f-l)?e:-e,y=Math.abs(p)-g;Pu>Math.abs(y)?n.push([0>p?m:-m,m]):(y>0&&(m*=-1),n.push([-e,m],[e,m]))}}}}),n};var _o={l:"r",r:"l"};d3.geom.delaunay=function(t){var n=t.map(function(){return[]}),e=[];return $i(t,function(e){n[e.region.l.index].push(t[e.region.r.index])}),n.forEach(function(n,r){var i=t[r],u=i[0],a=i[1];n.forEach(function(t){t.angle=Math.atan2(t[0]-u,t[1]-a)}),n.sort(function(t,n){return t.angle-n.angle});for(var o=0,c=n.length-1;c>o;o++){e.push([i,n[o],n[o+1]])}}),e},d3.geom.quadtree=function(t,n,e,r,i){function u(t,n,e,r,i,u){if(!isNaN(n.x)&&!isNaN(n.y)){if(t.leaf){var o=t.point;o?0.01>Math.abs(o.x-n.x)+Math.abs(o.y-n.y)?a(t,n,e,r,i,u):(t.point=null,a(t,o,e,r,i,u),a(t,n,e,r,i,u)):t.point=n}else{a(t,n,e,r,i,u)}}}function a(t,n,e,r,i,a){var o=0.5*(e+i),c=0.5*(r+a),l=n.x>=o,s=n.y>=c,f=(s<<1)+l;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=Ji()),l?e=o:i=o,s?r=c:a=c,u(t,n,e,r,i,a)}var o,c=-1,l=t.length;if(5>arguments.length){if(3===arguments.length){i=e,r=n,e=n=0}else{for(n=e=1/0,r=i=-1/0;l>++c;){o=t[c],n>o.x&&(n=o.x),e>o.y&&(e=o.y),o.x>r&&(r=o.x),o.y>i&&(i=o.y)}}}var s=r-n,f=i-e;s>f?i=e+s:r=n+f;var h=Ji();return h.add=function(t){u(h,t,n,e,r,i)},h.visit=function(t){Gi(t,h,n,e,r,i)},t.forEach(h.add),h},d3.time={};var wo=Date,So=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Ki.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ko.setUTCDate.apply(this._,arguments)},setDay:function(){ko.setUTCDay.apply(this._,arguments)},setFullYear:function(){ko.setUTCFullYear.apply(this._,arguments)},setHours:function(){ko.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ko.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ko.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ko.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ko.setUTCSeconds.apply(this._,arguments)},setTime:function(){ko.setTime.apply(this._,arguments)}};var ko=Date.prototype,Eo="%a %b %e %X %Y",Ao="%m/%d/%Y",No="%H:%M:%S",To=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],qo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Co=["January","February","March","April","May","June","July","August","September","October","November","December"],zo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];d3.time.format=function(t){function n(n){for(var r,i,u,a=[],o=-1,c=0;e>++o;){37===t.charCodeAt(o)&&(a.push(t.substring(c,o)),null!=(i=jo[r=t.charAt(++o)])&&(r=t.charAt(++o)),(u=Oo[r])&&(r=u(n,null==i?"e"===r?" ":"0":i)),a.push(r),c=o+1)}return a.push(t.substring(c,o)),a.join("")}var e=t.length;return n.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=Wi(e,t,n,0);if(r!=n.length){return null}"p" in e&&(e.H=e.H%12+12*e.p);var i=new wo;return i.setFullYear(e.y,e.m,e.d),i.setHours(e.H,e.M,e.S,e.L),i},n.toString=function(){return t},n};var Do=Qi(To),Lo=Qi(qo),Fo=Qi(Co),Ho=tu(Co),Ro=Qi(zo),Po=tu(zo),jo={"-":"",_:" ",0:"0"},Oo={a:function(t){return qo[t.getDay()]},A:function(t){return To[t.getDay()]},b:function(t){return zo[t.getMonth()]},B:function(t){return Co[t.getMonth()]},c:d3.time.format(Eo),d:function(t,n){return nu(t.getDate(),n,2)},e:function(t,n){return nu(t.getDate(),n,2)},H:function(t,n){return nu(t.getHours(),n,2)},I:function(t,n){return nu(t.getHours()%12||12,n,2)},j:function(t,n){return nu(1+d3.time.dayOfYear(t),n,3)},L:function(t,n){return nu(t.getMilliseconds(),n,3)},m:function(t,n){return nu(t.getMonth()+1,n,2)},M:function(t,n){return nu(t.getMinutes(),n,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,n){return nu(t.getSeconds(),n,2)},U:function(t,n){return nu(d3.time.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return nu(d3.time.mondayOfYear(t),n,2)},x:d3.time.format(Ao),X:d3.time.format(No),y:function(t,n){return nu(t.getFullYear()%100,n,2)},Y:function(t,n){return nu(t.getFullYear()%10000,n,4)},Z:Mu,"%":function(){return"%"}},Yo={a:eu,A:ru,b:iu,B:uu,c:au,d:du,e:du,H:gu,I:gu,L:vu,m:hu,M:pu,p:yu,S:mu,x:ou,X:cu,y:su,Y:lu},Uo=/^\s*\d+/,Io=d3.map({am:0,pm:1});d3.time.format.utc=function(t){function n(t){try{wo=Ki;var n=new wo;return n._=t,e(n)}finally{wo=Date}}var e=d3.time.format(t);return n.parse=function(t){try{wo=Ki;var n=e.parse(t);return n&&n._}finally{wo=Date}},n.toString=e.toString,n};var Vo=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?bu:Vo,bu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},bu.toString=Vo.toString,d3.time.second=xu(function(t){return new wo(1000*Math.floor(t/1000))},function(t,n){t.setTime(t.getTime()+1000*Math.floor(n))},function(t){return t.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=xu(function(t){return new wo(60000*Math.floor(t/60000))},function(t,n){t.setTime(t.getTime()+60000*Math.floor(n))},function(t){return t.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=xu(function(t){var n=t.getTimezoneOffset()/60;return new wo(3600000*(Math.floor(t/3600000-n)+n))},function(t,n){t.setTime(t.getTime()+3600000*Math.floor(n))},function(t){return t.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=xu(function(t){var n=new wo(1970,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(t){var n=d3.time.year(t);return Math.floor((t-n-60000*(t.getTimezoneOffset()-n.getTimezoneOffset()))/86400000)},So.forEach(function(t,n){t=t.toLowerCase(),n=7-n;var e=d3.time[t]=xu(function(t){return(t=d3.time.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});d3.time[t+"s"]=e.range,d3.time[t+"s"].utc=e.utc.range,d3.time[t+"OfYear"]=function(t){var e=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(e+n)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=xu(function(t){return t=d3.time.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=xu(function(t){return t=d3.time.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var Xo=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],Zo=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],Bo=[[d3.time.format("%Y"),o],[d3.time.format("%B"),function(t){return t.getMonth()}],[d3.time.format("%b %d"),function(t){return 1!=t.getDate()}],[d3.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[d3.time.format("%I %p"),function(t){return t.getHours()}],[d3.time.format("%I:%M"),function(t){return t.getMinutes()}],[d3.time.format(":%S"),function(t){return t.getSeconds()}],[d3.time.format(".%L"),function(t){return t.getMilliseconds()}]],$o=d3.scale.linear(),Jo=Eu(Bo);Zo.year=function(t,n){return $o.domain(t.map(Nu)).ticks(n).map(Au)},d3.time.scale=function(){return wu(d3.scale.linear(),Zo,Jo)};var Go=Zo.map(function(t){return[t[0].utc,t[1]]}),Ko=[[d3.time.format.utc("%Y"),o],[d3.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[d3.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[d3.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]],Wo=Eu(Ko);Go.year=function(t,n){return $o.domain(t.map(qu)).ticks(n).map(Tu)},d3.time.scale.utc=function(){return wu(d3.scale.linear(),Go,Wo)}})();(function(){var postSocialData;postSocialData=function(network){var form;network=network.match(/^(.*)-submit$/)[1];form=$("#social-media-form");return $.ajax({type:"post",url:form.data("social_track"),data:{network:network}})};window.fbAsyncInit=function(){FB.init({appId:$("meta[property=fb:app_id]").attr("content"),status:true,cookie:true});return $("#facebook-submit").click(function(event){var button,options;button=$(this);options={method:"feed",link:$("#social-media-form").data("url"),picture:button.data("picture"),redirect_uri:button.data("redirect")};FB.ui(options);postSocialData(button.attr("id"));return event.preventDefault()})};$(function(){$("#referral-form").submit(function(event){if($.trim($("#invite_list").val())){$("#email-submit").attr("disabled","disabled");return $("#spinner").waitSpinner()}else{return event.preventDefault()}});$("#invite-container").click(function(){return $("#flash").hide()});$("#twitter-submit").click(function(event){var button,options;button=$(this);options={url:$("#social-media-form").data("url"),text:button.data("text"),counturl:button.data("counturl")};window.open("https://twitter.com/share?"+($.param(options)),"_blank","width=640,height=480");postSocialData(button.attr("id"));return event.preventDefault()});$("#facebook-submit").click(function(event){return event.preventDefault()});return $("#linkedin-submit").click(function(event){var options;options={url:$("#social-media-form").data("url")};window.open("https://www.linkedin.com/cws/share?"+($.param(options)),"_blank","width=600,height=323");postSocialData($(this).attr("id"));return event.preventDefault()})})}).call(this);(function(){var MfaHandler;MfaHandler=(function(){function MfaHandler(_container){this._container=_container;this._url=this._container.data("url");this._trigger=$(".mfa_handler_trigger");this._triggerLabel=this._trigger.text();this._triggerLoadingLabel=this._trigger.data("loading-text");this._bindOnClick()}MfaHandler.prototype._bindOnClick=function(){var _this=this;return this._trigger.click(function(event){_this._trigger.text(_this._triggerLoadingLabel);$.ajax({url:_this._url,type:"POST",success:function(data){return _this._handleSuccess(data)},failure:function(data){return _this._handleFailure(data)}});return event.preventDefault()})};MfaHandler.prototype._handleSuccess=function(data){$("<img />").attr("src",data.google_qr_uri).appendTo(this._container);$("<p />").text(data.google_label).appendTo(this._container);$("<p />").text(data.google_mfa_token).appendTo(this._container);return this._trigger.hide()};MfaHandler.prototype._handleFailure=function(data){return this._trigger.text(this._triggerLabel)};return MfaHandler})();$(function(){jQuery.fn.initializeMfaHandler=function(){return new MfaHandler(this)};return $(".mfa_handler").each(function(){return $(this).initializeMfaHandler()})})}).call(this);window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){f[z]=function(){(a.s=a.s||[]).push(arguments)};var a=f[z]._={},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={0:+new Date};a.P=function(u){a.p[u]=new Date-a.p[0]};function s(){a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){hd="head";return["<",hd,"></",hd,"><",i,' onload="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{b.contentWindow[g].open()}catch(w){c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{var t=b.contentWindow[g];t.write(p());t.close()}catch(x){b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});$(function(){olark("api.box.hide");olark.identify("5602-738-10-5804");olark("api.chat.onBeginConversation",function(){var properties={page:window.location.pathname};FutureAdvisor.Tracking.ServerSide.trackEvent("chat",properties)})});(function(){}).call(this);
/*! jQuery UI - v1.9.2 - 2012-11-26
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t){if(e.style[n]!==undefined){return t[n]}}}();return e&&{end:e}}()})}(window.jQuery),!function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented()){return}i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0){return}return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u](),f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active")){return}this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented()){return}i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented()){return}r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.defaults={interval:5000,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle(),t.preventDefault()})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in")){return}t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning){return}r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in")){return}t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented()){return}this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length){r=t.parent()}return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled")){return}return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(n){var r,s,o,u,a,f;if(!/(38|40|27)/.test(n.keyCode)){return}r=e(this),n.preventDefault(),n.stopPropagation();if(r.is(".disabled, :disabled")){return}u=i(r),a=u.hasClass("open");if(!a||a&&n.keyCode==27){return n.which==27&&u.find(t).focus(),r.click()}s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length){return}f=s.index(s.filter(":focus")),n.keyCode==38&&f>0&&f--,n.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented()){return}this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented()){return}this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t){return}i?this.$backdrop.one(e.support.transition.end,t):t()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;){u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)))}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e.fn[this.type].defaults,r={},i;this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type);if(!i.options.delay||!i.options.delay.show){return i.show()}clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide){return n.hide()}n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented()){return}t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function i(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip(),r=e.Event("hide");this.$element.trigger(r);if(r.isDefaultPrevented()){return}return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n){return s!=(o=i.last()[0])&&this.activate(o)}for(o=r.length;o--;){s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])}},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active")){return}i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented()){return}s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return ~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift()){i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i)}return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown){return}switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat){return}this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead")){return}n.typeahead(n.data())})}(window.jQuery),!function(e){var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a){return}this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);(function(){}).call(this);(function(){var COLOR_HASH,D3_MONTE_CARLO_DATA,D3_RISK_DATA,MONTE_CARLO_DATA,RISK_DATA,SUBCLASS_DATA,i,subClassDataGenerator,year;RISK_DATA={conservative_data:[29,30,31,32,33,34,35,37,38,40,41,43,45,47,49,51,53,56,58,61,63,65,67,69,71,72,73,74,75,76,77,78,79,79,80,80,80,80,80,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81],aggressive_data:[61,63,65,67,69,70,72,74,76,78,80,81,83,84,86,87,88,89,90,91,91,91,91,91,92,92,92,92,92,92,92,92,92,92,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93],moderate_data:[45,46,48,49,51,52,54,56,58,60,62,64,66,68,71,73,75,77,79,81,82,83,84,85,86,86,86,87,87,88,88,88,88,88,88,88,88,88,88,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89],dates:[2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096]};window.RISK_DATA=RISK_DATA;subClassDataGenerator=function(){var domesticFactor,emergingFactor,foreignFactor,reitFactor;domesticFactor=0.3/0.7;foreignFactor=0.1725/0.7;emergingFactor=0.1225/0.7;reitFactor=0.105/0.7;return[{type:"domesticTotal",ratio:domesticFactor*0.4,parent:"stocks",subParent:"domestic",name:"Domestic Total"},{type:"domesticSmall",ratio:domesticFactor*0.2,parent:"stocks",subParent:"domestic",name:"Domestic Small Cap"},{type:"domesticValue",ratio:domesticFactor*0.4,parent:"stocks",subParent:"domestic",name:"Domestic Value"},{type:"foreignTotal",ratio:foreignFactor*0.4,parent:"stocks",subParent:"foreign",name:"Foreign Total"},{type:"foreignSmall",ratio:0.2*foreignFactor,parent:"stocks",subParent:"foreign",name:"Foreign Small Cap"},{type:"foreignValue",ratio:0.4*foreignFactor,parent:"stocks",subParent:"foreign",name:"Foreign Value"},{type:"emerging",ratio:emergingFactor,parent:"stocks",subParent:"emerging",name:"Emerging Markets"},{type:"domesticReits",ratio:reitFactor*0.5,parent:"stocks",subParent:"reits",name:"Domestic REITs"},{type:"foreignReits",ratio:reitFactor*0.5,parent:"stocks",subParent:"reits",name:"Intl. Real Estate"},{type:"tips",ratio:0.15/0.3,parent:"bonds",name:"TIPS"},{type:"nominal",ratio:0.15/0.3,parent:"bonds",name:"Bonds"}]};window.SUBCLASS_DATA=SUBCLASS_DATA=subClassDataGenerator();D3_RISK_DATA=(function(){var _i,_len,_ref,_results;_ref=RISK_DATA.dates;_results=[];for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){year=_ref[i];_results.push({year:""+year,untilRetirement:year-2013,aggressive:{stocks:RISK_DATA.aggressive_data[i],bonds:100-RISK_DATA.aggressive_data[i]},conservative:{stocks:RISK_DATA.conservative_data[i],bonds:100-RISK_DATA.conservative_data[i]},moderate:{stocks:RISK_DATA.moderate_data[i],bonds:100-RISK_DATA.moderate_data[i]}})}return _results})();window.D3_RISK_DATA=D3_RISK_DATA;COLOR_HASH={stocks:"#0471BA",domesticTotal:"#0471BA",domesticSmall:"#1679BA",domesticValue:"#2980BA",foreignTotal:"#3C88BA",foreignSmall:"#4E8FBA",foreignValue:"#6196BA",emerging:"#739EBA",domesticReits:"#86A5BA",foreignReits:"#99ADBA",bonds:"#27ae60",tips:"#6CAD87",nominal:"#27ae60"};window.COLOR_HASH=COLOR_HASH;MONTE_CARLO_DATA=[{conservative:{median:[0,0.0472165653667507,0.126926757632134,0.202992719697462,0.270405567439709,0.325067098076257,0.39891732562833,0.484907590029362,0.564491247642529,0.634402164898413,0.717599141460586],min:[0,-0.0278958790199888,-0.00723352357747253,0.0254552300443647,0.0609847929975524,0.0978227755682013,0.142127337502999,0.192580576388055,0.238401149920018,0.286742128231623,0.337673330756573],max:[0,0.135289009357813,0.247802682175035,0.362575714605235,0.47274752900233,0.578854866120563,0.688097728747727,0.79757499279697,0.910718953467158,1.02419249075044,1.14453294135058]},aggressive:{median:[0,0.114740607845762,0.190691299603382,0.274763512167069,0.35912777563883,0.425391212859164,0.522206324466811,0.63563218570426,0.75288527450329,0.860083608127143,1.01183733326221],min:[0,-0.0521975683533796,-0.0397081664457053,-0.0155662179418997,0.0107857139234482,0.0344581709134404,0.0621206801082215,0.108050541888699,0.169931287058405,0.207110626944871,0.240512525099944],max:[0,0.207613615404732,0.389079571304694,0.558782753984034,0.72409454158199,0.892352565845297,1.08121928567226,1.29095632494331,1.49222867955515,1.73251278432792,2.00096337371988]},moderate:{median:[0,0.0830281114867519,0.1723050752018,0.266911281788233,0.369890016099593,0.451518654284583,0.536555355043451,0.632931675874223,0.730336292537392,0.849695810599443,0.954681342560611],min:[0,-0.0397387178007453,-0.0216201975460542,0.0162507337421067,0.0627662089519621,0.106806823178203,0.154104946887994,0.210478419029519,0.266236239410718,0.318864565218023,0.369561804511169],max:[0,0.18010760464124,0.341550719633401,0.491075666534646,0.639848701593975,0.793342831011824,0.959227500288306,1.13052767669908,1.30225447660606,1.47819143727352,1.66586054823965]}},{conservative:{median:[0,0.0611399664286405,0.134671288860336,0.196298092085772,0.253712446609364,0.318095944073623,0.380895924778247,0.442417177891767,0.511611390365712,0.600615820250699,0.687573089530628,0.774218887038441],min:[0,-0.0162203336431561,-0.0155360914552507,0.00704364505799004,0.0374480927560996,0.0709368094031149,0.106424842819548,0.147012795464792,0.189060735525481,0.23090501911292,0.2757725465846,0.329523047330516],max:[0,0.151073482168665,0.267151963155587,0.372178802946618,0.478912677190484,0.591022271784863,0.702768701988547,0.812674583047135,0.932306422379527,1.06734425180378,1.19741927987439,1.33530952620957]},aggressive:{median:[0,0.116315446512251,0.225821877574518,0.331347597959958,0.435525410703893,0.526139496808016,0.618321213040923,0.721931501099546,0.834319378184496,0.956916828157052,1.07488617304526,1.19704152619782],min:[0,-0.0536597905427304,-0.0262445502578753,-0.000197253286989052,0.0359317165680513,0.0691381724963229,0.0963846866832856,0.133486933536384,0.188784991274426,0.236969764184224,0.293137315248928,0.356261796867421],max:[0,0.246182916560306,0.444423548275705,0.628321525269804,0.807481532295967,0.995853735990637,1.19144333949005,1.4185314260704,1.65063322222014,1.88168688204897,2.11310874952234,2.3520939057322]},moderate:{median:[0,0.0865852346882618,0.175456652693755,0.251375580582023,0.328361407193198,0.410437468387814,0.492629574189754,0.577153950062689,0.677512426096311,0.765918075988441,0.855890446581738,0.969577136942541],min:[0,-0.0288020133237672,-0.0235039095814767,0.000101073382792638,0.0291950032836705,0.0593991299734311,0.0915433734560347,0.132058238517905,0.175020717845374,0.216847065870015,0.260899583643146,0.32277374289662],max:[0,0.183163828059406,0.339195881217239,0.483035481170129,0.629504746195563,0.783969171545258,0.950342274058026,1.11392830894449,1.2851613032967,1.48047414975129,1.68776723376265,1.87730789168735]}},{conservative:{median:[0,0.0617125314731499,0.143246448784661,0.212912985805743,0.287423714292323,0.361918010799225,0.424472160171154,0.499966235907743,0.58220003745189,0.658428388850508,0.742897442357955,0.837749537268666,0.918487260337383],min:[0,-0.0301516578353704,-0.00660604184124236,0.0195953921207634,0.0524410285760011,0.0952793775673135,0.138676406347009,0.181163851004911,0.220188337481312,0.267132382677702,0.326629600420161,0.383671938080245,0.433061158544514],max:[0,0.15412970558683,0.279913514659313,0.399297794558597,0.517657642237398,0.628138616308408,0.735017152850945,0.857203675806661,0.979721945107786,1.10414048085664,1.23449678889214,1.37546599249843,1.51486527309725]},aggressive:{median:[0,0.106511878523183,0.207016618339016,0.309326401692177,0.413411501883004,0.49416778270667,0.592576784278426,0.717104648370805,0.849618185725129,0.960205384754019,1.08783344153194,1.24085624162421,1.43237603542598],min:[0,-0.0565842349214321,-0.035151685508596,-0.00204748043973346,0.0364774300997928,0.0712447437325816,0.105204477798748,0.154567781011428,0.21008121989896,0.258109322925695,0.301083044224658,0.34071090284764,0.391888995065659],max:[0,0.249846516855057,0.413985622067606,0.592552356861215,0.796944798575919,1.01055132628062,1.22120746315994,1.43935859311103,1.65837637474339,1.88165903976612,2.17159993687262,2.48967473963789,2.79647761332274]},moderate:{median:[0,0.0926928665149283,0.17360105316743,0.251886275956075,0.327192203130542,0.401423165265604,0.475628508036387,0.583234944666741,0.701779551813651,0.79524590950744,0.913704124633328,1.04155070125431,1.20212867833204],min:[0,-0.0419944966161273,-0.0370976814922598,-0.0187860556026874,0.00780890913109333,0.0502053779364777,0.101890091313554,0.14679408072263,0.196903789764692,0.249657229370878,0.298319670755261,0.371036313872242,0.459657648833736],max:[0,0.186220051477571,0.346815445350781,0.499781617266905,0.646868739624987,0.791744219613629,0.945212953671385,1.11994493009199,1.30677395650393,1.48442955495632,1.67034685868852,1.87136548038107,2.09776246908203]}},{conservative:{median:[0,0.0622850965176593,0.151728922787893,0.221010296348602,0.282580537086021,0.361874472700228,0.446556059092184,0.517888734454616,0.591103639683241,0.663514834492882,0.72880023932802,0.800282301803656,0.887258506482935,0.979069588338621],min:[0,-0.0312795472430618,-0.0095447981337593,0.0164915118807423,0.0474304861228472,0.088044079533633,0.136489122559986,0.189023218531784,0.235094317889458,0.274016684084055,0.311950004175407,0.356064473839882,0.408524015992404,0.466669802411039],max:[0,0.157185929004996,0.285673738239818,0.406951354874332,0.526308105296729,0.641088554875943,0.766154174463348,0.879381226435376,1.00054697285622,1.12930918771934,1.26537315140874,1.40219113147476,1.55186161528817,1.71814006964585]},aggressive:{median:[0,0.121598214607536,0.21931679752996,0.321582392477498,0.432224624498142,0.535029337363039,0.64079727808301,0.76649474695322,0.863527098536728,0.946140853798546,1.07520785884945,1.18408110899542,1.32877827999873,1.52187042324626],min:[0,-0.0580464571107827,-0.0356688244909074,-0.0171754819795753,0.00707403677366436,0.0444537053897978,0.0783707987099593,0.10891687820877,0.146845443979044,0.180289246636445,0.221806651507243,0.269139294616145,0.304288543517982,0.34409006252209],max:[0,0.251678317002433,0.439459397319701,0.629900817876449,0.829275367228894,1.03222402075609,1.2525815127156,1.51337593911935,1.78057422067189,2.05758222697225,2.33574178799916,2.61580646176117,2.96597961665584,3.33399142424388]},moderate:{median:[0,0.0891153635319568,0.18622933357831,0.276040940661256,0.3628471541327,0.447294169833737,0.528869202641691,0.63084465943039,0.747845344489168,0.86140120296404,0.973347954372052,1.11003583200845,1.23788372338132,1.35769978571035],min:[0,-0.0431223860238182,-0.0252159857797987,0.00143706197353932,0.0380889912622375,0.0727213316181312,0.108844414711173,0.151196335877683,0.199360477612103,0.245537552687498,0.292225566777621,0.349915412874049,0.416926039622302,0.479292069037111],max:[0,0.189276274895737,0.359289862105684,0.521703628519597,0.682374014420296,0.839786444877735,1.00930248688317,1.18333971947268,1.36234580409812,1.55895567667203,1.75755727566947,1.99417780759139,2.23789127062492,2.4874398283809]}},{conservative:{median:[0,0.0778745206481919,0.15655489626474,0.233395201024569,0.297455521520704,0.364824963612748,0.444866324502952,0.524109715181282,0.603176224118414,0.685179114909601,0.768560134286985,0.857594973026068,0.961591276902886,1.04152814804009,1.12041560381405],min:[0,-0.0220413887868725,0.000273149936238504,0.0323125398355286,0.0598289794697844,0.0985241768852192,0.136400572437716,0.176781299227603,0.221273298008337,0.268037511116368,0.314856734111985,0.371865980670099,0.428783070862909,0.47627072275301,0.531372941024339],max:[0,0.160242152423162,0.294980514197497,0.416462338510898,0.528046230030121,0.638334819353713,0.757408110329354,0.886432133705968,1.01661485378776,1.15210192498813,1.2852478084081,1.42040022860284,1.57757872384604,1.71948327556161,1.86527955883136]},aggressive:{median:[0,0.110849972068458,0.211004667253772,0.300018678947173,0.37789245571434,0.493066217802918,0.608114928454623,0.714903224495601,0.845237666867161,0.984307712310845,1.13208601587337,1.25470709578944,1.39803869761886,1.51898986267257,1.70352688079351],min:[0,-0.0609709014894841,-0.0330295675974712,-0.00648074491462958,0.0109861053928171,0.0384108187262342,0.0789943378211924,0.124092606187756,0.172052501012721,0.23273973943862,0.305719393897323,0.363825946905127,0.421404442264107,0.474839951666717,0.537658453906504],max:[0,0.216782285659229,0.433689678647526,0.628279203899697,0.819595670654343,1.02554360546316,1.25248615038805,1.48299817766051,1.73681862630559,2.00194111555818,2.23823036688726,2.51089165059743,2.8169525221033,3.14092135060725,3.49230885456603]},moderate:{median:[0,0.0899541595024582,0.193613865122957,0.283612850674877,0.376323941065519,0.474979303567102,0.547647577140997,0.610204086460888,0.708588013952101,0.817889857325118,0.921708629143123,1.05007475852777,1.19417346882751,1.32132353899529,1.48201413038064],min:[0,-0.0448142201353549,-0.0263445123556091,0.00622265057419202,0.0493026682253146,0.0956048178071518,0.139430508307262,0.183612977652832,0.233143264182387,0.283992204710994,0.330695432018994,0.39220644189939,0.463848140500754,0.531235399315358,0.569863310539814],max:[0,0.193860610022986,0.369248416486065,0.529984492687445,0.694192579750074,0.869967109409454,1.03833040585724,1.20202569895761,1.37841533970419,1.56509050959357,1.78131217979881,2.00434617055277,2.21999607927958,2.45478317022479,2.7294101582936]}},{conservative:{median:[0,0.0662671101980279,0.137022964812112,0.219036579176338,0.290144588093339,0.360974187353269,0.43422887529219,0.517029467335798,0.605345646034895,0.686095630743935,0.763914721573888,0.856852891335278,0.959479311428854,1.06846094935166,1.15030935813879,1.2419841905587],min:[0,-0.0270393624759298,-0.0100184300739692,0.0227279597284631,0.0597912864921724,0.0967487139950716,0.130127994374586,0.169188671603195,0.211059839068562,0.259813449744147,0.31442579140689,0.3573764184876,0.404364172473185,0.464174451956238,0.522757163939621,0.582667812080325],max:[0,0.163298375841328,0.290630684055161,0.419403738068765,0.543927672754028,0.660918594560668,0.781349689491485,0.91271612179678,1.06320616996975,1.20992385791128,1.35885305664665,1.51554498461883,1.66710905237182,1.82759238226104,1.99438677799697,2.15683084673211]},aggressive:{median:[0,0.12576447851118,0.200376501036591,0.290572006886606,0.372762928743982,0.468548707640587,0.567431417177168,0.700739910226597,0.80271760647984,0.914833065896524,1.06645896856192,1.17871599728337,1.29275367481333,1.45234909009569,1.59403728956206,1.75633289002623],min:[0,-0.0550640294113827,-0.0606162356959583,-0.0492144426137208,-0.0249146198111814,0.00246522598493937,0.037954443534131,0.0735543260588258,0.105952478671554,0.145139995395257,0.191616530294014,0.234336216697685,0.282438195230031,0.334204088972715,0.400197812299216,0.475746905426442],max:[0,0.218310397368312,0.40708846572831,0.597764466488428,0.791779664858104,1.00081809581153,1.22357886867796,1.45963481459247,1.71962674047596,1.98607165879091,2.29909840994848,2.62601835436459,2.94092756043334,3.32258535777977,3.71470590064049,4.06932304350927]},moderate:{median:[0,0.0905133568161256,0.201939973088389,0.301581561582452,0.393418505877669,0.490962356491166,0.565611247150499,0.641961099113005,0.713559503169315,0.829759822610071,0.962186412838264,1.1159442390669,1.25635426687824,1.40149103238466,1.55547661510791,1.67700124150283],min:[0,-0.0459421095430462,-0.0246630161441255,0.00347959056653568,0.0331945969990428,0.0701338652558254,0.108841688474354,0.151782409957076,0.206730407480168,0.264092257659388,0.332228829721336,0.405271499909571,0.466446883169384,0.535026569811933,0.59626086702443,0.654541683594682],max:[0,0.196916833441152,0.375642228043011,0.539684232399123,0.705388186028073,0.879218101386745,1.05903891811055,1.24837625392357,1.43856448778386,1.6404551853303,1.86012024518466,2.10448519731442,2.3364721718667,2.57090828840987,2.86473335839565,3.16209612308889]}},{conservative:{median:[0,0.0762118174946749,0.151891280934852,0.225075955368833,0.294334921048034,0.362576031583217,0.444925002491702,0.521065424193151,0.59513220058869,0.676700574859914,0.777251674485452,0.888185838450419,0.99359088340339,1.08968078811861,1.17726003353153,1.26818853913337,1.3593314037773],min:[0,-0.0153392466694762,-0.0145582352129362,0.0112371819635022,0.0499034653679986,0.0910695628998095,0.135351736020882,0.178044733411983,0.229939168362751,0.285479014457132,0.333502589993162,0.392003311276101,0.457485052865559,0.51687220106816,0.567126731361004,0.614031224020531,0.651793681533768],max:[0,0.166354599259494,0.296022071703234,0.419251801902663,0.546531624872388,0.670209836076574,0.795439905892217,0.92714156010206,1.06338717808407,1.20095015086302,1.36130829567024,1.52622566788062,1.69273342548623,1.8527087676206,2.01366230646735,2.21657485713387,2.40801079986109]},aggressive:{median:[0,0.113742034431974,0.205698201342897,0.298886747659672,0.395368940573045,0.481431475738582,0.57796102534647,0.705159192600914,0.827499578528236,0.927752357033487,1.07185252331083,1.20570299969913,1.32382517879425,1.49642187637405,1.71210165543391,1.97184805199306,2.17400447464805],min:[0,-0.062514273799534,-0.0610140093792044,-0.0470632708606631,-0.020275297341781,0.0169273793657327,0.057577540103422,0.104491694278564,0.145640833908041,0.174505181150167,0.227561512870336,0.260181894278479,0.302561533150773,0.348161500241666,0.383950547176235,0.456119821725514,0.52747778006357],max:[0,0.219838509077395,0.430745121155579,0.638985753535384,0.851807729856705,1.07744190739555,1.31824661452741,1.57602157872073,1.84795193822309,2.14866322749969,2.45599631069442,2.78794306636449,3.17105368315216,3.60171882372135,4.0150268467426,4.48995421646399,4.99665488401718]},moderate:{median:[0,0.106149412296564,0.207589618774854,0.292590864310176,0.372894863124919,0.459887723898915,0.558325386913493,0.638559150731531,0.7364123981614,0.830461321400883,0.942374714829107,1.05166556922973,1.16489583979291,1.28698824932176,1.41815890718111,1.54262733980914,1.66499585375837],min:[0,-0.0470699989507372,-0.0293343091276519,0.0026241962486846,0.043589118811167,0.0826805261924,0.123828555067735,0.169619533302821,0.216462813032012,0.252984178605809,0.29920282702552,0.353151521120034,0.409325534930315,0.449992800637472,0.510096225925505,0.586395411142919,0.675414384969335],max:[0,0.199973056859317,0.385208158209727,0.549942578928013,0.713176556328342,0.893237274326114,1.0695872774893,1.2423245378295,1.43245465981911,1.63800411325289,1.8579260382178,2.09732494443297,2.33643828817566,2.59314442821802,2.89201657219792,3.20867352319673,3.51125267577468]}},{conservative:{median:[0,0.0723567418822235,0.160623109486927,0.231347226268243,0.303936020651017,0.393037959212442,0.471222880403857,0.555993176711826,0.636755635552896,0.719387120810753,0.796187804080237,0.885860553312442,0.991131551090051,1.12346423785962,1.24810628478888,1.34174152633684,1.44930100080864,1.54061706853182],min:[0,-0.0395342966985737,-0.0107340205174975,0.0216007674888217,0.0539747441823666,0.0999761097218055,0.141887951744269,0.182177931688325,0.227660158124736,0.279461416174817,0.321159112157168,0.362350959309778,0.405106233829456,0.45137531664719,0.510045572700563,0.571481472620805,0.633663638081117,0.696267376191652],max:[0,0.170938934386742,0.316001599020507,0.449687110423675,0.587996082642275,0.734508254194544,0.880318378314603,1.02729597679745,1.17755700897793,1.31809486227259,1.4546271571876,1.63014469133183,1.81970067536335,2.01032967677804,2.20938010272502,2.40533995073703,2.58475673368533,2.75673044131254]},aggressive:{median:[0,0.0962859965562064,0.211975974853455,0.31786999664933,0.429519167405021,0.552088821359576,0.679679979108413,0.799040016894032,0.933403917976667,1.04538588820467,1.11897902550121,1.27796651517949,1.44575006288631,1.58306004097559,1.75833319331892,1.98458811854519,2.22756266036374,2.42409193480307],min:[0,-0.0653575680575368,-0.0449977198527205,-0.0217916377851298,0.0147073315652264,0.0537910274730877,0.0917652661611297,0.134275765351487,0.187266379194668,0.232438866858571,0.283801387523273,0.336302018810009,0.379576373565445,0.430626689158509,0.490297628631557,0.560568337573289,0.640273995433025,0.694912109026999],max:[0,0.221366620786478,0.436787096649988,0.64469884953114,0.852178978883471,1.06201514703615,1.2849713988044,1.53750811377771,1.80822082764148,2.09661238118417,2.38867686222207,2.6708176449269,3.01978474804298,3.40729031192831,3.83280623834577,4.26444222172175,4.74015584134593,5.17239571652012]},moderate:{median:[0,0.109706535498074,0.197239841106696,0.288237833050834,0.381863757026081,0.477553957181891,0.579039922894347,0.656664159096613,0.774581213924627,0.904867593916669,1.02210876718898,1.16002298002255,1.2894539787301,1.43202104759536,1.59141172513215,1.72167446858808,1.83836675178148,1.94904269820575],min:[0,-0.0481978883584281,-0.037327310400314,-0.0162719933412085,0.00742967579411391,0.0479321276659022,0.0938677688267173,0.133595142910174,0.182099458013373,0.243611521207841,0.303872637730131,0.355365094842712,0.409583514625948,0.469913141577176,0.538023504056916,0.57665124576988,0.581078922520982,0.597981664481765],max:[0,0.203029280277483,0.390978845354353,0.572595862845052,0.757078019811541,0.934791120808263,1.13163751201382,1.35021022496959,1.56584173371488,1.80731229129559,2.05609562773118,2.30448937211315,2.57328290680318,2.85177980606683,3.19391546699696,3.5388564001589,3.91604316113533,4.29746806709618]}},{conservative:{median:[0,0.075913865083733,0.156677765626104,0.21909451211282,0.293870022580283,0.379754277977237,0.444547615146039,0.51097909341308,0.593071240253296,0.683207532931255,0.770983980113651,0.862176496283746,0.96664952726086,1.11004970458671,1.22859195310356,1.32308687616918,1.42157375286928,1.55170545356567,1.62797046990984],min:[0,-0.0445322703876315,-0.0308976379411641,-0.000695978855457691,0.0331939243471289,0.0619820574233887,0.0864904890832663,0.122387094451153,0.168299439755198,0.221010071817918,0.25706298500626,0.306920695949285,0.369417774594466,0.436486744822725,0.494974464640506,0.549161733089844,0.607415103170764,0.671111248610145,0.728022959158208],max:[0,0.173995157804908,0.306989085492072,0.436853285251183,0.569825801012871,0.706171348971292,0.847199937843323,0.983222830162876,1.12125599859886,1.27443923219863,1.45822321044617,1.63519756340786,1.80021400863872,1.96664044992417,2.15584407675869,2.36325653621176,2.5745954756523,2.78531739887488,3.00336054779873]},aggressive:{median:[0,0.11663409679549,0.165642350572267,0.268797756628081,0.391164604553144,0.525517800183879,0.63536895332539,0.722299220469853,0.824620306034005,0.935839936911546,1.06998549237399,1.24074487256556,1.42900157061387,1.56785540205385,1.78374115841808,2.02073222636417,2.25785875189004,2.46447632904144,2.73593667823874],min:[0,-0.0668197902468873,-0.079590565586144,-0.0557362319420319,-0.027663904085437,0.00899346314986116,0.0414569715969262,0.0713730636592591,0.12547713122068,0.159476647061851,0.184184855939566,0.222653142613026,0.248444769357157,0.260462019441045,0.294777090719456,0.347679578699869,0.401100532617044,0.465115746854992,0.58413187269244],max:[0,0.223214766592465,0.417823966503397,0.606421086194743,0.812999274847652,1.03740718425918,1.26128516715237,1.49052253273184,1.74944367171382,2.05783581552843,2.40027411660674,2.7421152389467,3.13034769059727,3.53310657068125,3.94825987641149,4.38504842848767,4.83621228036982,5.25506536393873,5.73931454704874]},moderate:{median:[0,0.0921909487571286,0.193728139446319,0.283785158326685,0.379321248252723,0.471399034718162,0.571501781837807,0.676299485369551,0.800412369778619,0.929814815873432,1.06350271637218,1.20643378919396,1.35277538466949,1.52298558794614,1.70112353744113,1.89279050209528,2.0685520284894,2.24637840349654,2.42175447652899],min:[0,-0.0507353461640289,-0.0398119098051258,-0.0220406521292595,0.0141333188816892,0.0470613700925817,0.0868529926654023,0.134842985222403,0.194101485402361,0.252782441444688,0.30703426033901,0.363829533629127,0.420993970240521,0.483163223192027,0.561288131163345,0.654388273975561,0.718867336831281,0.787007854916356,0.872893236509929],max:[0,0.206085503695649,0.393472677196454,0.571420638463853,0.750898299835648,0.934796266209137,1.12688542873987,1.31917350802805,1.51175637153778,1.72075229698216,1.96217333191997,2.22482363033941,2.48673777220533,2.77891162226853,3.08137840907957,3.41040835397559,3.74775616788905,4.09959603914504,4.46420434717596]}},{conservative:{median:[0,0.0715974342060057,0.160079823643726,0.239983632435549,0.317205951918953,0.39933038982253,0.496139273628273,0.591313636291066,0.68616134905866,0.786865584873357,0.879428536126506,0.970489024014286,1.083587457372,1.21216611395975,1.35223826682722,1.46642851293674,1.58431455808687,1.68076415598299,1.75592218855536,1.90322453714641],min:[0,-0.0520292309212179,-0.0184949858349597,0.0142654833655338,0.0535420841623064,0.093549800840709,0.140075565353246,0.197780986202643,0.260082337232875,0.310928976822307,0.356627941951139,0.402404935288081,0.457983012784896,0.523668618013537,0.585322727486676,0.647707712012821,0.722472672420785,0.800749266334188,0.878002181571359,0.939355379769332],max:[0,0.178579492932157,0.321221823803938,0.457672038622111,0.596772396731029,0.746839832900569,0.893395399266698,1.04395626739657,1.20355078918268,1.36813043684778,1.530756485371,1.71766394121362,1.91554133453075,2.1117571960954,2.34413072452515,2.58834043805652,2.82020753749867,3.04444479127621,3.29074696925493,3.58277913980312]},aggressive:{median:[0,0.118080127977249,0.21507321626332,0.304098545159611,0.419904748180624,0.529217013231582,0.630673494650635,0.748214234524996,0.891376429259711,1.04407100932838,1.21482697493157,1.34561525086552,1.51855258400029,1.70181538481886,1.93358366586059,2.12381589563153,2.2719967079076,2.45297533091651,2.68450669924249,2.971061295951],min:[0,-0.0682820124362381,-0.0571692355572784,-0.0352849321309805,0.00223911196706994,0.0449467816086995,0.0929834210533549,0.131064321061045,0.164223402943867,0.213379150071769,0.267772004872682,0.315430059155521,0.363237877459132,0.409748731661482,0.491790092374168,0.562962036102353,0.616152431699106,0.682743477015045,0.734129004021944,0.786751165174034],max:[0,0.225587883961823,0.432520288238242,0.624106074390453,0.828179005331973,1.03601858962287,1.27346231038429,1.55689659486252,1.84885731161609,2.18444576660496,2.5169270315774,2.85767172940334,3.2767256812649,3.70555929310898,4.12173102721621,4.54193244946029,4.9647024247253,5.44764865880176,5.97806065416546,6.54088786514388]},moderate:{median:[0,0.103619816159667,0.208593424740019,0.311268720007246,0.405545097513989,0.496896788894197,0.593758378878488,0.713856158911912,0.860808262419419,0.999652454348026,1.1086218538012,1.24625393161436,1.40194394823599,1.55091477507799,1.67985574222711,1.87839839946665,2.05411302621931,2.20660704345715,2.37003150114701,2.57549916554025],min:[0,-0.0536597905427304,-0.0241737372702893,0.0123297145811001,0.0468116426469225,0.0828968729174138,0.130539958215376,0.183887496691984,0.235573714983776,0.285710475303824,0.332709011553827,0.38066042393637,0.44476416410981,0.51100717644524,0.578850512057754,0.664394897600836,0.755039353222975,0.843650645355719,0.902484945948604,0.974794364840901],max:[0,0.209141727113815,0.40404853953501,0.59045532899304,0.775075120707185,0.96467035706217,1.15943252141178,1.38379073509734,1.63101108765552,1.88051630697274,2.14749080211559,2.41713310478851,2.6969053504428,3.01736191603977,3.34984732734298,3.69883414168409,4.04529497064695,4.42174390562944,4.80690718914949,5.22655482394395]}},{conservative:{median:[0,0.0848066730875072,0.183562696858986,0.253293378001907,0.323412232722856,0.413451051542388,0.492763966416387,0.575297179531297,0.661724553205418,0.766935414714836,0.86998919711033,0.962933876055997,1.063463555305,1.15865278331265,1.28710816169078,1.41771750834254,1.54497952426229,1.67120720669946,1.80042862563896,1.96731789871171,2.14023686538621],min:[0,-0.0273397911344165,-0.00671784113104446,0.0236746086118647,0.0546822039756463,0.0924042098409545,0.129422462414237,0.173935652686358,0.22202431069326,0.271941270957694,0.322985963680243,0.374840249327329,0.419080610313471,0.476016686534674,0.53643923163906,0.605967902235488,0.667474844333246,0.724425202933989,0.8007485655919,0.8758121187344,0.934740705603943],max:[0,0.181635716350323,0.34377141354664,0.492178406043273,0.639416435580433,0.787610189788117,0.934903883744419,1.09849970541976,1.24789389088324,1.40045518444714,1.57984775923102,1.76405292390283,1.94017647567926,2.13418366089654,2.4025044643999,2.66598788120748,2.93265599021285,3.18871988756934,3.43877371291524,3.72023082430379,4.01993298474023]},aggressive:{median:[0,0.134606397908641,0.212140415074894,0.295645091692496,0.392823373518563,0.517591116858245,0.648196887081159,0.759548149670305,0.881925083019345,1.07261360690303,1.263481099499,1.3802112339801,1.50165194707946,1.65540672870621,1.84917740143564,2.08648715832331,2.282991397356,2.47137643011815,2.6595437912166,2.94380628348552,3.29693065448063],min:[0,-0.0682820124362381,-0.0683020527702276,-0.0481978025044645,-0.0226145866237033,0.00904342457479101,0.0479553254396159,0.0938307394259941,0.151500762279933,0.201712965289072,0.244790391036421,0.282160884072109,0.322425915493025,0.366407984870792,0.413015383076585,0.459116137977896,0.515297183366949,0.566506158901819,0.6103500027326,0.667289540366064,0.808729976621932],max:[0,0.264500918034063,0.449033494258144,0.647704160903915,0.874477514833114,1.10527995713499,1.34073750194746,1.58100517691633,1.85817121197646,2.19780996255007,2.57255339931898,2.97283818215564,3.37749594497567,3.80221425713564,4.26007946883921,4.77880563355799,5.2863115543677,5.87745387254524,6.56499783252954,7.20663499689548,7.77795146577991]},moderate:{median:[0,0.117890285178739,0.223892024343713,0.309444750009166,0.398665282455271,0.505085158717259,0.597683728290095,0.707687807188557,0.837570048972458,0.988252824933775,1.09709359761698,1.2044176127923,1.36956406818662,1.57262559402137,1.72897034766867,1.84610891084536,1.99708035636178,2.1483020076444,2.34497458986973,2.55587590499554,2.7774509405731],min:[0,-0.0551220127320813,-0.0412842236902191,-0.0230883222026201,0.00628340945943973,0.0532412540136837,0.09175208476583,0.123819471906275,0.171168370116266,0.239002244190729,0.301648114578671,0.373757732956819,0.430631749216485,0.499046700026172,0.574056971919143,0.645663643260442,0.709801952206462,0.790746259931862,0.893471899774011,0.968504624554325,1.04923213531342],max:[0,0.248014716707682,0.434381029138757,0.61386276172366,0.792817620536134,0.988697012668617,1.20181287253778,1.43333130577667,1.66332065607897,1.88964636290632,2.11583243593478,2.37408921526018,2.67342999806271,2.99481361416717,3.28905534506048,3.59800751434972,3.93746663481207,4.32345602057804,4.73137522156404,5.17035387054934,5.64493147353547]}},{conservative:{median:[0,0.0882765675614554,0.174996796984837,0.265810774875761,0.350565609162144,0.436192579586599,0.525726607144871,0.622451488514635,0.724593932767052,0.827121905844592,0.935813593854954,1.0528565077262,1.1653822005533,1.26386211336398,1.38610509710905,1.50610318607569,1.61176146851227,1.79687785216559,1.98485930018111,2.1391615643164,2.29318445692728],min:[0,-0.0414305519122817,-0.0327399222608278,-0.00470730617811188,0.0324098728542501,0.0773936465485956,0.123602856269564,0.171656854047136,0.217016239232412,0.268438854050677,0.326092900512775,0.387732152405188,0.453127473014655,0.515993972849491,0.571841666795429,0.626580255630822,0.681958056126582,0.754458960972661,0.825259755516764,0.884081203864876,0.944797126213775],max:[0,0.184691939768489,0.346133421192938,0.502524731607298,0.6532480532566,0.792150020619744,0.939502994526018,1.10661766402222,1.29288823477321,1.48014666142118,1.65893712748279,1.8377163006498,2.02370876232305,2.22868373330806,2.44226818258664,2.66334191632403,2.88458509745845,3.13425804708397,3.38986420100281,3.65145125252889,3.96234695724967]},aggressive:{median:[0,0.134606397908641,0.219583643531704,0.310172125788947,0.414321308220756,0.516685675747397,0.63989756883238,0.770922826953933,0.886908290323005,1.01727710773453,1.1835677557262,1.36945064880083,1.52277608590457,1.64339908637668,1.8646768106006,2.10133351143844,2.29446930364899,2.50492760432424,2.6758589253765,2.9766296441876,3.39373191757016],min:[0,-0.0682820124362381,-0.0705372216770604,-0.0454683221224944,-0.00980819103234776,0.018072142168216,0.0405477561651184,0.0788218610600111,0.134745820247571,0.177575172973824,0.223963454736045,0.273135565070052,0.343153374746049,0.401781756118427,0.467597707023507,0.527046297466834,0.578591813153221,0.621468376967419,0.667682841220546,0.716117191968244,0.742773435374216],max:[0,0.271320910149428,0.470744509487248,0.669102616566772,0.873024607301897,1.08368339575998,1.3265161065981,1.59389973307749,1.90120854349674,2.24058043362309,2.59669088028905,2.96572671924648,3.33267756472264,3.67236273313275,4.0872750194513,4.56883175347204,5.05739313688252,5.69473576118767,6.36615783960334,7.09075022078688,7.94384064569275]},moderate:{median:[0,0.119465123845227,0.206108020492178,0.284459631145846,0.368407145539007,0.475757780785851,0.605025011096522,0.701444695502272,0.788208003774289,0.925362486360613,1.04734304589174,1.14305997613,1.27617875074378,1.44016825719586,1.62019503063914,1.7828131821758,1.92848824838318,2.10964069785226,2.25565175857932,2.44291897975904,2.68905986083261],min:[0,-0.0565842349214321,-0.0479294645227191,-0.0333823799551097,-0.000493650483902042,0.0321366592458832,0.0629553439439603,0.0947649121763601,0.113451258012143,0.15153139031995,0.186534357960553,0.223245616711317,0.280756494324538,0.345307723470799,0.413478285628818,0.483834011257334,0.57271943224059,0.648328919291564,0.723427247669018,0.787428676416668,0.855742616113498],max:[0,0.212197950531981,0.422114524532072,0.609591161731176,0.797267253990124,0.994815017662308,1.19666942995905,1.41556075510068,1.64962153819378,1.89435662690704,2.15843016126551,2.46012890038063,2.7556077673308,3.04323705835022,3.38309469482525,3.77984763176023,4.11639630785942,4.52385864726564,4.91238927933725,5.2973514020478,5.74629563038818]}},{conservative:{median:[0,0.0833753796150529,0.175157954832518,0.255356495646804,0.345391687738299,0.41743288487326,0.479290080020814,0.579182685984704,0.688089879792268,0.807964169932813,0.92215938314789,1.03355886960396,1.13371253622158,1.24402722747759,1.36197337065133,1.46697532678889,1.59806715628347,1.7285317220456,1.91915588271834,2.08973641122344,2.2371433244029],min:[0,-0.0331886798918193,-0.0327297403865885,-0.0154456886940162,0.0139014295833071,0.0451672447709119,0.0782932314685068,0.131429971373589,0.192557540597245,0.257850150126803,0.318439190337691,0.38990522290793,0.454504072564443,0.519171233495478,0.587004314752393,0.648619022332509,0.719784984679384,0.795949188058811,0.862202791635648,0.936975515741078,1.00412684073569],max:[0,0.187748163186655,0.349201771788322,0.498384315449732,0.65865282659982,0.818944415516968,0.973786719941619,1.13728610133496,1.31212355090015,1.48493428997774,1.66979925394715,1.86954196356737,2.0563756460452,2.2604847464427,2.4937781361606,2.73117430985924,2.97239698270039,3.22254776133946,3.49875778366006,3.78252501833425,4.06201832819948]},aggressive:{median:[0,0.132063833177132,0.218361618630081,0.293400584350706,0.366149751883823,0.458124452766062,0.583403911942641,0.73256917067073,0.835501752966651,0.927401577636043,1.03440935278605,1.20748868638007,1.41192656737924,1.56208852997978,1.77470088402954,2.05336263502945,2.33791252753709,2.58998032043729,2.78947336058592,3.03549889269382,3.29092470763414],min:[0,-0.0682820124362381,-0.0464525702028948,-0.0284849455943894,-0.01255221247739,0.0164539623110154,0.0558275985453958,0.0999446442618066,0.145867606039895,0.167080575154843,0.177598008556426,0.207571078950745,0.25839468526811,0.300762081812791,0.316877626231013,0.348594172933339,0.445207292957331,0.520645693624225,0.578113438258542,0.633417441653995,0.704499143400554],max:[0,0.225587883961823,0.452344979893362,0.654408436571721,0.851093427690563,1.08478623958929,1.35068485294427,1.62562537402672,1.88786237196943,2.21709855199862,2.58807696053074,2.97331468968004,3.38299220939036,3.80595651341402,4.33263033885883,4.87668212729239,5.33040234516687,5.89113884966655,6.47993432384903,7.12836235729938,7.91787690619729]},moderate:{median:[0,0.0935889420412979,0.216850606630971,0.315432239073183,0.400155510546635,0.474977183478383,0.573381026192206,0.711942449548655,0.818003503530162,0.960812575914844,1.11179774181498,1.23934541936238,1.36671198344987,1.52411131564773,1.69485916113139,1.84552921257727,2.00150378411178,2.12777986276263,2.31526817735663,2.57181947098742,2.83226618333567],min:[0,-0.0580464571107827,-0.0391659665632034,-0.0131916752535577,0.0000294160883180794,0.0207840586673562,0.0595325444561043,0.099356445232341,0.144313250606112,0.198458055283505,0.254499411745116,0.301805087462741,0.351730442062026,0.412974555555973,0.495808329582061,0.574098315315262,0.62157430180134,0.68343158632714,0.75895052373254,0.808686879532733,0.87635284949091],max:[0,0.213726062241064,0.421565367962158,0.612899088526638,0.806433266674974,1.00645953924569,1.21785964206783,1.45452234070228,1.70747419004407,1.96050165764378,2.2097447301472,2.44643390949807,2.71085739054261,3.05226667199846,3.39826282545625,3.73605822589622,4.10636606169327,4.47481268139508,4.86969303126415,5.30590694517013,5.72514761112575]}},{conservative:{median:[0,0.0893949621887906,0.179320539462597,0.252097604214032,0.310495822341633,0.395940284678906,0.513756219029713,0.6154816080532,0.716602815741357,0.811186442524278,0.903667003069858,1.0112269661072,1.13168054843536,1.26176206386407,1.36409370532938,1.47435510611162,1.5785726658762,1.70602607130271,1.85876122065755,2.00110892180586,2.16681821651415],min:[0,-0.0436863307276637,-0.0367131175740125,-0.0111082796330367,0.0165261389108928,0.0619597505865108,0.109849289169522,0.146947932295814,0.190899505837218,0.236537861983247,0.285913787145833,0.342738016295594,0.407553451922464,0.474934918419914,0.539865034777773,0.599919554695406,0.643582124578271,0.695687531342225,0.778365855355455,0.862123311422623,0.946521998882127],max:[0,0.19080438660482,0.361124539596687,0.514349865326147,0.668087612872292,0.837397667015566,1.00397798130062,1.16598148755864,1.35003136594277,1.54248273786295,1.73628482216919,1.94223741178086,2.17924171795921,2.42338744934474,2.65463481742214,2.89069199693539,3.13176825738519,3.34501042925187,3.57162639310331,3.87158140622512,4.16229634993319]},aggressive:{median:[0,0.118080127977249,0.221114762043549,0.317245348688711,0.43552967239359,0.545219949111672,0.619681252564379,0.693576293819186,0.806311095463152,0.924503460577446,1.07853478982408,1.24014848195401,1.43411118354486,1.65898124513201,1.85552745988416,2.06382139123201,2.29837716142304,2.61171194485078,2.86544047173464,3.08508829500801,3.3813716377467],min:[0,-0.0682820124362381,-0.0602348746251469,-0.0367813899146806,-0.00108727978446277,0.0219500262561088,0.0501568830829948,0.0856044566910596,0.12747206978291,0.163163629198687,0.222577119241836,0.297597441090443,0.369919113538454,0.407602374523713,0.454760172520241,0.510406052285592,0.55220936388583,0.616984950669648,0.706304889162913,0.782302450339883,0.870819050671976],max:[0,0.225587883961823,0.426637156773624,0.628170514614781,0.841645358686818,1.06632634249373,1.31380427118036,1.57830481848004,1.87617277158826,2.18994308412366,2.49757753848863,2.83595215196048,3.22776864469044,3.67910500762827,4.16057416003849,4.68904484836457,5.25680223569728,5.83945959506177,6.44526726852996,7.09828735997017,7.72384363205998]},moderate:{median:[0,0.129536274939854,0.209340572227915,0.310534193547793,0.433157778009211,0.557380047900508,0.653818371680207,0.731606744184796,0.837948462462379,0.996147368928899,1.16270348253178,1.33826239283776,1.50888828273515,1.64270196994901,1.80285535372307,1.99700096306094,2.164546958734,2.37340794380075,2.58383074510964,2.77927604027553,2.94415221122157],min:[0,-0.0101572481459323,-0.0199990912904245,0.0102240182964559,0.0451366687494659,0.071133006594339,0.0923102197689847,0.121492673412085,0.167940359545085,0.227321976784241,0.295708944002809,0.362915097976837,0.405784436030414,0.451903634303101,0.51648829359699,0.569294073756116,0.644838116985108,0.701864127248287,0.763319860006568,0.841377850465697,0.925634436949534],max:[0,0.215254173950146,0.416688439995006,0.606160180769272,0.79127992798372,0.994508280323364,1.21621679432752,1.43544706269097,1.68998922965717,1.95317717833892,2.21741896088971,2.51753752882341,2.84111598011458,3.15943441470046,3.50398408656218,3.88496961048532,4.24988259859099,4.6947418015014,5.15277542645795,5.61647713905811,6.10929429363494]}},{conservative:{median:[0,0.089159504342085,0.182681695649223,0.26832722517483,0.352385818703418,0.455185248794225,0.557824271748338,0.650062613993309,0.743702384913103,0.873887825449886,1.00499010419852,1.12521654284938,1.25837140047003,1.4242930672742,1.56450626970237,1.70274489325447,1.87188344212155,1.98389947222016,2.1368013231157,2.33802820008761,2.56391729879577],min:[0,-0.0448142201353549,-0.035692575897543,-0.00938218901453036,0.0239550197184102,0.0621162894635992,0.101553819842311,0.156920199214517,0.219603171638167,0.28380293573868,0.339541779763388,0.395404755600705,0.47475377440898,0.549104841765189,0.621695546110224,0.698320952767473,0.767955862734817,0.842690189072343,0.916559056209991,1.00840620956863,1.10366735396751],max:[0,0.193860610022986,0.370836940873676,0.532134156998743,0.693471884197479,0.85758986658243,1.0298251356123,1.2194131663939,1.40213295176985,1.5979550442754,1.80940687704678,2.03230345056433,2.26224249468992,2.51316369988212,2.76746274030908,3.0370110879069,3.28621590793276,3.52926521550159,3.81588717304955,4.11084590836268,4.44058338801281]},aggressive:{median:[0,0.136384959509395,0.235734203763346,0.318395363650035,0.393512604145361,0.49673550836246,0.604075357372519,0.711701064162956,0.877409438161986,1.03637871611974,1.15512921208254,1.28034827713207,1.47156013215347,1.63792186422061,1.85339253489362,2.12021892743028,2.41619897450039,2.7274750029896,2.99837062969053,3.2377298564441,3.50366723216055],min:[0,-0.0609059092263691,-0.0492175109809196,-0.034075520198676,-0.0135568387138761,0.0276033609779214,0.0622862052651152,0.0984235753177876,0.138426574011183,0.176526179245709,0.209119024719894,0.236100589178413,0.283727168163602,0.329781151980035,0.395792519647005,0.491182054148984,0.557404325549046,0.60271383378055,0.657839088241357,0.703292856277266,0.766660843747053],max:[0,0.266332718181439,0.466654607101465,0.663278437599681,0.873776370576672,1.1051381647755,1.34514816645954,1.62310732258572,1.96224772213724,2.32332851943988,2.72546115587171,3.13201550730302,3.62299167787407,4.16878104503926,4.69813703818784,5.21739373293736,5.81262324082554,6.5522919758967,7.25464653441874,7.98184129104209,8.74044597066993]},moderate:{median:[0,0.124189639844691,0.209960785188946,0.293766303552184,0.368725380768772,0.470198778246253,0.582371953148809,0.689548371707689,0.777910593916157,0.885365082077086,1.02248087834277,1.17056187151497,1.32351909026716,1.5095112305367,1.68969320373651,1.88030062088081,2.06509902477446,2.23331495959901,2.45071754919596,2.72633710920682,3.0319774279845],min:[0,-0.0594024586130535,-0.0582573588983,-0.0404021548044888,-0.0157649381196345,0.00930934980752118,0.0446535740218577,0.0828008337189405,0.126692758846509,0.175929649041622,0.23604295848444,0.291091158953263,0.345194202327376,0.412331645607378,0.461166011674583,0.506996587815018,0.541771818324707,0.550714742762417,0.577394496908506,0.644138636379908,0.737984446873268],max:[0,0.255341917297185,0.438999068130826,0.628960442997627,0.838480488793571,1.06369418131704,1.29456725663621,1.51849519140559,1.77288818359373,2.05339437444793,2.35891661488155,2.6814975890582,3.03128910345296,3.39119083343054,3.7982288240946,4.22846824487355,4.65913017434473,5.16166799156837,5.75770364795182,6.31831580572932,6.77348766185165]}},{conservative:{median:[0,0.090233758159292,0.193538505709354,0.284583747875538,0.36882569329173,0.439995115864986,0.517136071761256,0.627910457481595,0.72925309370336,0.850912041707389,0.971363013568868,1.08544560771851,1.20205592759303,1.34127328824466,1.46827035898752,1.6453774309852,1.82352154464349,1.98997070755257,2.15736504420208,2.31172492001362,2.52165401320523],min:[0,-0.0453781648392004,-0.0207668411322721,0.0035049265875029,0.0326544294995308,0.0682630607362942,0.112221258342432,0.163663092837343,0.207589340485404,0.262497666694277,0.325640920582706,0.382844743595274,0.443455105411387,0.504160949182903,0.575045033088177,0.667214432543308,0.768050952060291,0.866980982209638,0.945223888007856,1.02392510570458,1.10587708337542],max:[0,0.195388721732069,0.376936899772377,0.54446449142628,0.699197376614424,0.859153763755937,1.02934894742574,1.2175624430664,1.41092558499257,1.62360327219341,1.84537490635573,2.0794065102813,2.33214810660998,2.59298485098261,2.88955529207211,3.17747559884406,3.44564114186773,3.70693167033585,4.05949960619041,4.39884405750567,4.73697410577486]},aggressive:{median:[0,0.136384959509395,0.213996546119502,0.310389840955524,0.424488887751207,0.545760304913645,0.674876798146543,0.811458191676794,0.976200703706856,1.1392210235567,1.25371664549102,1.38653944018828,1.57216256783785,1.7908492238416,2.02494822180815,2.31861818041614,2.56528431637757,2.74784657341142,2.96758591022016,3.2849151916355,3.60130322534862],min:[0,-0.0609059092263691,-0.0543124498589663,-0.0308034909849941,0.00304107431107847,0.0424041800461281,0.083047987819828,0.123906029764316,0.180535352320243,0.223859961591736,0.2449134069956,0.274610928680596,0.326259611373295,0.38276833567303,0.423015511712112,0.487871219157033,0.570804285666992,0.666101670696112,0.745392268691139,0.857340610495836,0.94403404300746],max:[0,0.266332718181439,0.463369724894802,0.66442494638961,0.874121283366905,1.11017171703064,1.37718657875429,1.68705135388293,2.01087673281519,2.37288675584043,2.80844054655395,3.28305146226096,3.75413756538866,4.22470922548524,4.74211254214409,5.35036672339732,5.98275730006045,6.63932374712296,7.34655597405863,8.10677395528718,8.91634963313084]},moderate:{median:[0,0.110849972068458,0.208303469482591,0.308387403389255,0.402795293645969,0.505494354835466,0.617875907557574,0.719222239495164,0.812870815112648,0.940079559663484,1.05612442529575,1.20872978623021,1.38390327661809,1.55843820093762,1.72787170312506,1.89728965378673,2.1273013449034,2.3704017064274,2.60661995272574,2.88355154377278,3.18050738422943],min:[0,-0.0609709014894841,-0.0507682847269272,-0.0345667382429171,0.000337368589195197,0.034678465818931,0.0769025557859717,0.124037900823181,0.169820732103044,0.222270366634584,0.274469558103495,0.327749541866799,0.388012023773617,0.438830523346808,0.485087631486421,0.538281509155962,0.61564435067543,0.707590067413335,0.812008369592508,0.93167600588591,1.00324167262444],max:[0,0.216782285659229,0.427995312904352,0.624593504099214,0.829866169000292,1.04391545680189,1.25506841295019,1.46888639136549,1.70319471917511,1.98648169384528,2.28060461029988,2.62610887058928,2.98993400902019,3.38649811702405,3.78421297847914,4.19818411806585,4.61968455510958,5.06269136913673,5.5087457432385,6.00736917292727,6.61684727647367]}},{conservative:{median:[0,0.0920515667056014,0.181189219126423,0.263550890610565,0.355442717062069,0.432578893998766,0.522984522612388,0.615593400073874,0.695245458775582,0.782014901033172,0.90716815616013,1.04854537371106,1.17949465771283,1.29670408507004,1.40956825326698,1.52033671896553,1.67158132257945,1.82705448064179,1.96631065371432,2.10548583544309,2.28037192142052],min:[0,-0.0459421095430462,-0.0505381870691333,-0.0406335397610866,-0.0224090713755325,0.00165614592741714,0.0381942424757009,0.0901001932055647,0.14840372384227,0.20689528386594,0.267949198425636,0.331361287452696,0.376113292265591,0.41512077607242,0.458706668282175,0.515614256768613,0.588496157074804,0.665784354083377,0.736428417797878,0.799458808882533,0.870365909268795],max:[0,0.196916833441152,0.37624823901792,0.538179584051182,0.706023913195332,0.884663172700841,1.06674786824478,1.25495916704958,1.47129261754334,1.69003787708127,1.89259116225158,2.10132879893904,2.32859379565915,2.56603823968491,2.81688303002103,3.1006440264044,3.41231194061357,3.73784355149025,4.03882623382479,4.34774300105282,4.70515738489424]},aggressive:{median:[0,0.136384959509395,0.248392543759572,0.361581743018139,0.464156513807847,0.564354979468902,0.700409068939257,0.84066694519194,0.978130693511907,1.10960604194594,1.24305890261526,1.3900818994035,1.5175411848357,1.66239404992828,1.83548160424389,2.05782698293915,2.3054144718347,2.55669031928978,2.78935245876785,3.03849164759996,3.27632589741245],min:[0,-0.0609059092263691,-0.0509560808751948,-0.0285269893567893,-0.00567106007498763,0.0213822058235331,0.0491037074219611,0.0904739891768573,0.13266333879578,0.150703577575035,0.18771913079147,0.203503803960843,0.200225451626684,0.202272735718227,0.228184790730355,0.261047237475586,0.294622460885051,0.305683022437236,0.275419373304264,0.227389445191212,0.192374447805104],max:[0,0.227961001331181,0.46610534055908,0.684555751506589,0.900938027895055,1.14249332403761,1.43212458160449,1.74084015367059,2.05571569560422,2.40033960955129,2.76012172726159,3.21273515442846,3.73241454787468,4.25778373389245,4.79351224931821,5.36771217546798,6.02162015449655,6.75467446806076,7.4373587267077,8.23756783073678,9.30263231851662]},moderate:{median:[0,0.110849972068458,0.208214870366869,0.304062114559375,0.40030040134181,0.498535940833469,0.596595503254293,0.712447203222417,0.853468269189435,0.96299357410077,1.07004792915867,1.21648329481282,1.35262688632959,1.50777203273809,1.71978154388602,1.90392688284598,2.0396578674965,2.21991032067267,2.42969027142662,2.6253762498267,2.79262469066553],min:[0,-0.0609709014894841,-0.0462204726693587,-0.0298794688247744,-0.0148057250361981,0.0140305973215991,0.0465216488726607,0.0813398307224598,0.12693685934783,0.170275773963447,0.21416594842337,0.273465069915821,0.325296097504171,0.385296118292626,0.453064428843394,0.514570219587198,0.571808616038425,0.629169348260682,0.661301676284756,0.703193756882505,0.741461935346883],max:[0,0.216782285659229,0.426318800831233,0.631886355191468,0.828396943568603,1.03002356292192,1.24861304173596,1.4785751510047,1.73609302796585,2.00938372261672,2.29405801118726,2.595621761169,2.95275902896368,3.27187622889216,3.64317016256308,4.07031638380108,4.51938746664808,5.04694075899794,5.55594687320195,6.10637469087097,6.75050521092007]}},{conservative:{median:[0,0.10437085069581,0.18791759019995,0.267451913770481,0.358003472421261,0.445435496482989,0.537330115413896,0.639922840851111,0.752295384430163,0.866134261307304,0.990302423970157,1.11053991878987,1.24160868379158,1.38098436352813,1.49681142504261,1.65881629947702,1.83332560327737,1.99907329976958,2.17704740724387,2.35106569400464,2.54644741249543],min:[0,-0.0465060542468915,-0.0440661038214258,-0.0263324479731725,0.0117197900557267,0.0606604472731571,0.0998395601101314,0.138902199569557,0.179789472016731,0.229958549514221,0.282619190391098,0.324061265393104,0.368650250595667,0.424259290700479,0.487549725133846,0.5559820616311,0.617468857778654,0.681621774882833,0.744290782748769,0.807031687430308,0.889069230857937],max:[0,0.198444945150235,0.390659236104062,0.559059411340347,0.73364439574674,0.918533354528553,1.11151229154749,1.31353870988226,1.52317098984666,1.74915690266596,1.97949434521343,2.22478074957968,2.47573013114575,2.73808705567002,3.0034966357209,3.29689701342131,3.58738861248183,3.86175322135993,4.19451763368629,4.54807567296315,4.868170061166]},aggressive:{median:[0,0.0997662660900074,0.202742562930347,0.307053224889425,0.40811293914009,0.54372236079371,0.661259316597423,0.779312470621696,0.917235640737158,1.05301052054148,1.17313039689054,1.3388609039776,1.58078748511478,1.81346757307611,2.00065714437798,2.22172889089994,2.44243120708222,2.61726443364918,2.85843408826586,3.12846550935547,3.37926612220741],min:[0,-0.069744234625589,-0.0737084116271769,-0.0626043433114538,-0.031551961484229,0.00447878862423123,0.0343281769675154,0.0797151462800096,0.136279353327158,0.175711325687383,0.212189456627361,0.247218770768349,0.260045703477451,0.282177550711567,0.303346051626631,0.343089455431736,0.4553091332328,0.572305616686554,0.627864201193956,0.621423890080877,0.632567227383244],max:[0,0.266332718181439,0.462515079539912,0.672528852174452,0.894553687974018,1.14615970281237,1.40613178509514,1.67724837854711,1.98243199110229,2.33566503190763,2.71351938693319,3.10420870621167,3.58086391251113,4.12447860476356,4.70343739857926,5.28532714234713,5.7805457407689,6.30381038053501,6.89651308345684,7.65788960661719,8.53967939778948]},moderate:{median:[0,0.127492151505622,0.214039341329994,0.323899422192057,0.438781819732684,0.517143558249645,0.588436034290678,0.704469065784763,0.823864269659233,0.923866959619458,1.03903182291221,1.19527728145328,1.35844976582623,1.51904004152883,1.64289500216131,1.83077459588105,2.06629349886304,2.29236793212303,2.51478946867958,2.79258089970982,3.03942473536307],min:[0,-0.0550640294113827,-0.0582640279785278,-0.0471906555602082,-0.0109440868426375,0.0137268628237694,0.0440411206170199,0.0879017016965107,0.122335806035461,0.143464235210438,0.172164415029622,0.212305489903269,0.262416035649104,0.323774650613597,0.3833690331794,0.447419998721261,0.525059530701874,0.577745806538649,0.637551975240916,0.706666378581314,0.757343516620745],max:[0,0.218310397368312,0.441064872314791,0.656214579354523,0.868300326185682,1.0795984177242,1.29683777057895,1.53174675194018,1.79198445765421,2.07494979071639,2.39491291154247,2.77532366204794,3.18964419060937,3.61303217810796,4.0302415410723,4.44132383420449,4.81933825905214,5.25157382673545,5.7794173875575,6.30377982456989,6.8624449036428]}},{conservative:{median:[0,0.0910725541297932,0.187156837958964,0.274399695130954,0.360599743163696,0.458342336311737,0.561662285564602,0.669410643857637,0.794958697734177,0.909478757239474,1.03159747918762,1.1627327536049,1.29994007370268,1.43765106038821,1.56799394599641,1.70258712077154,1.89379914037933,2.08408844153263,2.26845964622977,2.4623822260575,2.60443208164939],min:[0,-0.0470699989507372,-0.0398390176031115,-0.0185747429102237,0.0111609203713992,0.0523747144064051,0.0969986900967645,0.150413313375488,0.199005371751429,0.239047647061857,0.280842286222939,0.333077546981674,0.391770192385852,0.436678277239695,0.496070463880273,0.571120830163434,0.634780133408686,0.697320069863128,0.781478005054267,0.863881164763755,0.957611198498528],max:[0,0.199973056859317,0.390430569840062,0.559810159811059,0.729038749291299,0.901216827999006,1.08721649611806,1.28826744871808,1.50705056073244,1.74543479585521,1.98689379364545,2.26458060645798,2.56038099261447,2.84182497697335,3.13399937905548,3.43744074716918,3.77479584569596,4.12574372312456,4.47017078995393,4.83153634579063,5.17564044905986]},aggressive:{median:[0,0.0997662660900074,0.22838390434891,0.324118271287327,0.423531632489913,0.529068147015297,0.628481058686506,0.741144007243402,0.848188733742565,0.998328122537597,1.18743188346066,1.35514557939145,1.52676293888155,1.66848849904532,1.79416332726753,2.04596577952902,2.25742163706481,2.4747016973844,2.60659849204768,2.73242846194931,2.92528032637079],min:[0,-0.069744234625589,-0.057544864449637,-0.0407515986313496,-0.0136462551276645,0.0149660891763881,0.0412705454146129,0.0619615371715747,0.0777134771132006,0.125395782921968,0.181561240137292,0.21685486758304,0.233970904944245,0.237698016338373,0.223064160883782,0.257724060746469,0.268112343184368,0.258016426037162,0.198579792712238,0.162600853524397,0.0969646652969738],max:[0,0.227961001331181,0.453762949615647,0.678276666948329,0.919524931033874,1.17964040949171,1.44279122995552,1.74497823203011,2.11359004258048,2.48134268763421,2.82442766170966,3.2135949334981,3.65336310871827,4.13884744021344,4.6660493748463,5.24315404513289,5.95890977011608,6.76043329012567,7.63474023960734,8.52631330707747,9.45280652763262]},moderate:{median:[0,0.0944277380117995,0.213980658080937,0.302146695194511,0.407548126373651,0.502740263127618,0.576477189249694,0.682735718390497,0.805544478474339,0.889659482796493,1.03191949716857,1.21520063510781,1.33382096918044,1.43464282162531,1.63995679071723,1.84088140840523,2.03087162685087,2.21992880809891,2.38619704173615,2.57390695280572,2.89320424301049],min:[0,-0.0624331236788349,-0.06129650004517,-0.0468443995935751,-0.0191499646794163,0.00826792044391089,0.0399138586505012,0.0773722917385771,0.105209775392955,0.125637743165209,0.156997254539159,0.203676272936791,0.247528888989983,0.287867748280894,0.315015921148758,0.317966533209639,0.330435422421872,0.352795918234175,0.365621583518243,0.413237910541971,0.576299683952438],max:[0,0.218310397368312,0.437121485224973,0.622525722919721,0.807714310600185,1.02544653302509,1.26505625196886,1.51968692531739,1.79186903369222,2.06658221964199,2.40901974879267,2.78669383677182,3.1565648949905,3.530660403325,3.98292460157801,4.53228669342218,5.07774526064672,5.58920203679198,6.19566089105084,6.80057095650155,7.28723241581559]}},{conservative:{median:[0,0.102158817074097,0.20808757704966,0.302536179816239,0.384106497518706,0.459440074647664,0.565745216670722,0.675111189430926,0.783090874730261,0.901437639900416,1.03921525241394,1.18897503963116,1.31837888065663,1.45984836609927,1.63889166487732,1.78918499044672,1.9470538981033,2.14845972328556,2.31382619670759,2.52055853827167,2.7103387471353],min:[0,-0.0476339436545827,-0.0390345575606753,-0.0126523843208718,0.0265942327290452,0.0605393324649726,0.103612650985371,0.146401627170611,0.201673619159175,0.257493995468481,0.305332469424236,0.377679438877345,0.453192651709972,0.489942514437611,0.520347499138416,0.592046271062058,0.661286483285611,0.752095207698989,0.845631213962003,0.914710095115326,0.968736793402802],max:[0,0.201501168568401,0.38346768479233,0.55731559540709,0.730941903613513,0.895547422072738,1.08004946755584,1.30002911592765,1.53774663952318,1.78058870031884,2.0356745090708,2.28856991881497,2.54989387028613,2.87213707474236,3.20104371936576,3.51499926374545,3.85409168811397,4.19208649871983,4.57013829505998,4.9723921576061,5.39776967097811]},aggressive:{median:[0,0.13363867184362,0.233394183885086,0.323869307349243,0.435806230602174,0.557090580445673,0.679405141693839,0.826844086431115,0.986020056219517,1.14418157593938,1.29401589133723,1.49375540603266,1.72461444427775,1.95692065518241,2.14352027784839,2.30653110870699,2.50028674022581,2.75160737019652,3.08938487923546,3.39766340387924,3.70611182776909],min:[0,-0.0609059092263691,-0.0397434900371094,-0.0147508844195802,0.019537646277801,0.0538236277192778,0.106279089004862,0.169818289158179,0.226072579149294,0.281359949759876,0.322477821843935,0.370224933532085,0.421267497574554,0.46440426290393,0.530550382259293,0.56502505991961,0.56766856861846,0.591150934211143,0.661534739021171,0.774505174605831,0.824894273894085],max:[0,0.227961001331181,0.450002738679506,0.659078338882058,0.879648517857273,1.11956316195006,1.39660302364091,1.70123852885846,2.0186949272781,2.35419207885833,2.73611355954666,3.16193020755643,3.60974318503542,4.0893470603824,4.6056714379434,5.22862587394402,5.94510206106868,6.69984462943186,7.40688463581267,8.11552641461303,8.98773138791753]},moderate:{median:[0,0.129270713106376,0.232501452981327,0.321335250445143,0.420917208114653,0.525615660539036,0.644498737503115,0.804727673204367,0.977938739118199,1.14787797563242,1.32160778611494,1.48408425417376,1.67372117733429,1.88379314810186,2.07238613026518,2.27230668010712,2.5015897838638,2.7005287176097,2.96516850865299,3.28532964214287,3.55788920778523],min:[0,-0.0562324053743802,-0.0346614735618239,-0.00163841848825486,0.0327830614573625,0.0688869895581496,0.100605319790767,0.143865758012992,0.205610686056246,0.275519081442736,0.34470070594942,0.406715655743429,0.460429897263907,0.518826134206133,0.602042876724947,0.688959156964305,0.776591561860977,0.868172223263389,0.96081843670899,1.0292172320553,1.07188090487969],max:[0,0.219838509077395,0.443989220543341,0.645363273218477,0.846616309269855,1.07357823388301,1.3263803117352,1.58203036372212,1.88344835105389,2.2010496476965,2.55437336170852,2.97202990068372,3.41520580458362,3.85004009829471,4.29840618156612,4.75716834195499,5.25943565804682,5.80802138251627,6.44281528701637,7.12947216544653,7.78146145791855]}},{conservative:{median:[0,0.0916317514434613,0.204099169168342,0.29988365886816,0.39759537781755,0.496527386730132,0.584320305447893,0.70426266213515,0.819268460516629,0.935608505807739,1.0684928263494,1.20984598927056,1.34929910949466,1.51812879443188,1.70989886620302,1.86451937494094,2.03682201894713,2.2842314875924,2.5155190505955,2.72383711531596,2.90000452064047],min:[0,-0.0481978883584281,-0.0370595625414035,-0.00885874055029889,0.0317695070861157,0.0681857728219704,0.0992979920070189,0.136110960759036,0.179612658181697,0.228751838362036,0.291807155389711,0.358336463260271,0.426487037293519,0.478406651220855,0.532510194536006,0.588448830753106,0.659187289537987,0.750172256136367,0.835904252218442,0.92902879613933,1.01108621040508],max:[0,0.203029280277483,0.401012560692623,0.586580134488622,0.765170495064807,0.958117749149268,1.1687888270378,1.37986356128367,1.58935607333242,1.80936683587366,2.03985500718408,2.30247818979761,2.58237722020139,2.90392693894497,3.25784262030495,3.6373688291995,4.02024626370752,4.38613064172062,4.78970858015185,5.22525167113665,5.63566740897968]},aggressive:{median:[0,0.119526159159006,0.237305598650765,0.337071552367977,0.438585999925335,0.570000221780629,0.684922021661903,0.803973430201592,0.981334701926605,1.13951404155261,1.27284824899737,1.42403384382318,1.56590406487024,1.70117213906611,1.88932498684104,2.14016210922618,2.42196306700055,2.65562943612524,2.82545522386845,3.01316751843334,3.29292090048579],min:[0,-0.0687379041724941,-0.0486608545954587,-0.0157644928662396,0.0169750677276033,0.0506640123851252,0.081673626601682,0.0961236665270651,0.114390102284123,0.126593568707778,0.143242507225496,0.176050121610946,0.194785091597444,0.234476964894406,0.275414624552526,0.300585328607132,0.343578712371579,0.391963818382015,0.461035538411455,0.498759137557473,0.42221755197332],max:[0,0.227961001331181,0.450652024778689,0.665859464081201,0.883276655907607,1.12695407879496,1.4050871817419,1.70790221227903,2.06772381356627,2.46808889994766,2.87092992487884,3.28450493421116,3.75004628894558,4.28757932752415,4.92024100151238,5.62128354227526,6.28978856673528,7.00190772945072,7.79811079688452,8.61236858180122,9.62703652434267]},moderate:{median:[0,0.129270713106376,0.221081582589315,0.304744189776893,0.409447908285582,0.505926349637787,0.640065949320446,0.769882344696257,0.882988750547002,1.06046683184548,1.25190017062713,1.43624406272042,1.6147137346739,1.77855246648216,1.9091622380687,2.06485297489699,2.2884990043675,2.5749733042477,2.90833007493291,3.2402692317606,3.61735702483557],min:[0,-0.0562324053743802,-0.0439553677355372,-0.0180092179882732,0.0114073696268566,0.0401615846297685,0.0660632267130778,0.108604072317746,0.146520814370146,0.191473839260098,0.238717609940778,0.276823245894459,0.32718756438772,0.368662139369553,0.419802803603672,0.471491541216345,0.521258167068273,0.557260543174908,0.580935751335388,0.648546148746288,0.752829083731712],max:[0,0.259005517591936,0.440110138008844,0.627161586159465,0.841108783982682,1.07206085846874,1.31158581732895,1.58689822305305,1.88623901322388,2.18325854233129,2.50588974092478,2.90439340526027,3.29889585250296,3.74565077735439,4.23699482287272,4.78590264591993,5.36834414756871,6.04290020173382,6.68752708211375,7.35387020820956,8.06415133870908]}},{conservative:{median:[0,0.119365616621039,0.202017135758791,0.293748339277939,0.376798329566257,0.476225131820086,0.586695338562244,0.699139823995521,0.812983048850655,0.93419424463374,1.08643767790475,1.20859928144835,1.34455436886417,1.54035494441673,1.7471616446086,1.90922141032031,2.0594343061716,2.25167222302913,2.4258078322275,2.64032822663639,2.85283032417686],min:[0,-0.0111677623954693,-0.0159817096297801,0.000750705412364772,0.0257489776103532,0.0615299955951283,0.117203378399149,0.175307380119455,0.223031137009376,0.268221995537075,0.315469097704189,0.367241370423165,0.43053619060762,0.504043899483479,0.569035208942549,0.62507559514199,0.688943258696631,0.793214106650957,0.890894747010245,1.00808166412898,1.11916029746198],max:[0,0.204557391986566,0.397377452100534,0.579062015498698,0.753926852413284,0.9355133933044,1.14469447436439,1.3739696426999,1.62661652514117,1.89254639539697,2.17851708736254,2.47183077591483,2.75701072738547,3.05916539640143,3.36035145860076,3.69301774861897,4.04679290651328,4.3825737038053,4.74694183902392,5.09218757363433,5.44229057790088]},aggressive:{median:[0,0.0997662660900074,0.195621260134396,0.292821447860434,0.38374399436228,0.48818873824611,0.631306416899691,0.758940465274252,0.88752709172102,1.03349747522188,1.20387563585497,1.34516249861029,1.52494898082488,1.76919664789884,1.973055485934,2.19850245914149,2.493196489219,2.75622187423036,3.09020965293309,3.33811497257228,3.55156375254869],min:[0,-0.069744234625589,-0.0743080574015336,-0.0598248737365339,-0.028749908061283,-0.00144485312168352,0.0315774178618868,0.061066542654985,0.0919155670789271,0.122238616310275,0.178103214420556,0.256917620270942,0.321456261291899,0.36572825969366,0.395739807863131,0.435880747456039,0.430224134938522,0.390657666590409,0.400273230992782,0.431200775364915,0.534361499792464],max:[0,0.227961001331181,0.448994667372378,0.645468294165461,0.841552641846978,1.0669545998346,1.33931453232739,1.62031482022187,1.90863501322695,2.23033181183583,2.58962751477823,2.97197775205865,3.44316664674843,4.03544422725435,4.71379580166915,5.43435984328127,6.2994833146038,7.2180209290062,8.08818881095115,8.97433512727683,9.75282832476294]},moderate:{median:[0,0.0947073366686331,0.204075903658407,0.301504638019586,0.400694984701386,0.512644381298319,0.645572296321333,0.758142073601526,0.878504313196909,1.01785245926302,1.21289004054485,1.38079605830854,1.54828516667031,1.77354437304742,1.98554384539401,2.22278678785584,2.45998811036469,2.64505128216365,2.82664283203071,3.03788220344533,3.24240180435323],min:[0,-0.0638953458681861,-0.0409622054625134,-0.0149021161602854,0.0133082268143667,0.0433929647638103,0.074550765553169,0.114682612424451,0.16894478348472,0.223693730826859,0.292551073006358,0.374160386834867,0.446676139971019,0.510387219611669,0.589668546158614,0.654286480625263,0.700446584147947,0.783876290574973,0.859408288001424,0.907168867140695,0.912610712572284],max:[0,0.219838509077395,0.421679199246342,0.632822866448688,0.857254849795015,1.09756464650966,1.35731289626161,1.61004926749516,1.88362770162704,2.17000878806805,2.47560368749211,2.83711733486547,3.248117142657,3.7165486743578,4.19905760732191,4.73866296007659,5.35153185150797,5.95371850126149,6.57432967893434,7.23585762809426,7.96558752244057]}},{conservative:{median:[0,0.113165769179275,0.209169014108742,0.299658564425875,0.396636960939023,0.501654530328361,0.599495780679284,0.701522634909615,0.820966646243485,0.958454176339333,1.1091147497612,1.24359385237946,1.40048567502442,1.55474552032215,1.74002049882792,1.94331921970794,2.13553121603665,2.30309988327132,2.49756898809615,2.70043717498872,2.9700250829549],min:[0,-0.0507353461640289,-0.0413240241652727,-0.0164641704927642,0.00729149472697399,0.0413098153799205,0.0901549498889482,0.139981009039939,0.185330651405839,0.223589934854832,0.278634613192628,0.33657234974667,0.4070827089492,0.485336738731259,0.557528351490773,0.623569478804037,0.678004036571517,0.73252921653113,0.804223515344606,0.88247505484814,0.934476341512308],max:[0,0.206085503695649,0.401691514653194,0.584674290968918,0.777583227790006,0.994514521892673,1.21926176777457,1.43629208754406,1.66653928293238,1.94299374163446,2.24604537269083,2.55206495139848,2.88077148917783,3.25827651827454,3.64815166424603,4.05554763617017,4.49946347965887,4.94392522209124,5.36629957919816,5.82620990641085,6.34501180819906]},aggressive:{median:[0,0.0997662660900074,0.195984066961434,0.270186031452922,0.343431939692418,0.454230797549035,0.584233657001317,0.698467430659792,0.808814004061027,0.927175591764181,1.03434524860517,1.20078405606063,1.37700285317745,1.56210196954535,1.71849013384856,1.89378187092966,2.09265822660847,2.32158856086176,2.62424664268692,2.91921159413039,3.19443969061289],min:[0,-0.069744234625589,-0.0665511837597714,-0.06390581677705,-0.0515786033078582,-0.0168169673616778,0.0237687282515899,0.0619072902538376,0.0987380670267308,0.133407784209139,0.14085161528266,0.139002172062401,0.142535534432073,0.186277469171419,0.216563017444116,0.212436914550274,0.185888774229642,0.180470626961151,0.211218815263013,0.253794604966137,0.286594494740263],max:[0,0.227961001331181,0.42786109033262,0.629505100761734,0.82840344641631,1.03453575646095,1.26282689499656,1.53505592399253,1.86853101307132,2.20975387772671,2.56955545377837,3.02097485690091,3.521098052004,3.96899477598865,4.52236249395938,5.1958487673489,5.93682268226503,6.67011047225593,7.42788221889312,8.26128581394599,9.21644229140099]},moderate:{median:[0,0.113742034431974,0.216492071467423,0.320720944100713,0.401659115891879,0.491104595916509,0.595148623594272,0.70081301460825,0.83482522007724,1.002825940926,1.16464195754737,1.34049753467765,1.52940040501684,1.7327122184243,1.97116004951881,2.21586365911148,2.38778951691783,2.58667846246177,2.82083739837723,3.06689611784796,3.27801110640543],min:[0,-0.0638953458681861,-0.0537504765509318,-0.038860359895885,-0.0286407942681679,-0.0209604704847325,0.00158495916987444,0.0395802567032022,0.0955734178738812,0.135848973682291,0.174062385263848,0.209020465095814,0.252759884728254,0.288763336876492,0.328240109139152,0.390127541756919,0.431433940148769,0.447199776610597,0.482296924419134,0.508255506545228,0.546636408779823],max:[0,0.219838509077395,0.435091071990148,0.653096358996826,0.88142706328232,1.11967454668587,1.3615293583824,1.64283762447121,1.94062982907969,2.28565447150078,2.68740493204507,3.1370488614178,3.55730827089466,4.04409363684725,4.59679868639492,5.14518517831026,5.7132289457701,6.42014037129479,7.17616871541884,7.90961646912238,8.7399739124361]}},{conservative:{median:[0,0.113165769179275,0.215165067681326,0.309316225955951,0.391480935734585,0.493093646740175,0.612880905648757,0.738234091840431,0.847642454993085,0.969213185117929,1.11396615662619,1.27336529893827,1.47783885840226,1.67570184529403,1.85484207736634,2.03641303413249,2.1755690221975,2.34489716383526,2.54596537546516,2.80432062179952,3.08014098830775],min:[0,-0.0507353461640289,-0.0423580767544827,-0.0190323780424246,0.011398346137496,0.0485593583154678,0.0938696589819299,0.139090804856997,0.19454686801818,0.24753847635509,0.314389978110335,0.38477097458777,0.479371056734569,0.567008659432338,0.623663590742366,0.692221679043282,0.779133850059412,0.849552465188061,0.936258117761135,1.03265419282377,1.15048552318431],max:[0,0.206085503695649,0.408203345744353,0.590369219154882,0.774310508210398,0.970950188846002,1.18351689371264,1.4286835588927,1.6787510890783,1.94052751304923,2.21899606529782,2.52080845325263,2.8441554350467,3.19847966484294,3.57056909464774,3.92313013712358,4.22552803404596,4.59121995972801,5.02384448205215,5.4703806654063,5.9636058926271]},aggressive:{median:[0,0.13363867184362,0.232960773700011,0.323594490330225,0.416503194939927,0.511521900195796,0.633595303208474,0.776145804471995,0.943254377025324,1.12290402315851,1.32210662464606,1.44388422012628,1.5520390470276,1.76711104675204,1.95693182922913,2.19270713579636,2.45928554304723,2.74114732653065,3.0880035717463,3.43344383545034,3.83025516466572],min:[0,-0.069744234625589,-0.0541819903423553,-0.0258381967746579,-0.000546816502366987,0.0209564131470221,0.0601858124752552,0.113222368349742,0.157805630672348,0.216182771773326,0.272925088373345,0.322718337007343,0.349538001520034,0.373600858945253,0.369767044944422,0.394698281395282,0.430019096409374,0.504038599164472,0.552935482611174,0.659355516855196,0.802148679353322],max:[0,0.272955728978958,0.474431371049524,0.684840505637426,0.892639018755527,1.12728938838553,1.40513866109517,1.69278395335334,1.99686576353199,2.33974346431103,2.71164923532002,3.15305249987379,3.65443874055654,4.24251885456161,4.92690890980826,5.59311130777561,6.25158436397176,6.90623247399413,7.70528763123484,8.49099824591055,9.23458209329145]},moderate:{median:[0,0.127339317177667,0.21106819540659,0.316827518267529,0.423498464646368,0.504750553009962,0.599512939568889,0.707014888823288,0.852436468232386,0.987651553331643,1.16073087444247,1.33526650922563,1.51562264607986,1.74147974896371,1.98077695615906,2.19495804799642,2.3939733901667,2.57933202241082,2.69404683111436,2.88924651262339,3.15428162934831],min:[0,-0.0562324053743802,-0.0475240596618671,-0.021537466710524,0.0131172870032068,0.0419645824997517,0.0771715625323852,0.111972945926678,0.150714397354396,0.182187403233544,0.22401056126374,0.266470595372392,0.297035258199287,0.347424469949465,0.411383474765946,0.456669471048421,0.440476799204934,0.425449198311765,0.397995314084614,0.413822641684468,0.474247146014],max:[0,0.219838509077395,0.442709148926752,0.64231822560281,0.850026742255847,1.05834254571934,1.26738305472049,1.52987543666482,1.83077771301275,2.17090448800889,2.57194110891112,3.00142380899799,3.45870091504433,3.95450217656714,4.38337247557089,4.89779045444995,5.62461220699895,6.39768855870997,7.19971609396837,7.9770218932078,8.66105865010723]}},{conservative:{median:[0,0.114740607845762,0.221489928995477,0.312136722810078,0.395299301116176,0.511004559413661,0.634365880174765,0.730914020413479,0.834336318252747,0.946890557629473,1.08199324555379,1.22517160077109,1.36436033465889,1.49875751876223,1.66780606370039,1.84591720682597,2.05276448405207,2.21753237277682,2.34368781521141,2.49426800226395,2.71424950295911],min:[0,-0.0521975683533796,-0.0454611861082201,-0.0246506128387101,0.00436217037597197,0.0466133005373757,0.103078990328105,0.136534281625455,0.181364481581643,0.227159010964277,0.265624603320919,0.312861147027629,0.375791111439219,0.426464259050321,0.48390365690294,0.553945943736859,0.625644555181709,0.674208554460631,0.736143993362824,0.793117170710098,0.876186366532184],max:[0,0.24435111641293,0.427812300107398,0.621306077548428,0.832542184874014,1.04991412590004,1.26540744743891,1.48798949869583,1.75819465137199,2.0323545444019,2.33373304701126,2.63611087380435,2.94621442415878,3.28804675239995,3.68053779987901,4.07529906122505,4.45836732812735,4.91392109741807,5.38719467721258,5.86112642721916,6.33571612067361]},aggressive:{median:[0,0.120972190340765,0.192371339378622,0.292776747494189,0.417969399967601,0.512626464783719,0.595177303328815,0.733613567543783,0.886509959261816,1.04480377185859,1.21778771596921,1.42554843717187,1.6684169251338,1.90375980566538,2.07222739225618,2.30606549108302,2.48911263044529,2.67096499576877,2.87170131967418,3.18955219452755,3.58809237417043],min:[0,-0.07120645681494,-0.0691538608891978,-0.0432290599007537,-0.0138802672209619,0.0169360856231699,0.0568780231848445,0.09090179832227,0.136387500814579,0.170895930123088,0.188869151541688,0.23000698536289,0.29403767796749,0.358134134244637,0.411650805118222,0.459764945598362,0.483299422309779,0.474234192034662,0.534607267680062,0.57725821838957,0.599546769399496],max:[0,0.23033411870054,0.434888023323194,0.639986057780414,0.863085269563127,1.10015335537898,1.3645667650998,1.67360662116176,2.04432146362647,2.44226043379268,2.8798757858017,3.37693035335008,3.89607198968362,4.4323868967659,4.99009786507695,5.6577906674579,6.38103680701229,7.1250601069867,7.93222554928848,8.90151727593767,9.96102079538066]},moderate:{median:[0,0.127339317177667,0.224763630986176,0.331094103682705,0.443135697961511,0.543938614649077,0.665384785846451,0.789885341969323,0.886560764009316,1.02051101925364,1.1885186252814,1.35524226824574,1.54397536779037,1.73837308766406,1.87524959320783,2.04403058702693,2.24839336326689,2.45472840396332,2.64706652699425,2.83523783785976,3.04063626923086],min:[0,-0.062514273799534,-0.0440341838482941,-0.02493907856015,0.00134154871696923,0.0269332364702315,0.0647216938717619,0.110636506555141,0.137425931731879,0.176500646948402,0.236783920568646,0.27421829855123,0.308958225805143,0.353276753597156,0.359235746706962,0.324316797644195,0.31495068879825,0.332660902141671,0.377179275109955,0.441483316255229,0.487526168817412],max:[0,0.219838509077395,0.445553544909002,0.653012963859419,0.864524034772195,1.09465978717133,1.33821871841347,1.57634674459492,1.84928443518866,2.15374243345403,2.45972652934951,2.82524975423181,3.28841582291985,3.76084787474348,4.27837790833927,4.8632677034189,5.50096371637813,6.15497694631513,6.86887227778374,7.5572006083118,8.30488126548333]}},{conservative:{median:[0,0.114740607845762,0.212050459593561,0.303026315138039,0.400584481157988,0.497958189652218,0.600813537257135,0.73180707185391,0.846788443309101,0.966372147073657,1.09798717037466,1.25471176269309,1.42812440067033,1.56391926248229,1.73586654146324,1.92217235871226,2.11535722736759,2.33200555333821,2.56612326630421,2.81160074117243,3.05363964684212],min:[0,-0.0521975683533796,-0.0409168416173983,-0.0156193975117206,0.0219703442442629,0.0593171780900263,0.0922577231252804,0.129608793211459,0.16385494954538,0.211328006665963,0.255476363534948,0.30930180931684,0.391735866962545,0.462073458734545,0.528774847757398,0.596284610134077,0.660554310182853,0.728458927305571,0.827678265681879,0.928078655113774,1.06212375102595],max:[0,0.207613615404732,0.409036465605424,0.606802728020863,0.809410235441193,1.0126576529961,1.20539660976579,1.42031703677065,1.69752506035535,1.97875394755934,2.29889682428959,2.65470183233666,2.98316124454431,3.33304703043564,3.75093773261316,4.20663202768938,4.66556176920115,5.16003069660798,5.64651549216138,6.09914473209454,6.52269428166269]},aggressive:{median:[0,0.141159884447072,0.254816197439448,0.379251293000231,0.49740072216004,0.595312872490442,0.688055598769463,0.807337904860887,0.95901670783459,1.12392657586745,1.25880195383748,1.45336023897189,1.7559371690544,2.03438373907226,2.22036848843455,2.3852779500472,2.60092767813913,2.9016482212721,3.17900365022789,3.53020027746365,3.96014760904323],min:[0,-0.0572210036199571,-0.0306150670624461,0.00400657150742267,0.0378588704967768,0.0660657875304123,0.0889504540340322,0.11303256660629,0.149244375844723,0.186393667690822,0.21436733054571,0.240388888838072,0.312144215086369,0.389638961511546,0.432823608536804,0.444867509849038,0.449573156091546,0.487423327634412,0.50630102779094,0.534084909350735,0.539150559884812],max:[0,0.274590547808489,0.485682039375944,0.71138454395163,0.956216940512302,1.21460543247628,1.50157505066376,1.81277168288974,2.15394896495823,2.49922942883866,2.92277335796667,3.43298834409027,3.97138716997814,4.52396162340169,5.12527708123157,5.78476255326391,6.55958244911536,7.41839048300263,8.31660543960652,9.28443072899657,10.3124949188704]},moderate:{median:[0,0.0947073366686331,0.186104683150658,0.283286498453733,0.376240997607709,0.471061288671843,0.555845130818895,0.676505400616078,0.791033426944098,0.888748356124752,1.01411828781057,1.21090861265096,1.39736212311006,1.5548402273499,1.72508873110033,1.94686104558797,2.20755063894098,2.48054597514311,2.78813740632336,3.01105172032376,3.23479872741721],min:[0,-0.0638953458681861,-0.0756922324109917,-0.0616419206715658,-0.0395136316658097,-0.0202374010348889,0.00833339327378546,0.050075424029808,0.0732743292407501,0.0953785732031536,0.110830180238835,0.130042733625336,0.159684601926624,0.189935880149374,0.231371562402312,0.268300100205842,0.340363162202412,0.4306341742136,0.518117943366827,0.561672478854714,0.601325606020322],max:[0,0.219838509077395,0.416485908995075,0.61336333290875,0.820581220020867,1.05420194984673,1.30195044909717,1.54500752713077,1.83645866094055,2.18943697505006,2.57728711988774,2.99750317007046,3.44241166869473,3.92584538122178,4.43283738617883,4.98914121103704,5.61284756092607,6.2550371904352,6.86293298372063,7.55800142148016,8.3540127963066]}}];window.MONTE_CARLO_DATA=MONTE_CARLO_DATA;D3_MONTE_CARLO_DATA=MONTE_CARLO_DATA;window.D3_MONTE_CARLO_DATA=D3_MONTE_CARLO_DATA}).call(this);(function(){var TimelineSlider;TimelineSlider=(function(){function TimelineSlider(_container,_startElement,_endElement,_options,_controller){this._container=_container;this._startElement=_startElement;this._endElement=_endElement;this._options=_options;this._controller=_controller;this._options={minDifference:10,min:16,max:99,minStart:this._container.data("age"),maxStart:this._container.data("retirement-age"),values:[this._container.data("age"),this._container.data("retirement-age")]};this._startInput=$(this._startElement.find("input")[0]);this._endInput=$(this._endElement.find("input")[0]);this._bindInputs();this._createSlider();this._handleSlide(null,{values:[this._options.minStart,this._options.maxStart]});return}TimelineSlider.prototype._bindInputs=function(){var _this=this;this._startInput.change(function(event){var end,start;start=_this._startInput.attr("value");end=_this._endInput.attr("value");_this._container.slider("values",[start,end]);_this._handleSlide(null,{values:[start,end]});return _this._handleStop(null,{values:[start,end]})});return this._endInput.change(function(event){var end,start;start=_this._startInput.attr("value");end=_this._endInput.attr("value");_this._container.slider("values",[start,end]);_this._handleSlide(null,{values:[start,end]});return _this._handleStop(null,{values:[start,end]})})};TimelineSlider.prototype._createSlider=function(){var _this=this;return this._container.slider({range:true,min:this._options.min,max:this._options.max,values:this._options.values,slide:function(event,ui){return _this._handleSlide(event,ui)},stop:function(event,ui){return _this._handleStop(event,ui)}})};TimelineSlider.prototype._handleSlide=function(event,ui){this._updateStartLabel(ui.values[0]);this._updateEndLabel(ui.values[1]);this._controller.changeAges(parseInt(ui.values[0]),parseInt(ui.values[1]))};TimelineSlider.prototype._updateStartLabel=function(amount){this._startInput.attr("value",amount)};TimelineSlider.prototype._updateEndLabel=function(amount){this._endInput.attr("value",amount)};TimelineSlider.prototype._handleStop=function(event,ui){var newEnd,newStart,values;values=ui.values;if(values[1]-values[0]<this._options.minDifference){newStart=values[0];newEnd=newStart+this._options.minDifference;this._container.slider("values",[newStart,newEnd]);this._updateStartLabel(newStart);this._updateEndLabel(newEnd);this._controller.changeAges(parseInt(newStart),parseInt(newEnd))}else{newStart=values[0];newEnd=values[1]}};return TimelineSlider})();$(function(){return jQuery.fn.timeLineSlider=function(minContainer,maxContainer,options,glidePath){return new TimelineSlider($(this),minContainer,maxContainer,options,glidePath)}})}).call(this);(function(){var GlidePathButtonGroup;GlidePathButtonGroup=(function(){function GlidePathButtonGroup(_container,_controller){this._container=_container;this._controller=_controller;this._startingValue=this._container.data("starting-risk");this._initButtons();return}GlidePathButtonGroup.prototype._initButtons=function(){var button,_i,_len,_ref;this.buttons=[];_ref=this._container.find("button.btn");for(_i=0,_len=_ref.length;_i<_len;_i++){button=_ref[_i];button=$(button);this.buttons.push(button)}this._initButtonClickHandlers()};GlidePathButtonGroup.prototype._initButtonClickHandlers=function(){var button,that,_i,_len,_ref;that=this;_ref=this.buttons;for(_i=0,_len=_ref.length;_i<_len;_i++){button=_ref[_i];button.click(function(event){return that._buttonClickHandler($(this),event)});if(button.data("risk-value")===this._startingValue){button.click()}}};GlidePathButtonGroup.prototype._buttonClickHandler=function(button,event){var key,value;value=button.data("risk-value");key=button.data("risk-value");this._controller.changeRiskTolerance(key)};return GlidePathButtonGroup})();$(function(){return jQuery.fn.glidePathButtonGroup=function(glidePath){return new GlidePathButtonGroup($(this),glidePath)}})}).call(this);(function(){var TargetPortfolioController;TargetPortfolioController=(function(){function TargetPortfolioController(_elem){this._elem=_elem;this._containerSelector=this._elem.selector;this._url=this._elem.data("submit-url");this._initializeTargetPortfolioCharts()}TargetPortfolioController.prototype.changeRiskTolerance=function(newRiskTolerance){this._glidePath.changeKey(newRiskTolerance);this._performance.changeKey(newRiskTolerance);this._assetBreakdown.changeKey(newRiskTolerance);this._updateOnServer({risk_tolerance:newRiskTolerance})};TargetPortfolioController.prototype.changeAges=function(startAge,endAge){this._glidePath.changeAges(startAge,endAge);this._performance.changeTimeHorizon(endAge-startAge);this._assetBreakdown.changeAges(startAge,endAge);this._flowOut.changeAges(startAge,endAge);this._updateOnServer({age:startAge,desired_retirement_age:endAge})};TargetPortfolioController.prototype._initializeTargetPortfolioCharts=function(){this._createSizes();this._createSVG();this._createPerformance();this._createGlidePath();this._createAssetBreakdown();this._createAssetFlowOut()};TargetPortfolioController.prototype._createSizes=function(){this._totalHeight=this._elem.height();this._totalWidth=this._elem.width();this._sizes={glidePath:{width:this._totalWidth/2,height:this._totalHeight-100},performance:{width:this._totalWidth/2,height:this._totalHeight-100},assetBreakdown:{height:100,width:this._totalWidth}};this._offsets={glidePath:{x:0,y:0},performance:{x:this._sizes.glidePath.width,y:0},assetBreakdown:{x:0,y:this._sizes.glidePath.height}}};TargetPortfolioController.prototype._createSVG=function(){this._svg=d3.select(this._containerSelector).append("svg").attr("width",this._totalWidth).attr("height",this._totalHeight).append("g")};TargetPortfolioController.prototype._createPerformance=function(){this._performance=new FutureAdvisor.Charts.FuturePerformance(this._svg,this._sizes.performance,this._offsets.performance,D3_MONTE_CARLO_DATA)};TargetPortfolioController.prototype._createGlidePath=function(){this._glidePath=new FutureAdvisor.Charts.GlidePath(this._svg,this._sizes.glidePath,this._offsets.glidePath,D3_RISK_DATA)};TargetPortfolioController.prototype._createAssetFlowOut=function(){this._flowOut=new FutureAdvisor.Charts.AssetFlowOut(this._svg,this._glidePath,this._assetBreakdown,D3_RISK_DATA)};TargetPortfolioController.prototype._createAssetBreakdown=function(){var data;data={riskData:D3_RISK_DATA,subclassData:SUBCLASS_DATA};this._assetBreakdown=new FutureAdvisor.Charts.AssetBreakdown(this._svg,this._sizes.assetBreakdown,this._offsets.assetBreakdown,data)};TargetPortfolioController.prototype._updateOnServer=function(data){return $.ajax({type:"POST",url:this._url,data:{user:data},dataType:"json"})};return TargetPortfolioController})();$(function(){jQuery.fn.targetPortfolioController=function(){return new TargetPortfolioController($(this))}})}).call(this);(function(){$(function(){var buttonGroup,controller,slider;if($("#target-portfolio-container").length>0){controller=$("#target-portfolio-container").targetPortfolioController();slider=$("#slider-range").timeLineSlider($("#age-container"),$("#retirement-age-container"),{},controller);buttonGroup=$("#risk-buttons").glidePathButtonGroup(controller)}})}).call(this);(function(){FutureAdvisor.Page.bindCommonTriggers();$.fn.updateTooltipTitle=function(title){return this.attr("title",title).tooltip("fixTitle")}}).call(this);var Hashtable=(function(){var p="function";var n=(typeof Array.prototype.splice==p)?function(s,r){s.splice(r,1)}:function(u,t){var s,v,r;if(t===u.length-1){u.length=t}else{s=u.slice(t+1);u.length=t;for(v=0,r=s.length;v<r;++v){u[t+v]=s[v]}}};function a(t){var r;if(typeof t=="string"){return t}else{if(typeof t.hashCode==p){r=t.hashCode();return(typeof r=="string")?r:a(r)}else{if(typeof t.toString==p){return t.toString()}else{try{return String(t)}catch(s){return Object.prototype.toString.call(t)}}}}}function g(r,s){return r.equals(s)}function e(r,s){return(typeof s.equals==p)?s.equals(r):(r===s)}function c(r){return function(s){if(s===null){throw new Error("null is not a valid "+r)}else{if(typeof s=="undefined"){throw new Error(r+" must not be undefined")}}}}var q=c("key"),l=c("value");function d(u,s,t,r){this[0]=u;this.entries=[];this.addEntry(s,t);if(r!==null){this.getEqualityFunction=function(){return r}}}var h=0,j=1,f=2;function o(r){return function(t){var s=this.entries.length,v,u=this.getEqualityFunction(t);while(s--){v=this.entries[s];if(u(t,v[0])){switch(r){case h:return true;case j:return v;case f:return[s,v[1]]}}}return false}}function k(r){return function(u){var v=u.length;for(var t=0,s=this.entries.length;t<s;++t){u[v+t]=this.entries[t][r]}}}d.prototype={getEqualityFunction:function(r){return(typeof r.equals==p)?g:e},getEntryForKey:o(j),getEntryAndIndexForKey:o(f),removeEntryForKey:function(s){var r=this.getEntryAndIndexForKey(s);if(r){n(this.entries,r[0]);return r[1]}return null},addEntry:function(r,s){this.entries[this.entries.length]=[r,s]},keys:k(0),values:k(1),getEntries:function(s){var u=s.length;for(var t=0,r=this.entries.length;t<r;++t){s[u+t]=this.entries[t].slice(0)}},containsKey:o(h),containsValue:function(s){var r=this.entries.length;while(r--){if(s===this.entries[r][1]){return true}}return false}};function m(s,t){var r=s.length,u;while(r--){u=s[r];if(t===u[0]){return r}}return null}function i(r,s){var t=r[s];return(t&&(t instanceof d))?t:null}function b(t,r){var w=this;var v=[];var u={};var x=(typeof t==p)?t:a;var s=(typeof r==p)?r:null;this.put=function(B,C){q(B);l(C);var D=x(B),E,A,z=null;E=i(u,D);if(E){A=E.getEntryForKey(B);if(A){z=A[1];A[1]=C}else{E.addEntry(B,C)}}else{E=new d(D,B,C,s);v[v.length]=E;u[D]=E}return z};this.get=function(A){q(A);var B=x(A);var C=i(u,B);if(C){var z=C.getEntryForKey(A);if(z){return z[1]}}return null};this.containsKey=function(A){q(A);var z=x(A);var B=i(u,z);return B?B.containsKey(A):false};this.containsValue=function(A){l(A);var z=v.length;while(z--){if(v[z].containsValue(A)){return true}}return false};this.clear=function(){v.length=0;u={}};this.isEmpty=function(){return !v.length};var y=function(z){return function(){var A=[],B=v.length;while(B--){v[B][z](A)}return A}};this.keys=y("keys");this.values=y("values");this.entries=y("getEntries");this.remove=function(B){q(B);var C=x(B),z,A=null;var D=i(u,C);if(D){A=D.removeEntryForKey(B);if(A!==null){if(!D.entries.length){z=m(v,C);n(v,z);delete u[C]}}}return A};this.size=function(){var A=0,z=v.length;while(z--){A+=v[z].entries.length}return A};this.each=function(C){var z=w.entries(),A=z.length,B;while(A--){B=z[A];C(B[0],B[1])}};this.putAll=function(H,C){var B=H.entries();var E,F,D,z,A=B.length;var G=(typeof C==p);while(A--){E=B[A];F=E[0];D=E[1];if(G&&(z=w.get(F))){D=C(F,z,D)}w.put(F,D)}};this.clone=function(){var z=new b(t,r);z.putAll(w);return z}}return b})();(function(jQuery){var nfLocales=new Hashtable();var nfLocalesLikeUS=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var nfLocalesLikeDE=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var nfLocalesLikeFR=["cz","fi","fr","ru","se","pl"];var nfLocalesLikeCH=["ch"];var nfLocaleFormatting=[[".",","],[",","."],[","," "],[".","'"]];var nfAllLocales=[nfLocalesLikeUS,nfLocalesLikeDE,nfLocalesLikeFR,nfLocalesLikeCH];function FormatData(dec,group,neg){this.dec=dec;this.group=group;this.neg=neg}function init(){for(var localeGroupIdx=0;localeGroupIdx<nfAllLocales.length;localeGroupIdx++){localeGroup=nfAllLocales[localeGroupIdx];for(var i=0;i<localeGroup.length;i++){nfLocales.put(localeGroup[i],localeGroupIdx)}}}function formatCodes(locale){if(nfLocales.size()==0){init()}var dec=".";var group=",";var neg="-";var codesIndex=nfLocales.get(locale);if(codesIndex){var codes=nfLocaleFormatting[codesIndex];if(codes){dec=codes[0];group=codes[1]}}return new FormatData(dec,group,neg)}jQuery.fn.formatNumber=function(options,writeBack,giveReturnValue){return this.each(function(){if(writeBack==null){writeBack=true}if(giveReturnValue==null){giveReturnValue=true}var text;if(jQuery(this).is(":input")){text=new String(jQuery(this).val())}else{text=new String(jQuery(this).text())}var returnString=jQuery.formatNumber(text,options);if(writeBack){if(jQuery(this).is(":input")){jQuery(this).val(returnString)}else{jQuery(this).text(returnString)}}if(giveReturnValue){return returnString}})};jQuery.formatNumber=function(numberString,options){var options=jQuery.extend({},jQuery.fn.formatNumber.defaults,options);var formatData=formatCodes(options.locale.toLowerCase());var dec=formatData.dec;var group=formatData.group;var neg=formatData.neg;var validFormat="0#-,.";var prefix="";var negativeInFront=false;for(var i=0;i<options.format.length;i++){if(validFormat.indexOf(options.format.charAt(i))==-1){prefix=prefix+options.format.charAt(i)}else{if(i==0&&options.format.charAt(i)=="-"){negativeInFront=true;continue}else{break}}}var suffix="";for(var i=options.format.length-1;i>=0;i--){if(validFormat.indexOf(options.format.charAt(i))==-1){suffix=options.format.charAt(i)+suffix}else{break}}options.format=options.format.substring(prefix.length);options.format=options.format.substring(0,options.format.length-suffix.length);var number=new Number(numberString);return jQuery._formatNumber(number,options,suffix,prefix,negativeInFront)};jQuery._formatNumber=function(number,options,suffix,prefix,negativeInFront){var options=jQuery.extend({},jQuery.fn.formatNumber.defaults,options);var formatData=formatCodes(options.locale.toLowerCase());var dec=formatData.dec;var group=formatData.group;var neg=formatData.neg;var forcedToZero=false;if(isNaN(number)){if(options.nanForceZero==true){number=0;forcedToZero=true}else{return null}}if(suffix=="%"){number=number*100}var returnString="";if(options.format.indexOf(".")>-1){var decimalPortion=dec;var decimalFormat=options.format.substring(options.format.lastIndexOf(".")+1);if(options.round==true){number=new Number(number.toFixed(decimalFormat.length))}else{var numStr=number.toString();numStr=numStr.substring(0,numStr.lastIndexOf(".")+decimalFormat.length+1);number=new Number(numStr)}var decimalValue=number%1;var decimalString=new String(decimalValue.toFixed(decimalFormat.length));decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(var i=0;i<decimalFormat.length;i++){if(decimalFormat.charAt(i)=="#"&&decimalString.charAt(i)!="0"){decimalPortion+=decimalString.charAt(i);continue}else{if(decimalFormat.charAt(i)=="#"&&decimalString.charAt(i)=="0"){var notParsed=decimalString.substring(i);if(notParsed.match("[1-9]")){decimalPortion+=decimalString.charAt(i);continue}else{break}}else{if(decimalFormat.charAt(i)=="0"){decimalPortion+=decimalString.charAt(i)}}}}returnString+=decimalPortion}else{number=Math.round(number)}var ones=Math.floor(number);if(number<0){ones=Math.ceil(number)}var onesFormat="";if(options.format.indexOf(".")==-1){onesFormat=options.format}else{onesFormat=options.format.substring(0,options.format.indexOf("."))}var onePortion="";if(!(ones==0&&onesFormat.substr(onesFormat.length-1)=="#")||forcedToZero){var oneText=new String(Math.abs(ones));var groupLength=9999;if(onesFormat.lastIndexOf(",")!=-1){groupLength=onesFormat.length-onesFormat.lastIndexOf(",")-1}var groupCount=0;for(var i=oneText.length-1;i>-1;i--){onePortion=oneText.charAt(i)+onePortion;groupCount++;if(groupCount==groupLength&&i!=0){onePortion=group+onePortion;groupCount=0}}if(onesFormat.length>onePortion.length){var padStart=onesFormat.indexOf("0");if(padStart!=-1){var padLen=onesFormat.length-padStart;while(onePortion.length<padLen){onePortion="0"+onePortion}}}}if(!onePortion&&onesFormat.indexOf("0",onesFormat.length-1)!==-1){onePortion="0"}returnString=onePortion+returnString;if(number<0&&negativeInFront&&prefix.length>0){prefix=neg+prefix}else{if(number<0){returnString=neg+returnString}}if(!options.decimalSeparatorAlwaysShown){if(returnString.lastIndexOf(dec)==returnString.length-1){returnString=returnString.substring(0,returnString.length-1)}}returnString=prefix+returnString+suffix;return returnString};jQuery.fn.parseNumber=function(options,writeBack,giveReturnValue){if(writeBack==null){writeBack=true}if(giveReturnValue==null){giveReturnValue=true}var text;if(jQuery(this).is(":input")){text=new String(jQuery(this).val())}else{text=new String(jQuery(this).text())}var number=jQuery.parseNumber(text,options);if(number){if(writeBack){if(jQuery(this).is(":input")){jQuery(this).val(number.toString())}else{jQuery(this).text(number.toString())}}if(giveReturnValue){return number}}};jQuery.parseNumber=function(numberString,options){var options=jQuery.extend({},jQuery.fn.parseNumber.defaults,options);var formatData=formatCodes(options.locale.toLowerCase());var dec=formatData.dec;var group=formatData.group;var neg=formatData.neg;var valid="1234567890.-";while(numberString.indexOf(group)>-1){numberString=numberString.replace(group,"")}numberString=numberString.replace(dec,".").replace(neg,"-");var validText="";var hasPercent=false;if(numberString.charAt(numberString.length-1)=="%"){hasPercent=true}for(var i=0;i<numberString.length;i++){if(valid.indexOf(numberString.charAt(i))>-1){validText=validText+numberString.charAt(i)}}var number=new Number(validText);if(hasPercent){number=number/100;number=number.toFixed(validText.length-1)}return number};jQuery.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false};jQuery.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true};Number.prototype.toFixed=function(precision){return $._roundNumber(this,precision)};jQuery._roundNumber=function(number,decimalPlaces){var power=Math.pow(10,decimalPlaces||0);var value=String(Math.round(number*power)/power);if(decimalPlaces>0){var dp=value.indexOf(".");if(dp==-1){value+=".";dp=0}else{dp=value.length-(dp+1)}while(dp<decimalPlaces){value+="0";dp++}}return value}})(jQuery);(function(){var Chart,Checkbox,CommasFormatter,DateParser,Formatter,ThousandsFormatter,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};Formatter=(function(){function Formatter(){}Formatter.format=function(input){return this._formatter(input)};Formatter._d3Format=function(string){return this._formatter=d3.format(string)};return Formatter})();DateParser=(function(_super){__extends(DateParser,_super);function DateParser(){return DateParser.__super__.constructor.apply(this,arguments)}DateParser._formatter=d3.time.format("%Y/%m/%d").parse;return DateParser})(Formatter);CommasFormatter=(function(_super){__extends(CommasFormatter,_super);function CommasFormatter(){return CommasFormatter.__super__.constructor.apply(this,arguments)}CommasFormatter._d3Format(",.0f");return CommasFormatter})(Formatter);ThousandsFormatter=(function(_super){__extends(ThousandsFormatter,_super);function ThousandsFormatter(){return ThousandsFormatter.__super__.constructor.apply(this,arguments)}ThousandsFormatter._d3Format(".2r");return ThousandsFormatter})(Formatter);Chart=(function(){function Chart(_chartId,_dataPath,_checkboxes){this._chartId=_chartId;this._dataPath=_dataPath;this._checkboxes=_checkboxes;this._setupChart();this._setScales();this._setGenerators();this._loadData();return}Chart.prototype._setupChart=function(){this._chart=d3.select(this._chartId);this._chart.style("background","none");this._margin={top:20,right:80,bottom:30,left:20};this._width=600-this._margin.left-this._margin.right;this._height=300-this._margin.top-this._margin.bottom;this._svg=this._chart.append("svg").attr("width",this._width+this._margin.left+this._margin.right).attr("height",this._height+this._margin.top+this._margin.bottom).append("g").attr("transform","translate("+this._margin.left+", "+this._margin.top+")")};Chart.prototype._setScales=function(){this._xScale=d3.time.scale().range([0,this._width]);this._yScale=d3.scale.linear().range([this._height,0]);this._xAxis=d3.svg.axis().scale(this._xScale).orient("bottom");this._yAxis=d3.svg.axis().scale(this._yScale).tickFormat(function(d){return"$"+(CommasFormatter.format(d))}).tickSubdivide(true).tickSize(8,3,3).orient("right")};Chart.prototype._setGenerators=function(){var _this=this;this._area=d3.svg.area().interpolate("monotone").x(function(d){return _this._xScale(d.date)}).y(this._yScale(0)).y0(function(d){return _this._yScale(d.balance)});this._line=d3.svg.line().interpolate("monotone").x(function(d){return _this._xScale(d.date)}).y(function(d){return _this._yScale(d.balance)})};Chart.prototype._parseCSVData=function(data){var _this=this;this._data=data;this._data.forEach(function(d){d.date=DateParser.format(d.date)});this._lineKeys=d3.keys(this._data[0]).filter(function(key){return key!=="date"});this._scenarios=this._lineKeys.map(function(key){return{key:key,values:_this._data.map(function(d){return{date:d.date,balance:+d[key]}})}})};Chart.prototype._findScenarioByKey=function(key){var scenario;scenario=this._scenarios.filter(function(s){return s.key===key});return scenario};Chart.prototype._addClipPath=function(){this._svg.append("svg:clipPath").attr("id","clip").append("svg:rect").attr("width",this._width).attr("height",this._height);this._svg.append("g").attr("class","x axis").attr("transform","translate(0, "+this._height+")").call(this._xAxis);this._svg.append("g").attr("class","y axis").attr("transform","translate("+(this._width+5)+", 0)").call(this._yAxis)};Chart.prototype._addInitialAreas=function(){var allOnes,allZeroes,scenario1,scenario2;allOnes=this._findScenarioByKey("1111");scenario2=this._svg.selectAll(".scenario2").data(allOnes).enter().append("g").attr("class","scenario2");scenario2.append("svg:path").attr("class","area").attr("d",this._area(allOnes[0].values));scenario2.append("svg:text").text("FutureAdvisor managed portfolio").attr("x",0).attr("y",100);allZeroes=this._findScenarioByKey("0000");scenario1=this._svg.selectAll(".scenario1").data(allZeroes).enter().append("g").attr("class","scenario1");scenario1.append("svg:path").attr("class","area").attr("d",this._area(allZeroes[0].values));scenario1.append("svg:text").text("Principal Funds S&P500 Index Fund").attr("x",90).attr("y",210)};Chart.prototype._setTooltipLabel=function(datum,elem){this._tooltip.html(datum.note);if(elem!==undefined&&(elem!=null)){elem=$(elem)}this._tooltip.style("top",""+(parseInt(elem.attr("cy"))+10)+"px").style("left",""+(parseInt(elem.attr("cx"))+40)+"px")};Chart.prototype._circleMouseOver=function(datum,elem){if(datum!==undefined&&(datum!=null)&&datum.note!==undefined&&(datum.note!=null)){this._setTooltipLabel(datum,elem);d3.select(elem).attr("r",12);this._tooltip.style("visibility","visible")}};Chart.prototype._circleMouseOut=function(datum,elem){d3.select(elem).attr("r",6);this._tooltip.style("visibility","hidden")};Chart.prototype._initTooltip=function(){this._tooltip=d3.select(".performance-chart").append("div");this._tooltip.attr("class","dot-tooltip").style("position","absolute").style("z-index","10").style("visibility","visible").text("")};Chart.prototype._addCalloutCircles=function(){var _this=this;this._circleGroup=this._svg.append("g");this._circleData=[{key:"1000",date:"2009/04/01",balance:[137013],note:"Diligent rebalancing reduces losses during times of crisis"},{key:"1100",date:"2007/06/01",balance:[230853],note:"Broad diversification beyond U.S. Stocks captures more of the whole market return"},{key:"1110",date:"2012/04/01",balance:[251839],note:"Hidden mutual fund fees depress returns over time"},{key:"1111",date:"2011/01/01",balance:[234166],note:"Smart allocation in tax sheltered accounts increases tax efficency"},{key:"0000",date:"2003/01/01",balance:[100000],note:"Begin with a hypothetical $100K investment."}];this._circleGroup.selectAll(".dot").data(this._circleData).enter().append("circle").attr("class","dot").attr("cx",function(d){return _this._xScale(DateParser.format(d.date))}).attr("cy",function(d){return _this._yScale(d.balance)}).attr("r",6).attr("id",function(d){return"tooltip"+d.key}).on("mouseover",function(d){return _this._circleMouseOver(d,this)}).on("mouseout",function(d){return _this._circleMouseOut(d,this)})};Chart.prototype._buildKey=function(){var checkbox,_i,_len,_ref;this._key="";_ref=this._checkboxes;for(_i=0,_len=_ref.length;_i<_len;_i++){checkbox=_ref[_i];this._key+=checkbox.isChecked()?"1":"0"}};Chart.prototype._loadData=function(){var _this=this;d3.csv(this._dataPath,function(error,data){var checkbox,_i,_len,_ref;_this._parseCSVData(data);_this._xScale.domain(d3.extent(_this._data,function(d){return d.date}));_this._yScale.domain([d3.min(_this._scenarios,function(c){return d3.min(c.values,function(v){return v.balance})}),d3.max(_this._scenarios,function(c){return d3.max(c.values,function(v){return v.balance})})]);_this._addClipPath();_this._addInitialAreas();_this._initTooltip();_this._addCalloutCircles();_this._redraw();_ref=_this._checkboxes;for(_i=0,_len=_ref.length;_i<_len;_i++){checkbox=_ref[_i];checkbox.bindClick()}})};Chart.prototype._highlightTooltip=function(){var dataPoint,datum,elem,element,tooltip_id,_i,_len,_ref,_this=this;tooltip_id="#tooltip"+this._key;dataPoint=(this._circleData.filter((function(x){return x.key===_this._key})))[0];element=d3.select(tooltip_id)[0][0];_ref=this._circleData;for(_i=0,_len=_ref.length;_i<_len;_i++){datum=_ref[_i];elem=d3.select("#tooltip"+datum.key)[0][0];this._circleMouseOut(datum,elem)}this._circleMouseOver(dataPoint,element)};Chart.prototype._redraw=function(){var data,gEnter,scenario,scenarioEnter,svgElem,svgLine,_this=this;this._key="1111";data=this._scenarios.filter(function(s){return s.key===_this._key});svgElem=this._chart.selectAll("svg").data([data]);gEnter=svgElem.enter().append("svg").append("g");svgElem.attr("class","scenario_user");svgLine=svgElem.select("g");scenario=svgLine.selectAll(".scenario").data((function(d){return d}),(function(d){return d.key}));scenarioEnter=scenario.enter().append("g").attr("class","scenario").attr("clip-path","url(#clip)");scenarioEnter.append("path").attr("class","multiLineLine");scenario.select("path.multiLineLine").style("stroke","steelblue").transition().duration(5000).attr("d",function(d){return _this._line(d.values)});this._highlightTooltip();scenarioEnter.append("text").attr("class","dollar-amount");scenario.exit().transition().duration(15).remove()};return Chart})();Checkbox=(function(){function Checkbox(elem){this._elem=$(elem);return}Checkbox.prototype.isChecked=function(){if(this._elem.prop("checked")){return true}else{return false}};Checkbox.prototype.bindClick=function(){return this._elem.click(function(){window.chart._redraw()})};return Checkbox})();$(function(){var checkbox,checkboxes,selector;if(!($("#ie-detector").length>0)){checkboxes=(function(){var _i,_len,_ref,_results;_ref=["#balanced","#diversify","#low_fees","#best_options"];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){selector=_ref[_i];_results.push(checkbox=new Checkbox($(".portfolio-checklist").find(selector)))}return _results})();if($(".performance-chart").length>0){window.chart=new Chart(".performance-chart","/research/homepage-chart-data.csv",checkboxes)}}})}).call(this);window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(){function D(a){return((a[C+"Options"]||{}).swfPath||K)+"flashcanvas.swf"}function s(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function i(a){throw new E(a)}function F(a){var b=parseInt(a.width,10),c=parseInt(a.height,10);if(isNaN(b)||0>b){b=300}if(isNaN(c)||0>c){c=150}a.width=b;a.height=c}var G=this.document,t="canvas",C="FlashCanvas",H="onreadystatechange",n;a:{n=this.document.getElementsByTagName("script");var I="",u=n.length;if(u){for(I=n[u-1].src||"";u;){script=n[u-1];if(script.src&&script.src.match("flashcanvas")){n=8<=G.documentMode?script.src:script.getAttribute("src",4);break a}u--}}n=I}var K=n.replace(/[^\/]+$/,""),e=new function(a){for(var b=0,c=a.length;b<c;b++){this[a[b]]=b}}("toDataURL save restore scale rotate translate transform setTransform globalAlpha globalCompositeOperation strokeStyle fillStyle createLinearGradient createRadialGradient createPattern lineWidth lineCap lineJoin miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor clearRect fillRect strokeRect beginPath closePath moveTo lineTo quadraticCurveTo bezierCurveTo arcTo rect arc fill stroke clip isPointInPath font textAlign textBaseline fillText strokeText measureText drawImage createImageData getImageData putImageData addColorStop direction resize".split(" ")),v={},p={},q={},x={},y={},w=function(a,b){this.canvas=a;this._swf=b;this._canvasId=b.id.slice(8);this._initialize();this._gradientPatternId=0;this._font=this._direction="";var c=this;this._executeCommandIntervalID=setInterval(function(){for(var a=c.canvas,b=!1,a=a.parentNode;a&&!b;){b=a.body,a=a.parentNode}b?0===q[c._canvasId]&&c._executeCommand():clearInterval(c._executeCommandIntervalID)},30)};w.prototype={save:function(){this._setCompositing();this._setShadows();this._setStrokeStyle();this._setFillStyle();this._setLineStyles();this._setFontStyles();this._stateStack.push([this._globalAlpha,this._globalCompositeOperation,this._strokeStyle,this._fillStyle,this._lineWidth,this._lineCap,this._lineJoin,this._miterLimit,this._shadowOffsetX,this._shadowOffsetY,this._shadowBlur,this._shadowColor,this._font,this._textAlign,this._textBaseline]);this._queue.push(e.save)},restore:function(){var a=this._stateStack;a.length&&(a=a.pop(),this.globalAlpha=a[0],this.globalCompositeOperation=a[1],this.strokeStyle=a[2],this.fillStyle=a[3],this.lineWidth=a[4],this.lineCap=a[5],this.lineJoin=a[6],this.miterLimit=a[7],this.shadowOffsetX=a[8],this.shadowOffsetY=a[9],this.shadowBlur=a[10],this.shadowColor=a[11],this.font=a[12],this.textAlign=a[13],this.textBaseline=a[14]);this._queue.push(e.restore)},scale:function(a,b){this._queue.push(e.scale,a,b)},rotate:function(a){this._queue.push(e.rotate,a)},translate:function(a,b){this._queue.push(e.translate,a,b)},transform:function(a,b,c,d,f,g){this._queue.push(e.transform,a,b,c,d,f,g)},setTransform:function(a,b,c,d,f,g){this._queue.push(e.setTransform,a,b,c,d,f,g)},_setCompositing:function(){var a=this._queue;this._globalAlpha!==this.globalAlpha&&(this._globalAlpha=this.globalAlpha,a.push(e.globalAlpha,this._globalAlpha));this._globalCompositeOperation!==this.globalCompositeOperation&&(this._globalCompositeOperation=this.globalCompositeOperation,a.push(e.globalCompositeOperation,this._globalCompositeOperation))},_setStrokeStyle:function(){if(this._strokeStyle!==this.strokeStyle){var a=this._strokeStyle=this.strokeStyle;if("string"!==typeof a){if(a instanceof r||a instanceof z){a=a.id}else{return}}this._queue.push(e.strokeStyle,a)}},_setFillStyle:function(){if(this._fillStyle!==this.fillStyle){var a=this._fillStyle=this.fillStyle;if("string"!==typeof a){if(a instanceof r||a instanceof z){a=a.id}else{return}}this._queue.push(e.fillStyle,a)}},createLinearGradient:function(a,b,c,d){(!isFinite(a)||!isFinite(b)||!isFinite(c)||!isFinite(d))&&i(9);this._queue.push(e.createLinearGradient,a,b,c,d);return new r(this)},createRadialGradient:function(a,b,c,d,f,g){(!isFinite(a)||!isFinite(b)||!isFinite(c)||!isFinite(d)||!isFinite(f)||!isFinite(g))&&i(9);(0>c||0>g)&&i(1);this._queue.push(e.createRadialGradient,a,b,c,d,f,g);return new r(this)},createPattern:function(a,b){a||i(17);var c=a.tagName,d,f=this._canvasId;if(c){if(c=c.toLowerCase(),"img"===c){d=a.getAttribute("src",2)}else{if(c===t||"video"===c){return}i(17)}}else{a.src?d=a.src:i(17)}"repeat"===b||("no-repeat"===b||"repeat-x"===b||"repeat-y"===b||""===b||null===b)||i(12);this._queue.push(e.createPattern,s(d),b);!p[f][d]&&v[f]&&(this._executeCommand(),++q[f],p[f][d]=!0);return new z(this)},_setLineStyles:function(){var a=this._queue;this._lineWidth!==this.lineWidth&&(this._lineWidth=this.lineWidth,a.push(e.lineWidth,this._lineWidth));this._lineCap!==this.lineCap&&(this._lineCap=this.lineCap,a.push(e.lineCap,this._lineCap));this._lineJoin!==this.lineJoin&&(this._lineJoin=this.lineJoin,a.push(e.lineJoin,this._lineJoin));this._miterLimit!==this.miterLimit&&(this._miterLimit=this.miterLimit,a.push(e.miterLimit,this._miterLimit))},_setShadows:function(){var a=this._queue;this._shadowOffsetX!==this.shadowOffsetX&&(this._shadowOffsetX=this.shadowOffsetX,a.push(e.shadowOffsetX,this._shadowOffsetX));this._shadowOffsetY!==this.shadowOffsetY&&(this._shadowOffsetY=this.shadowOffsetY,a.push(e.shadowOffsetY,this._shadowOffsetY));this._shadowBlur!==this.shadowBlur&&(this._shadowBlur=this.shadowBlur,a.push(e.shadowBlur,this._shadowBlur));this._shadowColor!==this.shadowColor&&(this._shadowColor=this.shadowColor,a.push(e.shadowColor,this._shadowColor))},clearRect:function(a,b,c,d){this._queue.push(e.clearRect,a,b,c,d)},fillRect:function(a,b,c,d){this._setCompositing();this._setShadows();this._setFillStyle();this._queue.push(e.fillRect,a,b,c,d)},strokeRect:function(a,b,c,d){this._setCompositing();this._setShadows();this._setStrokeStyle();this._setLineStyles();this._queue.push(e.strokeRect,a,b,c,d)},beginPath:function(){this._queue.push(e.beginPath)},closePath:function(){this._queue.push(e.closePath)},moveTo:function(a,b){this._queue.push(e.moveTo,a,b)},lineTo:function(a,b){this._queue.push(e.lineTo,a,b)},quadraticCurveTo:function(a,b,c,d){this._queue.push(e.quadraticCurveTo,a,b,c,d)},bezierCurveTo:function(a,b,c,d,f,g){this._queue.push(e.bezierCurveTo,a,b,c,d,f,g)},arcTo:function(a,b,c,d,f){0>f&&isFinite(f)&&i(1);this._queue.push(e.arcTo,a,b,c,d,f)},rect:function(a,b,c,d){this._queue.push(e.rect,a,b,c,d)},arc:function(a,b,c,d,f,g){0>c&&isFinite(c)&&i(1);this._queue.push(e.arc,a,b,c,d,f,g?1:0)},fill:function(){this._setCompositing();this._setShadows();this._setFillStyle();this._queue.push(e.fill)},stroke:function(){this._setCompositing();this._setShadows();this._setStrokeStyle();this._setLineStyles();this._queue.push(e.stroke)},clip:function(){this._queue.push(e.clip)},isPointInPath:function(){},_setFontStyles:function(){var a=this._queue;if(this._font!==this.font){try{var b=y[this._canvasId];b.style.font=this._font=this.font;var c=b.currentStyle,d=[c.fontStyle,c.fontWeight,b.offsetHeight,c.fontFamily].join(" ");a.push(e.font,d)}catch(f){}}this._textAlign!==this.textAlign&&(this._textAlign=this.textAlign,a.push(e.textAlign,this._textAlign));this._textBaseline!==this.textBaseline&&(this._textBaseline=this.textBaseline,a.push(e.textBaseline,this._textBaseline));this._direction!==this.canvas.currentStyle.direction&&(this._direction=this.canvas.currentStyle.direction,a.push(e.direction,this._direction))},fillText:function(a,b,c,d){this._setCompositing();this._setFillStyle();this._setShadows();this._setFontStyles();this._queue.push(e.fillText,s(a),b,c,void 0===d?Infinity:d)},strokeText:function(a,b,c,d){this._setCompositing();this._setStrokeStyle();this._setShadows();this._setFontStyles();this._queue.push(e.strokeText,s(a),b,c,void 0===d?Infinity:d)},measureText:function(a){var b=y[this._canvasId];try{b.style.font=this.font}catch(c){}b.innerText=a.replace(/[ \n\f\r]/g,"\t");return new L(b.offsetWidth)},drawImage:function(a,b,c,d,f,g,j,M,N){a||i(17);var h=a.tagName,k,l=arguments.length,A=this._canvasId;if(h){if(h=h.toLowerCase(),"img"===h){k=a.getAttribute("src",2)}else{if(h===t||"video"===h){return}i(17)}}else{a.src?k=a.src:i(17)}this._setCompositing();this._setShadows();k=s(k);if(3===l){this._queue.push(e.drawImage,l,k,b,c)}else{if(5===l){this._queue.push(e.drawImage,l,k,b,c,d,f)}else{if(9===l){(0===d||0===f)&&i(1),this._queue.push(e.drawImage,l,k,b,c,d,f,g,j,M,N)}else{return}}}!p[A][k]&&v[A]&&(this._executeCommand(),++q[A],p[A][k]=!0)},createImageData:function(){},getImageData:function(){},putImageData:function(){},loadImage:function(a,b,c){var d=a.tagName,f,g=this._canvasId;d?"img"===d.toLowerCase()&&(f=a.getAttribute("src",2)):a.src&&(f=a.src);if(f&&!p[g][f]){if(b||c){x[g][f]=[a,b,c]}this._queue.push(e.drawImage,1,s(f));v[g]&&(this._executeCommand(),++q[g],p[g][f]=!0)}},_initialize:function(){this.globalAlpha=this._globalAlpha=1;this.globalCompositeOperation=this._globalCompositeOperation="source-over";this.fillStyle=this._fillStyle=this.strokeStyle=this._strokeStyle="#000000";this.lineWidth=this._lineWidth=1;this.lineCap=this._lineCap="butt";this.lineJoin=this._lineJoin="miter";this.miterLimit=this._miterLimit=10;this.shadowBlur=this._shadowBlur=this.shadowOffsetY=this._shadowOffsetY=this.shadowOffsetX=this._shadowOffsetX=0;this.shadowColor=this._shadowColor="rgba(0, 0, 0, 0.0)";this.font=this._font="10px sans-serif";this.textAlign=this._textAlign="start";this.textBaseline=this._textBaseline="alphabetic";this._queue=[];this._stateStack=[]},_flush:function(){var a=this._queue;this._queue=[];return a},_executeCommand:function(){var a=this._flush();if(0<a.length){try{return eval(this._swf.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+a.join("&#0;")+"</string></arguments></invoke>"))}catch(b){}}},_resize:function(a,b){this._executeCommand();this._initialize();0<a&&(this._swf.width=a);0<b&&(this._swf.height=b);this._queue.push(e.resize,a,b)}};var r=function(a){this._ctx=a;this.id=a._gradientPatternId++};r.prototype={addColorStop:function(a,b){(isNaN(a)||0>a||1<a)&&i(1);this._ctx._queue.push(e.addColorStop,this.id,a,b)}};var z=function(a){this.id=a._gradientPatternId++},L=function(a){this.width=a},E=function(a){this.code=a;this.message={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"}[a]};E.prototype=Error();var J="initElement",m={registeredEvents:{},canvases:{},initWindow:function(a){function b(){if("complete"===a.document.readyState){a.document.detachEvent(H,b);for(var c=a.document.getElementsByTagName(t),d=0,e=c.length;d<e;++d){m[J](c[d])}}}var c=a.document;c.createElement(t);c.createStyleSheet().cssText=t+"{display:inline-block;overflow:hidden;width:300px;height:150px}";var d=this.canvases,e=this.registeredEvents,g=function(){a.detachEvent("onunload",g);var b,c,h,k,l,j,B;for(B in d){if(b=d[B],c=b.firstChild,k=b.ownerDocument.defaultView?b.ownerDocument.defaultView:b.ownerDocument.parentWindow,a===k){for(h in c){"function"===typeof c[h]&&(c[h]=null)}for(h in b){"function"===typeof b[h]&&(b[h]=null)}k=0;for(l=e[B].length;k!==l;k++){j=e[B][k],c.detachEvent(j[0],j[1]),b.detachEvent(j[0],j[1])}}}a.CanvasRenderingContext2D=null;a.CanvasGradient=null;a.CanvasPattern=null;a[C]=null};a.attachEvent("onunload",g);a.CanvasRenderingContext2D=w;a.CanvasGradient=r;a.CanvasPattern=z;a[C]=m;var j=D(a);0===j.indexOf(a.location.protocol+"//"+a.location.host+"/")&&a.setTimeout(function(){var a=new ActiveXObject("Microsoft.XMLHTTP");a.open("GET",j,!1);a.send(null)},0);"complete"===a.document.readyState?b():a.document.attachEvent(H,b)}};m[J]=function(a){if(a.getContext){return a}var b=a.ownerDocument,c=b.defaultView?b.defaultView:b.parentWindow;c.CanvasRenderingContext2D||this.initWindow(c);var d=Math.random().toString(36).slice(2)||"0",f="external"+d;v[d]=!1;p[d]={};q[d]=1;x[d]={};this.registeredEvents[d]=[];F(a);var g=D(c);a.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+("https:"===c.location.protocol?"https:":"http:")+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+f+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+f+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>';this.canvases[d]=a;var j=a.firstChild;y[d]=a.lastChild;var i=b.body.contains;if(i(a)){j.movie=g}else{var m=c.setInterval(function(){i(a)&&(c.clearInterval(m),j.movie=g)},2)}if("BackCompat"===b.compatMode||!c.XMLHttpRequest){y[d].style.overflow="hidden"}var h=new w(a,j);a.getContext=function(a){return"2d"===a?h:null};a.toDataURL=function(a,b){"image/jpeg"===(""+a).toLowerCase()?h._queue.push(e.toDataURL,a,"number"===typeof b?b:""):h._queue.push(e.toDataURL,a);return h._executeCommand()};b=function(a){var a=a?a.srcElement:c.event.srcElement,b=a.parentNode;a.blur();b.focus()};this.registeredEvents[d].push(["onfocus",b]);j.attachEvent("onfocus",b);return a};m.saveImage=function(a){a.firstChild.saveImage()};m.setOptions=function(){};m.trigger=function(a,b){this.canvases[a].fireEvent("on"+b)};m.unlock=function(a,b,c){try{var d,e,g,j,i,m,h,k,l;if(void 0===b){d=this.canvases[a],e=d.firstChild,k=d.ownerDocument,l=k.defaultView?k.defaultView:k.parentWindow,F(d),g=d.width,j=d.height,d.style.width=g+"px",d.style.height=j+"px",0<g&&(e.width=g),0<j&&(e.height=j),e.resize(g,j),b=function(a){var a=a?a:l.event,b=a.propertyName;if("width"===b||"height"===b){var a=a.srcElement,c=a[b],d=parseInt(c,10);if(isNaN(d)||0>d){d="width"===b?300:150}c===d?(a.style[b]=d+"px",a.getContext("2d")._resize(a.width,a.height)):a[b]=d}},this.registeredEvents[a].push(["onpropertychange",b]),d.attachEvent("onpropertychange",b),v[a]=!0,"function"===typeof d.onload&&l.setTimeout(function(){d.onload()},0)}else{if(i=x[a][b]){m=i[0],h=i[1+c],delete x[a][b],"function"===typeof h&&h.call(m)}}q[a]&&--q[a]}catch(n){throw console.log("Call to FlashCanvas.unlock had thrown an error: ",n.message),n}};m.initWindow(this,G);keep=[w.measureText,w.loadImage]}.call(window);(function(){function s(a){for(var f,p=a.css("color"),y,a=a[0],c=!1;a&&!y&&!c;){try{f=$(a).css("background-color")}catch(g){f="transparent"}"transparent"!==f&&"rgba(0, 0, 0, 0)"!==f&&(y=f);c=a.body;a=a.parentNode}var a=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,c=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/,b;f=void 0;(f=p.match(a))?b={r:parseInt(f[1],10),g:parseInt(f[2],10),b:parseInt(f[3],10)}:(f=p.match(c))&&(b={r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16)});var d;y?(f=void 0,(f=y.match(a))?d={r:parseInt(f[1],10),g:parseInt(f[2],10),b:parseInt(f[3],10)}:(f=y.match(c))&&(d={r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16)})):d=b?127<Math.max.apply(null,[b.r,b.g,b.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255}:{r:255,g:255,b:255};f=function(a){return"rgb("+[a.r,a.g,a.b].join(", ")+")"};b&&d?(a=Math.max.apply(null,[b.r,b.g,b.b]),b=Math.max.apply(null,[d.r,d.g,d.b]),b=Math.round(b+-0.75*(b-a)),b={r:b,g:b,b:b}):b?(b=Math.max.apply(null,[b.r,b.g,b.b]),a=1,127<b&&(a=-1),b=Math.round(b+96*a),b={r:b,g:b,b:b}):b={r:191,g:191,b:191};return{color:p,"background-color":d?f(d):y,"decor-color":f(b)}}function m(a,f){this.x=a;this.y=f;this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)};this._length=null;this.getLength=function(){this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)));return this._length};var p=function(a){return Math.round(a/Math.abs(a))};this.resizeTo=function(a){if(0===this.x&&0===this.y){this._length=0}else{if(0===this.x){this._length=a,this.y=a*p(this.y)}else{if(0===this.y){this._length=a,this.x=a*p(this.x)}else{var f=Math.abs(this.y/this.x),b=Math.sqrt(Math.pow(a,2)/(1+Math.pow(f,2))),f=f*b;this._length=a;this.x=b*p(this.x);this.y=f*p(this.y)}}}return this};this.angleTo=function(a){var f=this.getLength()*a.getLength();return 0===f?0:Math.acos(Math.min(Math.max((this.x*a.x+this.y*a.y)/f,-1),1))/Math.PI}}function h(a,f){this.x=a;this.y=f;this.getVectorToCoordinates=function(a,f){return new m(a-this.x,f-this.y)};this.getVectorFromCoordinates=function(a,f){return this.getVectorToCoordinates(a,f).reverse()};this.getVectorToPoint=function(a){return new m(a.x-this.x,a.y-this.y)};this.getVectorFromPoint=function(a){return this.getVectorToPoint(a).reverse()}}function t(a,f,b,c,g){this.data=a;this.context=f;if(a.length){for(var d=a.length,j,i,e=0;e<d;e++){j=a[e];i=j.x.length;b.call(f,j);for(var h=1;h<i;h++){c.call(f,j,h)}g.call(f,j)}}this.changed=function(){};this.startStrokeFn=b;this.addToStrokeFn=c;this.endStrokeFn=g;this.inStroke=!1;this._stroke=this._lastPoint=null;this.startStroke=function(a){if(a&&"number"==typeof a.x&&"number"==typeof a.y){this._stroke={x:[a.x],y:[a.y]};this.data.push(this._stroke);this._lastPoint=a;this.inStroke=!0;var f=this._stroke,b=this.startStrokeFn,p=this.context;setTimeout(function(){b.call(p,f)},3);return a}return null};this.addToStroke=function(a){if(this.inStroke&&"number"===typeof a.x&&"number"===typeof a.y&&4<Math.abs(a.x-this._lastPoint.x)+Math.abs(a.y-this._lastPoint.y)){var f=this._stroke.x.length;this._stroke.x.push(a.x);this._stroke.y.push(a.y);this._lastPoint=a;var b=this._stroke,p=this.addToStrokeFn,c=this.context;setTimeout(function(){p.call(c,b,f)},3);return a}return null};this.endStroke=function(){var a=this.inStroke;this.inStroke=!1;this._lastPoint=null;if(a){var f=this._stroke,b=this.endStrokeFn,p=this.context,c=this.changed;setTimeout(function(){b.call(p,f);c.call(p)},3);return !0}return null}}function q(a,f,b){var c=this.$parent=$(a),a=this.eventTokens={};this.events=new u(this);var g=$.fn[e]("globalEvents"),d={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(d,s(c));f&&$.extend(d,f);this.settings=d;for(var j in b){b.hasOwnProperty(j)&&b[j].call(this,j)}this.events.publish(e+".initializing");this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(c);this.isCanvasEmulator=!1;b=this.canvas=this.initializeCanvas(d);f=$(b);this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(c);this.canvasContext=b.getContext("2d");f.data(e+".this",this);c=(c=d.lineWidth)?c:Math.max(Math.round(b.width/400),2);d.lineWidth=c;this.lineCurveThreshold=3*d.lineWidth;d.cssclass&&""!=$.trim(d.cssclass)&&f.addClass(d.cssclass);this.fatFingerCompensation=0;var c=function(a){var f,b,c=function(c){c=c.changedTouches&&0<c.changedTouches.length?c.changedTouches[0]:c;return new h(Math.round(c.pageX+f),Math.round(c.pageY+b)+a.fatFingerCompensation)},p=new z(750,function(){a.dataEngine.endStroke()});this.drawEndHandler=function(f){try{f.preventDefault()}catch(b){}p.clear();a.dataEngine.endStroke()};this.drawStartHandler=function(d){d.preventDefault();var g=$(a.canvas).offset();f=-1*g.left;b=-1*g.top;a.dataEngine.startStroke(c(d));p.kick()};this.drawMoveHandler=function(f){f.preventDefault();a.dataEngine.inStroke&&(a.dataEngine.addToStroke(c(f)),p.kick())};return this}.call({},this),i=c.drawEndHandler,k=c.drawStartHandler,l=c.drawMoveHandler,n=this.canvas,f=$(n);this.isCanvasEmulator?(f.bind("mousemove."+e,l),f.bind("mouseup."+e,i),f.bind("mousedown."+e,k)):(n.ontouchstart=function(a){n.onmousedown=void 0;n.onmouseup=void 0;n.onmousemove=void 0;this.fatFingerCompensation=d.minFatFingerCompensation&&-3*d.lineWidth>d.minFatFingerCompensation?-3*d.lineWidth:d.minFatFingerCompensation;k(a);n.ontouchend=i;n.ontouchstart=k;n.ontouchmove=l},n.onmousedown=function(a){n.ontouchstart=void 0;n.ontouchend=void 0;n.ontouchmove=void 0;k(a);n.onmousedown=k;n.onmouseup=i;n.onmousemove=l});a[e+".windowmouseup"]=g.subscribe(e+".windowmouseup",c.drawEndHandler);this.events.publish(e+".attachingEventHandlers");var r=this,a=d.width.toString(10),x=e;if("ratio"===a||"%"===a.split("")[a.length-1]){this.eventTokens[x+".parentresized"]=g.subscribe(x+".parentresized",function(a,f,b){return function(){var c=f.width();if(c!==b){for(var p in a){a.hasOwnProperty(p)&&(g.unsubscribe(a[p]),delete a[p])}var d=r.settings;r.$parent.children().remove();for(p in r){r.hasOwnProperty(p)&&delete r[p]}p=d.data;var c=1*c/b,y=[],j,i,e,k,h,n;i=0;for(e=p.length;i<e;i++){n=p[i];j={x:[],y:[]};k=0;for(h=n.x.length;k<h;k++){j.x.push(n.x[k]*c),j.y.push(n.y[k]*c)}y.push(j)}d.data=y;f[x](d)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height))}this.resetCanvas(d.data);this.events.publish(e+".initialized");return this}var e="jSignature",z=function(a,f){var b;this.kick=function(){clearTimeout(b);b=setTimeout(f,a)};this.clear=function(){clearTimeout(b)};return this},u=function(a){this.topics={};this.context=a?a:this;this.publish=function(a,b,c,d){if(this.topics[a]){var g=this.topics[a],j=Array.prototype.slice.call(arguments,1),i=[],k,e,h,n;e=0;for(h=g.length;e<h;e++){n=g[e],k=n[0],n[1]&&(n[0]=function(){},i.push(e)),k.apply(this.context,j)}e=0;for(h=i.length;e<h;e++){g.splice(i[e],1)}}};this.subscribe=function(a,b,c){this.topics[a]?this.topics[a].push([b,c]):this.topics[a]=[[b,c]];return{topic:a,callback:b}};this.unsubscribe=function(a){if(this.topics[a.topic]){for(var b=this.topics[a.topic],c=0,d=b.length;c<d;c++){b[c][0]===a.callback&&b.splice(c,1)}}}},A=function(a){var f=this.canvasContext,b=a.x[0],a=a.y[0],c=this.settings.lineWidth,d=f.fillStyle;f.fillStyle=f.strokeStyle;f.fillRect(b+c/-2,a+c/-2,c,c);f.fillStyle=d},v=function(a,f){var b=new h(a.x[f-1],a.y[f-1]),c=new h(a.x[f],a.y[f]),d=b.getVectorToPoint(c);if(1<f){var g=new h(a.x[f-2],a.y[f-2]),j=g.getVectorToPoint(b),i;if(j.getLength()>this.lineCurveThreshold){i=2<f?(new h(a.x[f-3],a.y[f-3])).getVectorToPoint(g):new m(0,0);var e=0.35*j.getLength(),k=j.angleTo(i.reverse()),n=d.angleTo(j.reverse());i=(new m(i.x+j.x,i.y+j.y)).resizeTo(Math.max(0.05,k)*e);var l=(new m(j.x+d.x,j.y+d.y)).reverse().resizeTo(Math.max(0.05,n)*e),j=this.canvasContext,e=g.x,n=g.y,k=b.x,r=b.y,x=g.x+i.x,g=g.y+i.y;i=b.x+l.x;l=b.y+l.y;j.beginPath();j.moveTo(e,n);j.bezierCurveTo(x,g,i,l,k,r);j.stroke()}}d.getLength()<=this.lineCurveThreshold&&(d=this.canvasContext,g=b.x,b=b.y,i=c.x,c=c.y,d.beginPath(),d.moveTo(g,b),d.lineTo(i,c),d.stroke())},w=function(a){var b=a.x.length-1;if(0<b){var c=new h(a.x[b],a.y[b]),d=new h(a.x[b-1],a.y[b-1]),g=d.getVectorToPoint(c);if(g.getLength()>this.lineCurveThreshold){if(1<b){var a=(new h(a.x[b-2],a.y[b-2])).getVectorToPoint(d),j=(new m(a.x+g.x,a.y+g.y)).resizeTo(g.getLength()/2),g=this.canvasContext,a=d.x,b=d.y,i=c.x,e=c.y,k=d.x+j.x,d=d.y+j.y,j=c.x,c=c.y;g.beginPath();g.moveTo(a,b);g.bezierCurveTo(k,d,j,c,i,e)}else{g=this.canvasContext,a=d.x,d=d.y,b=c.x,c=c.y,g.beginPath(),g.moveTo(a,d),g.lineTo(b,c)}g.stroke()}}};q.prototype.resetCanvas=function(a){var b=this.canvas,c=this.settings,d=this.canvasContext,g=this.isCanvasEmulator,j=b.width,i=b.height;d.clearRect(0,0,j+30,i+30);d.shadowColor=d.fillStyle=c["background-color"];g&&d.fillRect(0,0,j+30,i+30);d.lineWidth=Math.ceil(parseInt(c.lineWidth,10));d.lineCap=d.lineJoin="round";d.strokeStyle=c["decor-color"];d.shadowOffsetX=0;d.shadowOffsetY=0;var k=Math.round(i/5),n=1.5*k,h=i-k,j=j-1.5*k,i=i-k;d.beginPath();d.moveTo(n,h);d.lineTo(j,i);d.stroke();d.strokeStyle=c.color;g||(d.shadowColor=d.strokeStyle,d.shadowOffsetX=0.5*d.lineWidth,d.shadowOffsetY=-0.6*d.lineWidth,d.shadowBlur=0);a||(a=[]);d=this.dataEngine=new t(a,this,A,v,w);c.data=a;$(b).data(e+".data",a).data(e+".settings",c);var l=this.$parent,r=this.events,x=e;d.changed=function(){r.publish(x+".change");l.trigger("change")};d.changed();return !0};q.prototype.initializeCanvas=function(a){var b=document.createElement("canvas"),c=$(b);a.width===a.height&&"ratio"===a.height&&(a.width="100%");c.css("margin",0).css("padding",0).css("border","none").css("height","ratio"===a.height||!a.height?1:a.height.toString(10)).css("width","ratio"===a.width||!a.width?1:a.width.toString(10));c.appendTo(this.$parent);"ratio"===a.height?c.css("height",Math.round(c.width()/a.sizeRatio)):"ratio"===a.width&&c.css("width",Math.round(c.height()*a.sizeRatio));c.addClass(e);b.width=c.width();b.height=c.height();a=b;if(a.getContext){a=!1}else{if("undefined"!==typeof FlashCanvas){a=FlashCanvas.initElement(a),c=1,window&&(window.screen&&window.screen.deviceXDPI&&window.screen.logicalXDPI)&&(c=1*window.screen.deviceXDPI/window.screen.logicalXDPI),1!==c&&($(a).children("object").get(0).resize(Math.ceil(a.width*c),Math.ceil(a.height*c)),a.getContext("2d").scale(c,c)),a=!0}else{throw Error("Canvas element does not support 2d context. jSignature cannot proceed.")}}this.isCanvasEmulator=a;b.onselectstart=function(a){a&&a.preventDefault&&a.preventDefault();a&&a.stopPropagation&&a.stopPropagation();return !1};return b};var k=function(a,c){var b=new Image,d=this;b.onload=function(){d.getContext("2d").drawImage(b,0,0,b.width<d.width?b.width:d.width,b.height<d.height?b.height:d.height)};b.src="data:"+c+","+a},r=function(a){this.find("canvas."+e).add(this.filter("canvas."+e)).data(e+".this").resetCanvas(a);return this},b=function(a,b){if(void 0===b&&("string"===typeof a&&"data:"===a.substr(0,5))&&(b=a.slice(5).split(",")[0],a=a.slice(6+b.length),b===a)){return}var c=this.find("canvas."+e).add(this.filter("canvas."+e));if(x.hasOwnProperty(b)){0!==c.length&&x[b].call(c[0],a,b,function(a){return function(){return a.resetCanvas.apply(a,arguments)}}(c.data(e+".this")))}else{throw Error(e+" is unable to find import plugin with for format '"+String(b)+"'")}return this},d=new u,g=e,c,j=function(){d.publish(g+".parentresized")};$(window).bind("resize."+g,function(){c&&clearTimeout(c);c=setTimeout(j,500)}).bind("mouseup."+g,function(a){d.publish(g+".windowmouseup",a)});var i={},n={"default":function(){return this.toDataURL()},"native":function(a){return a},image:function(){var a=this.toDataURL();if("string"===typeof a&&4<a.length&&"data:"===a.slice(0,5)&&-1!==a.indexOf(",")){var b=a.indexOf(",");return[a.slice(5,b),a.substr(b+1)]}return[]}},x={"native":function(a,b,c){c(a)},image:k,"image/png;base64":k,"image/jpeg;base64":k,"image/jpg;base64":k},l={"export":n,"import":x,instance:i},B={init:function(a){return this.each(function(){var b,c=!1;for(b=this.parentNode;b&&!c;){c=b.body,b=b.parentNode}!c||new q(this,a,i)})},getSettings:function(){return this.find("canvas."+e).add(this.filter("canvas."+e)).data(e+".this").settings},clear:r,reset:r,addPlugin:function(a,b,c){l.hasOwnProperty(a)&&(l[a][b]=c);return this},listPlugins:function(a){var b=[];if(l.hasOwnProperty(a)){var a=l[a],c;for(c in a){a.hasOwnProperty(c)&&b.push(c)}}return b},getData:function(a){var b=this.find("canvas."+e).add(this.filter("canvas."+e));void 0===a&&(a="default");if(0!==b.length&&n.hasOwnProperty(a)){return n[a].call(b.get(0),b.data(e+".data"))}},importData:b,setData:b,globalEvents:function(){return d},events:function(){return this.find("canvas."+e).add(this.filter("canvas."+e)).data(e+".this").events}};$.fn[e]=function(a){if(!a||"object"===typeof a){return B.init.apply(this,arguments)}if("string"===typeof a&&B[a]){return B[a].apply(this,Array.prototype.slice.call(arguments,1))}$.error("Method "+String(a)+" does not exist on jQuery."+e)}})();(function(){$.fn.jSignature("addPlugin","instance","UndoButton",function(s){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[s]){var m=this.settings[s];"function"!==typeof m&&(m=function(){var e=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),h=e.width();e.css("left",Math.round((this.canvas.width-h)/2));h!==e.width()&&e.width(h);return e});var h=m.call(this),t=this;t.events.subscribe("jSignature.change",function(){t.dataEngine.data.length?h.show():h.hide()});var q=this,e=(this.events.topics.hasOwnProperty("jSignature.undo")?s:"jSignature")+".undo";h.bind("click",function(){q.events.publish(e)});q.events.subscribe(e,function(){var e=q.dataEngine.data;e.length&&(e.pop(),q.resetCanvas(e))})}})})})();(function(){for(var s={},m={},h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),t=h.length/2,q=t-1;-1<q;q--){s[h[q]]=h[q+t],m[h[q+t]]=h[q]}var e=function(e){for(var e=e.split(""),h=e.length,b=1;b<h;b++){e[b]=s[e[b]]}return e.join("")},z=function(h){for(var r=[],b=0,d=1,g=h.length,c,j,i=0;i<g;i++){c=Math.round(h[i]),j=c-b,b=c,0>j&&0<d?(d=-1,r.push("Z")):0<j&&0>d&&(d=1,r.push("Y")),c=Math.abs(j),c>=t?r.push(e(c.toString(t))):r.push(c.toString(t))}return r.join("")},u=function(e){for(var h=[],e=e.split(""),b=e.length,d,g=1,c=[],j=0,i=0;i<b;i++){d=e[i],d in s||"Z"===d||"Y"===d?(0!==c.length&&(c=parseInt(c.join(""),t)*g+j,h.push(c),j=c),"Z"===d?(g=-1,c=[]):"Y"===d?(g=1,c=[]):c=[d]):c.push(m[d])}h.push(parseInt(c.join(""),t)*g+j);return h},A=function(e){for(var h=[],b=e.length,d,g=0;g<b;g++){d=e[g],h.push(z(d.x)),h.push(z(d.y))}return h.join("_")},v=function(e){for(var h=[],e=e.split("_"),b=e.length/2,d=0;d<b;d++){h.push({x:u(e[2*d]),y:u(e[2*d+1])})}return h},h=function(e){return["image/jsignature;base30",A(e)]},q=function(e,h,b){"string"===typeof e&&("image/jsignature;base30"===e.substring(0,23).toLowerCase()&&(e=e.substring(24)),b(v(e)))};if(null==this.jQuery){throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...")}var w=this.jQuery.fn.jSignature;w("addPlugin","export","base30",h);w("addPlugin","export","image/jsignature;base30",h);w("addPlugin","import","base30",q);w("addPlugin","import","image/jsignature;base30",q);this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:e,compressstrokeleg:z,uncompressstrokeleg:u,compressstrokes:A,uncompressstrokes:v,charmap:s})}).call("undefined"!==typeof window?window:this);(function(){function s(b,d){this.x=b;this.y=d;this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)};this._length=null;this.getLength=function(){this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)));return this._length};var g=function(b){return Math.round(b/Math.abs(b))};this.resizeTo=function(b){if(0===this.x&&0===this.y){this._length=0}else{if(0===this.x){this._length=b,this.y=b*g(this.y)}else{if(0===this.y){this._length=b,this.x=b*g(this.x)}else{var d=Math.abs(this.y/this.x),e=Math.sqrt(Math.pow(b,2)/(1+Math.pow(d,2))),d=d*e;this._length=b;this.x=e*g(this.x);this.y=d*g(this.y)}}}return this};this.angleTo=function(b){var d=this.getLength()*b.getLength();return 0===d?0:Math.acos(Math.min(Math.max((this.x*b.x+this.y*b.y)/d,-1),1))/Math.PI}}function m(b,d){this.x=b;this.y=d;this.getVectorToCoordinates=function(b,c){return new s(b-this.x,c-this.y)};this.getVectorFromCoordinates=function(b,c){return this.getVectorToCoordinates(b,c).reverse()};this.getVectorToPoint=function(b){return new s(b.x-this.x,b.y-this.y)};this.getVectorFromPoint=function(b){return this.getVectorToPoint(b).reverse()}}function h(b,d){var g=Math.pow(10,d);return Math.round(b*g)/g}function t(b,d,g){var d=d+1,c=new m(b.x[d-1],b.y[d-1]),e=new m(b.x[d],b.y[d]),e=c.getVectorToPoint(e),i=new m(b.x[d-2],b.y[d-2]),c=i.getVectorToPoint(c);return c.getLength()>g?(g=2<d?(new m(b.x[d-3],b.y[d-3])).getVectorToPoint(i):new s(0,0),b=0.35*c.getLength(),i=c.angleTo(g.reverse()),d=e.angleTo(c.reverse()),g=(new s(g.x+c.x,g.y+c.y)).resizeTo(Math.max(0.05,i)*b),e=(new s(c.x+e.x,c.y+e.y)).reverse().resizeTo(Math.max(0.05,d)*b),e=new s(c.x+e.x,c.y+e.y),["c",h(g.x,2),h(g.y,2),h(e.x,2),h(e.y,2),h(c.x,2),h(c.y,2)]):["l",h(c.x,2),h(c.y,2)]}function q(b,d){var g=b.x.length-1,c=new m(b.x[g],b.y[g]),e=new m(b.x[g-1],b.y[g-1]),c=e.getVectorToPoint(c);if(1<g&&c.getLength()>d){var g=(new m(b.x[g-2],b.y[g-2])).getVectorToPoint(e),e=c.angleTo(g.reverse()),i=0.35*c.getLength(),g=(new s(g.x+c.x,g.y+c.y)).resizeTo(Math.max(0.05,e)*i);return["c",h(g.x,2),h(g.y,2),h(c.x,2),h(c.y,2),h(c.x,2),h(c.y,2)]}return["l",h(c.x,2),h(c.y,2)]}function e(b,d,e){for(var d=["M",h(b.x[0]-d,2),h(b.y[0]-e,2)],e=1,c=b.x.length-1;e<c;e++){d.push.apply(d,t(b,e,1))}0<c?d.push.apply(d,q(b,e,1)):0===c&&d.push.apply(d,["l",1,1]);return d.join(" ")}function z(b){var d=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],g,c=b.length,j,i=[],h=[],k=j=g=0,l=0,m=[];if(0!==c){for(g=0;g<c;g++){k=b[g];l=[];j={x:[],y:[]};for(var a=void 0,f=void 0,a=0,f=k.x.length;a<f;a++){l.push({x:k.x[a],y:k.y[a]})}l=simplify(l,0.7,!0);a=0;for(f=l.length;a<f;a++){j.x.push(l[a].x),j.y.push(l[a].y)}m.push(j);i=i.concat(j.x);h=h.concat(j.y)}b=Math.min.apply(null,i)-1;c=Math.max.apply(null,i)+1;i=Math.min.apply(null,h)-1;h=Math.max.apply(null,h)+1;k=0>b?0:b;l=0>i?0:i;g=c-b;j=h-i}d.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+g.toString()+'" height="'+j.toString()+'">');g=0;for(c=m.length;g<c;g++){j=m[g],d.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+e(j,k,l)+'"/>')}d.push("</svg>");return d.join("")}function u(b){return[k,z(b)]}function A(b){return[r,w(z(b))]}var v=window;"use strict";("undefined"!=typeof exports?exports:v).simplify=function(b,d,e){d=void 0!==d?d*d:1;if(!e){for(var c=b.length,j,i=b[0],h=[i],e=1;e<c;e++){j=b[e];var k=j.x-i.x,l=j.y-i.y;k*k+l*l>d&&(h.push(j),i=j)}b=(i!==j&&h.push(j),h)}j=b;var e=j.length,c=new ("undefined"!=typeof Uint8Array?Uint8Array:Array)(e),i=0,h=e-1,m,a,f=[],p=[],r=[];for(c[i]=c[h]=1;h;){l=0;for(k=i+1;k<h;k++){m=j[k];var q=j[i],s=j[h],t=q.x,v=q.y,q=s.x-t,u=s.y-v,w=void 0;if(0!==q||0!==u){w=((m.x-t)*q+(m.y-v)*u)/(q*q+u*u),1<w?(t=s.x,v=s.y):0<w&&(t+=q*w,v+=u*w)}m=(q=m.x-t,u=m.y-v,q*q+u*u);m>l&&(a=k,l=m)}l>d&&(c[a]=1,f.push(i),p.push(a),f.push(a),p.push(h));i=f.pop();h=p.pop()}for(k=0;k<e;k++){c[k]&&r.push(j[k])}return b=r,b};if("function"!==typeof w){var w=function(b){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),e,c,h,i,k=0,m=0,l="",l=[];do{e=b.charCodeAt(k++),c=b.charCodeAt(k++),h=b.charCodeAt(k++),i=e<<16|c<<8|h,e=i>>18&63,c=i>>12&63,h=i>>6&63,i&=63,l[m++]=d[e]+d[c]+d[h]+d[i]}while(k<b.length);l=l.join("");b=b.length%3;return(b?l.slice(0,b-3):l)+"===".slice(b||3)}}var k="image/svg+xml",r="image/svg+xml;base64";if("undefined"===typeof $){throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...")}v=$.fn.jSignature;v("addPlugin","export","svg",u);v("addPlugin","export",k,u);v("addPlugin","export","svgbase64",A);v("addPlugin","export",r,A)})();(function(){var AccountsSelector,PremiumApplication;PremiumApplication=(function(){function PremiumApplication(_application){this._application=_application;this._form=this._application.find(".premium-application-form");this._textInputFields=this._form.find("input[type=text]");this._employmentStatus=this._form.find("input[name='user_detailed_info[employment_status]']");this._employmentFields=this._form.find(".employment-fields");this._submit=this._form.find(".submit");this._previewField=this._form.find("input[name='view_pdf']");this._previewSubmit=this._form.find(".preview-submit");this._previewIframe=this._form.find(".pdf-iframe");this._previewSpinner=this._form.find(".preview-spinner");this._successUrl=this._form.data("success-url");this._errorContainer=this._application.find(".alert-error");this._errorList=this._errorContainer.find("ul");this._spinner=this._application.find(".spinner");this._spinnerColor=this._spinner.css("color");this._spinnerLength=Math.round(this._spinner.width()/2);this._spinnerWidth=Math.round(this._spinnerLength/2);this._signatureCanvas=this._form.find(".signature-canvas");this._signatureField=this._form.find(".signature-field");this._mAddressCheck=this._form.find("input[id='user_detailed_info_different_mailing_address']");this._mAddressDiv=this._form.find(".mailing-address");this._schwabValidation=this._application.find(".schwab-validation");this._initializeAccountsSelector();this._bindFormEvents();this._bindTextInputEvents();this._bindEmploymentStatusEvents();this._bindMailingAddressEvents();this._displayEmploymentFields();this._displaySignatureCanvas();this._enableForm()}PremiumApplication.prototype._initializeAccountsSelector=function(){return this.accountSelectionUpdated(new AccountsSelector(this._application.find(".accounts-selector"),this))};PremiumApplication.prototype._bindFormEvents=function(){var _this=this;this._form.submit(function(event){event.preventDefault();_this._disableForm();return _this._submitForm(false)});return this._previewSubmit.click(function(event){event.preventDefault();_this._previewSpinner.show();return _this._submitForm(true)})};PremiumApplication.prototype._bindTextInputEvents=function(){var named_change_event,_this=this;named_change_event="change.trackFormStart";return this._textInputFields.on(named_change_event,function(event){FutureAdvisor.Tracking.ServerSide.trackEvent("premium_application_started");return _this._textInputFields.off(named_change_event)})};PremiumApplication.prototype._submitForm=function(preview){var _this=this;this._previewField.val(preview);this._clearErrors();this._signatureField.val(this._signatureCanvas.jSignature("getData","svgbase64"));return this._form.submitUpdateWithAjax((function(data){if(data.result){if(preview){_this._previewIframe.attr("src",_this._previewSubmit.attr("href"))}else{window.location=_this._successUrl}}else{_this._setErrors(data.errors);_this._enableForm()}return _this._previewSpinner.hide()}),"json","POST")};PremiumApplication.prototype._bindEmploymentStatusEvents=function(){var _this=this;return this._employmentStatus.change(function(){return _this._displayEmploymentFields()})};PremiumApplication.prototype._displayEmploymentFields=function(){var checkedEmploymentStatus;checkedEmploymentStatus=this._form.find("input[name='user_detailed_info[employment_status]']:checked");if(checkedEmploymentStatus.val()==="UNEMPLOYED"){this._employmentFields.hide()}else{this._employmentFields.show()}return this.updateView()};PremiumApplication.prototype._bindMailingAddressEvents=function(){var _this=this;return this._mAddressCheck.click(function(){_this._mAddressDiv.toggle();return _this.updateView()})};PremiumApplication.prototype._enableForm=function(){this._spinner.stopSpinner();this._spinner.hide();return this._submit.removeAttr("disabled")};PremiumApplication.prototype._disableForm=function(){this._spinner.show();this._spinner.waitSpinner({color:this._spinnerColor,length:this._spinnerLength,width:this._spinnerWidth});return this._submit.attr("disabled","disabled")};PremiumApplication.prototype._setErrors=function(errors){var error,_i,_len;for(_i=0,_len=errors.length;_i<_len;_i++){error=errors[_i];this._errorList.append($(document.createElement("li")).text(error))}this._errorContainer.show();return this.updateView()};PremiumApplication.prototype._clearErrors=function(){this._errorList.empty();this._errorContainer.hide();return this.updateView()};PremiumApplication.prototype._displaySignatureCanvas=function(){return this._signatureCanvas.jSignature({width:this._signatureCanvas.width(),UndoButton:true})};PremiumApplication.prototype.updateView=function(){return FutureAdvisor.Page.triggerCallbacksOnUpdate()};PremiumApplication.prototype.accountSelectionUpdated=function(accountsSelector){if(accountsSelector.anySelectedHasLabel("charles_schwab")||accountsSelector.anySelectedHasLabel("other")){this._schwabValidation.show()}else{this._schwabValidation.hide()}return this.updateView()};return PremiumApplication})();AccountsSelector=(function(){function AccountsSelector(_accountsSelector,_application){this._accountsSelector=_accountsSelector;this._application=_application;this._checkboxes=this._accountsSelector.find(".account-selector input[type=checkbox]");this._collapsibles=this._accountsSelector.find(".collapse");this._appliedAccounts=this._accountsSelector.find(".premium-applied-accounts");this._excludedAccounts=this._accountsSelector.find(".premium-excluded-accounts");this._bindCheckboxEvents();this._bindCollapseEvents()}AccountsSelector.prototype._bindCheckboxEvents=function(){var _this=this;return this._checkboxes.click(function(event){var account,checkbox;checkbox=$(event.delegateTarget);account=checkbox.parents(".account-container");if(checkbox.is(":checked")){return _this._moveAccount(account,_this._excludedAccounts,_this._appliedAccounts)}else{return _this._moveAccount(account,_this._appliedAccounts,_this._excludedAccounts)}})};AccountsSelector.prototype._bindCollapseEvents=function(){var collapseCallback,_this=this;collapseCallback=function(){return _this._application.updateView()};this._collapsibles.on("shown",collapseCallback);return this._collapsibles.on("hidden",collapseCallback)};AccountsSelector.prototype._moveAccount=function(account,fromSection,toSection){var _this=this;if(fromSection.find(".account-container").length===1){return fromSection.fadeOut(function(){account.hide();return _this._insertAccount(account,toSection)})}else{return account.fadeOut(function(){return _this._insertAccount(account,toSection)})}};AccountsSelector.prototype._insertAccount=function(accountToInsert,section){var account,index,indexToInsert,inserted,_i,_len,_ref;inserted=false;indexToInsert=accountToInsert.data("index");_ref=section.find(".account-container");for(_i=0,_len=_ref.length;_i<_len;_i++){account=_ref[_i];account=$(account);index=account.data("index");if(!(index!=null)||index>indexToInsert){accountToInsert.insertBefore(account);inserted=true;break}}if(!inserted){section.find(".account-group-container").append(accountToInsert)}if(section.is(":visible")){accountToInsert.fadeIn()}else{accountToInsert.show();section.fadeIn()}return this._application.accountSelectionUpdated(this)};AccountsSelector.prototype.allSelectedHasLabel=function(brokerageLabel){var checkbox,_i,_len,_ref;_ref=this._checkboxes;for(_i=0,_len=_ref.length;_i<_len;_i++){checkbox=_ref[_i];checkbox=$(checkbox);if(checkbox.is(":checked")&&checkbox.data("brokerage-label")!==brokerageLabel){return false}}return true};AccountsSelector.prototype.anySelectedHasLabel=function(brokerageLabel){var checkbox,_i,_len,_ref;_ref=this._checkboxes;for(_i=0,_len=_ref.length;_i<_len;_i++){checkbox=_ref[_i];checkbox=$(checkbox);if(checkbox.is(":checked")&&checkbox.data("brokerage-label")===brokerageLabel){return true}}return false};AccountsSelector.prototype.noneSelectedHasLabel=function(brokerageLabel){return !this.anySelectedHasLabel(brokerageLabel)};return AccountsSelector})();$(function(){$.fn.initializePremiumApplication=function(){return new PremiumApplication(this)};return $(".premium-application").each(function(){return $(this).initializePremiumApplication()})})}).call(this);(function(){var PastPerformanceChart;PastPerformanceChart=(function(){function PastPerformanceChart(elem){var _this=this;this.elem=elem;this.premium=this.elem.data("rec");this.current=this.elem.data("user");this.startDate=new Date(this.elem.data("start-date"));this.margin={top:0,right:0,bottom:60,left:40};this.width=this.elem.data("width")-this.margin.right-this.margin.left;this.height=this.elem.data("height")-this.margin.top-this.margin.bottom;this.x=d3.time.scale().range([0,this.width]);this.y=d3.scale.linear().range([this.height,0]);this._percentFormatter=d3.format(".0%");this._axisTimeFormatter=d3.time.format("%Y");this._timeFormatter=d3.time.format("%m/%d/%Y");this.xAxis=d3.svg.axis().scale(this.x).ticks(5).tickSubdivide(2).orient("bottom").tickFormat(this._axisTimeFormatter);this.yAxis=d3.svg.axis().scale(this.y).orient("left").ticks(2).tickSubdivide(1).tickFormat(this._percentFormatter);this.line=d3.svg.line().interpolate("basis").x(function(d){return _this.x(d.date)}).y(function(d){return _this.y(d.assets)});this.area=d3.svg.area().x(function(d){return _this.x(d.date)}).y0(this.height-1).y1(function(d){return _this.y(d.assets)});this._setData();this._initialRendering();this._drawLegend()}PastPerformanceChart.prototype._drawLegend=function(){this._plotControl=this.svg.append("g").attr("class","plot-control-container");this._premiumPlotControl=this._plotControl.append("g");this._premiumPlotControl.append("rect").attr("class","plot-control premium").attr("x",120).attr("y",this.height+this.margin.bottom-30).attr("width",20).attr("height",20);this._premiumPlotControl.append("text").attr("class","plot-control-text").attr("x",145).attr("y",this.height+this.margin.bottom-15).text("Target");this._currentPlotControl=this._plotControl.append("g");this._currentPlotControl.append("rect").attr("class","plot-control current").attr("x",220).attr("y",this.height+this.margin.bottom-30).attr("width",20).attr("height",20);this._currentPlotControl.append("text").attr("class","plot-control-text").attr("x",245).attr("y",this.height+this.margin.bottom-15).text("Current")};PastPerformanceChart.prototype._processAccounts=function(){var _this=this;return this.processed_data=d3.keys(this.data).filter(this._keyFilter).map(function(name){return{name:_this._name(name),values:_this.data[name].map(function(d){return{date:d.date,assets:d.assets,key:""+name+"-"+d.date+"-"+d.assets}})}})};PastPerformanceChart.prototype._initialRendering=function(){var _this=this;this._processAccounts();this.svg=d3.select(this.elem[0]).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+", "+this.margin.top+")");this.x.domain(d3.extent(this.data.premium,function(d){return d.date}));this.y.domain([d3.min(this.processed_data,function(c){return d3.min(c.values,function(v){return v.assets})}),d3.max(this.processed_data,function(c){return d3.max(c.values,function(v){return v.assets})})]);this.performance=this.svg.selectAll(".performance").data(this.processed_data).enter().append("g").attr("class","performance");this.performance.append("path").attr("class",function(d){return"line "+(d.name==="Your Target"?"premium":"current")}).attr("d",function(d){if(d.name==="Your Target"){return _this.area(d.values)}else{return _this.line(d.values)}});this._createBlankHover();this.hoverTriggers=this.svg.append("g").attr("class",".hover-triggers");this.hoverTriggers.selectAll(".current-data-point").data(this.data.current).enter().append("rect").attr("class","current-data-point").attr("x",function(d){return _this.x(d.date)-4}).attr("y",function(d){return 0}).attr("width",15).attr("height",this.height).on("mouseover",function(d,i){return _this._redrawHover(d,i)}).on("mouseout",function(){return _this._removeHover()});this.svg.append("g").attr("class","x axis").attr("transform","translate(0, "+this.height+")").call(this.xAxis);this.svg.append("g").attr("class","y axis").attr("tranform","translate(0, "+this.width+")").call(this.yAxis);this.svg.append("g").attr("class","axis").append("rect").attr("x",0).attr("y",-0.5).attr("width",this.width).attr("height",1);this.svg.append("g").attr("class","axis").append("rect").attr("x",this.width-1).attr("y",0).attr("width",1).attr("height",this.height)};PastPerformanceChart.prototype._createBlankHover=function(){return this.hover=this.svg.append("g").attr("class","hover")};PastPerformanceChart.prototype._removeHover=function(){this.hover.remove();return this._createBlankHover()};PastPerformanceChart.prototype._redrawHover=function(d,i){var data,_this=this;this._removeHover();data=[this.data.premium[i],this.data.current[i]];this.hover.datum(d);this.hover.append("rect").attr("class","hover-crosshair").attr("x",function(d){return _this.x(d.date)}).attr("y",0).attr("width",1).attr("height",this.height);this.hover.selectAll(".hover-circle").data(data).enter().append("circle").attr("class",function(d){return"hover-circle"+(d.name==="Your Target"?" premium":void 0)}).attr("r",3).attr("cx",function(d){return _this.x(d.date)}).attr("cy",function(d){return _this.y(d.assets)});this.hover.append("rect").attr("class","hover-text-container").attr("x",function(d){if(_this.x(d.date)<200){return _this.x(d.date)+5}else{return _this.x(d.date)-200}}).attr("y",10).attr("width",195).attr("height",60).attr("rx",5).attr("ry",5);this.hover.append("text").attr("class","hover-date-text").text(function(d){return _this._timeFormatter(d.date)}).attr("x",function(d){if(_this.x(d.date)<200){return _this.x(d.date)+15}else{return _this.x(d.date)-190}}).attr("y",25);return this.hover.selectAll(".hover-text").data(data).enter().append("text").attr("class","hover-text").text(function(d){return""+d.name+": "+(_this._percentFormatter(d.assets))}).attr("x",function(d){if(_this.x(d.date)<200){return _this.x(d.date)+15}else{return _this.x(d.date)-190}}).attr("y",function(d,i){return(i*20)+45}).attr("width",95)};PastPerformanceChart.prototype._setData=function(){var date,i,_i,_ref;this.data={premium:[],current:[]};date=this.startDate;for(i=_i=0,_ref=this.premium.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){date=new Date(date);date.setMonth(date.getMonth()+1);this.data.current.push({date:date,assets:this.current[i],name:"Your Current"});this.data.premium.push({date:date,assets:this.premium[i],name:"Your Target"})}};PastPerformanceChart.prototype._color=function(name){if(name===this._name("premium")){return"#AECDE6"}else{return"black"}};PastPerformanceChart.prototype._name=function(key){if(key==="premium"){return"Your Target"}else{if(key==="current"){return"Your Current"}}};PastPerformanceChart.prototype._keyFilter=function(key){return key!=="date"};return PastPerformanceChart})();$(function(){return $.fn.initializePastPerformanceChart=function(){return new PastPerformanceChart($(this))}})}).call(this);(function(){var PerformanceChartsSection,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key)){child[key]=parent[key]}}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child};PerformanceChartsSection=(function(_super){__extends(PerformanceChartsSection,_super);function PerformanceChartsSection(section){PerformanceChartsSection.__super__.constructor.call(this,section);this._pastPerformanceChart=section.find(".past-performance-chart");this._futurePerformanceChart=section.find(".future-performance-chart");this._futurePerformanceControls=section.find(".future-performance-controls");this._pastPerformanceChart.each(function(){return $(this).initializePastPerformanceChart()});this._futurePerformanceChart.each(function(){return $(this).initializeFuturePerformanceChart()});this._futurePerformanceControls.each(function(){return $(this).initializeFuturePerformanceControls(this._futurePerformanceChart)});this._initializePerformanceCarousel()}PerformanceChartsSection.prototype._initializePerformanceCarousel=function(){this.section.carousel({interval:false})};return PerformanceChartsSection})(FutureAdvisor.Page.ReplaceableSection);$(function(){return $.fn.initializePerformanceSection=function(){return new PerformanceChartsSection(this)}})}).call(this);(function(){$(function(){if($("#ie-detector").length>0){$("body").addClass("ie-8")}$("#performance-charts-container").each(function(){return $(this).initializePerformanceSection()});return $("#why-schwab").on("shown",function(){return FutureAdvisor.Tracking.ServerSide.incrementCounter("why_schwab")})})}).call(this);